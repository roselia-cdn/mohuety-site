(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fire-bird"],{"02f0":function(e,t,i){},"03a5":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("div",[i("h2",{staticClass:"flex text--secondary"},[e._v("Nickname")]),i("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{name:"nickname",label:"Nickname",type:"text",rules:e.rules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeNickname(t)}},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.valid},on:{click:e.changeNickname}},[i("v-icon",[e._v("check")])],1)],1)],1),i("div",[i("h2",{staticClass:"flex text--secondary"},[e._v("Motto")]),i("v-form",{on:{submit:function(e){e.preventDefault()}}},[i("v-text-field",{attrs:{name:"motto",label:"Motto",type:"text",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeMotto(t)}},model:{value:e.motto,callback:function(t){e.motto=t},expression:"motto"}})],1),i("v-card-actions",[i("v-spacer"),e.motto?i("v-btn",{attrs:{color:"primary",loading:e.loading},on:{click:e.changeMotto}},[i("v-icon",[e._v("check")])],1):i("v-btn",{attrs:{color:"error",loading:e.loading},on:{click:e.changeMotto}},[i("v-icon",[e._v("remove_circle")])],1)],1)],1),i("div",[i("h2",{staticClass:"flex text--secondary"},[e._v("Avatar")]),i("v-form",{ref:"formA",on:{submit:function(e){e.preventDefault()}},model:{value:e.avatarValid,callback:function(t){e.avatarValid=t},expression:"avatarValid"}},[i("v-text-field",{attrs:{name:"avatar",label:"Avatar Image URL",type:"text",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeAvatar(!1)}},model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}})],1),i("v-card-actions",[e.avatar?i("div",[i("v-avatar",{staticClass:"elevation-7",attrs:{size:"64px"}},[i("img",{attrs:{src:e.avatar},on:{load:function(t){e.avatarValid=!0}}})]),i("br"),i("br")],1):i("v-btn",{attrs:{color:"error",loading:e.loading},on:{click:function(t){return e.changeAvatar(!0)}}},[i("v-icon",[e._v("remove_circle")])],1),i("v-spacer"),i("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.avatar||!e.avatarValid},on:{click:e.changeAvatar}},[i("v-icon",[e._v("check")])],1)],1)],1),i("div",[i("h2",{staticClass:"flex text--secondary"},[e._v("Banner Image")]),i("v-form",[i("v-text-field",{attrs:{name:"banner",label:"Banner Image URL",type:"text",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeBanner(!1)}},model:{value:e.banner,callback:function(t){e.banner=t},expression:"banner"}})],1),i("div",[e.banner?i("v-img",{attrs:{src:e.banner},on:{load:function(t){e.bannerValid=!0}}}):i("v-btn",{attrs:{color:"error",loading:e.loading},on:{click:function(t){return e.changeBanner(!0)}}},[i("v-icon",[e._v("remove_circle")])],1),i("v-spacer"),i("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.banner||!e.bannerValid},on:{click:e.changeBanner}},[i("v-icon",[e._v("check")])],1)],1)],1)])},r=[],o=(i("d3b7"),i("5530")),a=i("ade3"),s=i("90b9"),l={name:"remote-login",props:["userData","toast"],data:function(){return{nickname:"",avatar:"",banner:"",motto:"",loading:!1,rules:[function(e){return!!e||"Required"}],valid:!1,avatarValid:!1,bannerValid:!1}},methods:{performChangeUserMeta:function(e,t){var i=this;return this.loading=!0,s["a"].fetchJSONWithSuccess(s["a"].apiFor("user","change-meta"),"POST",{changes:Object(a["a"])({},e,t)}).then((function(e){return i.loading=!1,e})).catch((function(e){return i.loading=!1,Promise.reject(e)}))},changeNickname:function(){var e=this;if(this.valid)return this.loading=!0,this.changeInfo("nickname",this.nickname).then((function(t){e.userData.nickname=e.nickname,s["a"].updateLoginData((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{nickname:e.nickname})})),e.nickname=""}))},changeMotto:function(){return this.changeInfo("motto",this.motto)},changeAvatar:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||this.avatarValid&&this.avatar)return this.changeInfo("avatar",this.avatar).then((function(t){e.avatar=""}))},changeBanner:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||this.bannerValid&&this.banner)return this.changeInfo("banner",this.banner).then((function(t){e.banner=""}))},changeInfo:function(e,t){var i=this;return this.loading=!0,s["a"].fetchJSONWithSuccess(s["a"].apiFor("user","change-meta"),"POST",{changes:Object(a["a"])({},e,t)}).then((function(t){return i.toast("Your ".concat(e," has changed!"),"success"),i.loading=!1,t})).catch((function(e){return i.loading=!1,i.toast("Emmm... Something is strange","error"),Promise.reject(e)}))},getUserMeta:function(){var e=this;this.loading=!0,s["a"].fetchJSONWithSuccess(s["a"].apiFor("user","user-meta"),"GET",{username:this.userData.username}).then((function(t){e.loading=!1,e.nickname=t.nickname,e.avatar=t.avatar,e.banner=t.banner||"",e.motto=t.motto||""})).catch((function(t){e.loading=!1,e.toast(t,"error")}))}},watch:{avatar:function(){this.avatarValid=!1},banner:function(){this.bannerValid=!1}},mounted:function(){this.getUserMeta()}},c=l,u=i("2877"),h=i("6544"),d=i.n(h),p=i("8212"),f=i("8336"),m=i("99d9"),g=i("a523"),v=i("4bd4"),y=i("132d"),b=i("adda"),x=i("2fa4"),w=i("8654"),k=Object(u["a"])(c,n,r,!1,null,"130b2f96",null);t["default"]=k.exports;d()(k,{VAvatar:p["a"],VBtn:f["a"],VCardActions:m["a"],VContainer:g["a"],VForm:v["a"],VIcon:y["a"],VImg:b["a"],VSpacer:x["a"],VTextField:w["a"]})},"090c":function(e,t,i){"use strict";var n=i("bff8"),r=i.n(n);r.a},"0bc6":function(e,t,i){},"0e8f":function(e,t,i){"use strict";i("20f6");var n=i("e8f2");t["a"]=Object(n["a"])("flex")},1148:function(e,t,i){"use strict";var n=i("a691"),r=i("1d80");e.exports="".repeat||function(e){var t=String(r(this)),i="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(i+=t);return i}},"150d":function(e,t,i){},"1c58":function(e,t,i){},"1ef7":function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;function r(e,i){var n=i.line,r=0,o=0,a=t.exec(e.getLine(n)),s=a[1];do{r+=1;var l=n+r,c=e.getLine(l),u=t.exec(c);if(u){var h=u[1],d=parseInt(a[3],10)+r-o,p=parseInt(u[3],10),f=p;if(s!==h||isNaN(p)){if(s.length>h.length)return;if(s.length<h.length&&1===r)return;o+=1}else d===p&&(f=p+1),d>p&&(f=d+1),e.replaceRange(c.replace(t,h+f+u[4]+u[5]),{line:l,ch:0},{line:l,ch:c.length})}}while(u)}e.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return e.Pass;for(var a=o.listSelections(),s=[],l=0;l<a.length;l++){var c=a[l].head,u=o.getStateAfter(c.line),h=e.innerMode(o.getMode(),u);if("markdown"!==h.mode.name)return void o.execCommand("newlineAndIndent");u=h.state;var d=!1!==u.list,p=0!==u.quote,f=o.getLine(c.line),m=t.exec(f),g=/^\s*$/.test(f.slice(0,c.ch));if(!a[l].empty()||!d&&!p||!m||g)return void o.execCommand("newlineAndIndent");if(i.test(f)){var v=p&&/>\s*$/.test(f),y=!/>\s*$/.test(f);(v||y)&&o.replaceRange("",{line:c.line,ch:0},{line:c.line,ch:c.ch+1}),s[l]="\n"}else{var b=m[1],x=m[5],w=!(n.test(m[2])||m[2].indexOf(">")>=0),k=w?parseInt(m[3],10)+1+m[4]:m[2].replace("x"," ");s[l]="\n"+b+k+x,w&&r(o,c)}}o.replaceSelections(s)}}))},2:function(e,t){},2102:function(e,t,i){},"23b9":function(e,t,i){(function(t,i){e.exports=i()})(0,(function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}var n=i((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}function i(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:i}})),r=(n.defaults,n.getDefaults,n.changeDefaults,/[&<>"']/),o=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(e){return l[e]};function u(e,t){if(t){if(r.test(e))return e.replace(o,c)}else if(a.test(e))return e.replace(s,c);return e}var h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function d(e){return e.replace(h,(function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var p=/(^|[^\[])\^/g;function f(e,t){e=e.source||e,t=t||"";var i={replace:function(t,n){return n=n.source||n,n=n.replace(p,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i}var m=/[^\w:]/g,g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v(e,t,i){if(e){var n;try{n=decodeURIComponent(d(i)).replace(m,"").toLowerCase()}catch(r){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!g.test(i)&&(i=k(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(r){return null}return i}var y={},b=/^[^:]+:\/*[^/]*$/,x=/^([^:]+:)[\s\S]*$/,w=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k(e,t){y[" "+e]||(b.test(e)?y[" "+e]=e+"/":y[" "+e]=D(e,"/",!0)),e=y[" "+e];var i=-1===e.indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(x,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(w,"$1")+t:e+t}var C={exec:function(){}};function S(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function T(e,t){var i=e.replace(/\|/g,(function(e,t,i){var n=!1,r=t;while(--r>=0&&"\\"===i[r])n=!n;return n?"|":" |"})),n=i.split(/ \|/),r=0;if(n.length>t)n.splice(t);else while(n.length<t)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function D(e,t,i){var n=e.length;if(0===n)return"";var r=0;while(r<n){var o=e.charAt(n-r-1);if(o!==t||i){if(o===t||!i)break;r++}else r++}return e.substr(0,n-r)}function A(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,r=0;r<i;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}function E(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}var I={escape:u,unescape:d,edit:f,cleanUrl:v,resolveUrl:k,noopTest:C,merge:S,splitCells:T,rtrim:D,findClosingBracket:A,checkSanitizeDeprecation:E},L=I.noopTest,M=I.edit,O=I.merge,_={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:L,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};_.def=M(_.def).replace("label",_._label).replace("title",_._title).getRegex(),_.bullet=/(?:[*+-]|\d{1,9}\.)/,_.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,_.item=M(_.item,"gm").replace(/bull/g,_.bullet).getRegex(),_.list=M(_.list).replace(/bull/g,_.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_.def.source+")").getRegex(),_._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_._comment=/<!--(?!-?>)[\s\S]*?-->/,_.html=M(_.html,"i").replace("comment",_._comment).replace("tag",_._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_.paragraph=M(_._paragraph).replace("hr",_.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",_._tag).getRegex(),_.blockquote=M(_.blockquote).replace("paragraph",_.paragraph).getRegex(),_.normal=O({},_),_.gfm=O({},_.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),_.gfm.nptable=M(_.gfm.nptable).replace("hr",_.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",_._tag).getRegex(),_.gfm.table=M(_.gfm.table).replace("hr",_.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",_._tag).getRegex(),_.pedantic=O({},_.normal,{html:M("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",_._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:L,paragraph:M(_.normal._paragraph).replace("hr",_.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",_.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var P={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};P.em=M(P.em).replace(/punctuation/g,P._punctuation).getRegex(),P._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,P._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,P._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,P.autolink=M(P.autolink).replace("scheme",P._scheme).replace("email",P._email).getRegex(),P._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,P.tag=M(P.tag).replace("comment",_._comment).replace("attribute",P._attribute).getRegex(),P._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,P._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,P._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,P.link=M(P.link).replace("label",P._label).replace("href",P._href).replace("title",P._title).getRegex(),P.reflink=M(P.reflink).replace("label",P._label).getRegex(),P.normal=O({},P),P.pedantic=O({},P.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",P._label).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",P._label).getRegex()}),P.gfm=O({},P.normal,{escape:M(P.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),P.gfm.url=M(P.gfm.url,"i").replace("email",P.gfm._extended_email).getRegex(),P.breaks=O({},P.gfm,{br:M(P.br).replace("{2,}","*").getRegex(),text:M(P.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var $={block:_,inline:P},B=n.defaults,F=$.block,N=I.rtrim,R=I.splitCells,j=I.escape,V=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||B,this.rules=F.normal,this.options.pedantic?this.rules=F.pedantic:this.options.gfm&&(this.rules=F.gfm)}e.lex=function(t,i){var n=new e(i);return n.lex(t)};var i=e.prototype;return i.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)},i.token=function(e,t){var i,n,r,o,a,s,l,c,u,h,d,p,f,m,g,v;e=e.replace(/^ +$/gm,"");while(e)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e)){var y=this.tokens[this.tokens.length-1];e=e.substring(r[0].length),y&&"paragraph"===y.type?y.text+="\n"+r[0].trimRight():(r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?r:N(r,"\n")}))}else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2]?r[2].trim():r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if((r=this.rules.nptable.exec(e))&&(s={type:"table",header:R(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]},s.header.length===s.align.length)){for(e=e.substring(r[0].length),d=0;d<s.align.length;d++)/^ *-+: *$/.test(s.align[d])?s.align[d]="right":/^ *:-+: *$/.test(s.align[d])?s.align[d]="center":/^ *:-+ *$/.test(s.align[d])?s.align[d]="left":s.align[d]=null;for(d=0;d<s.cells.length;d++)s.cells[d]=R(s.cells[d],s.header.length);this.tokens.push(s)}else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),o=r[2],m=o.length>1,l={type:"list_start",ordered:m,start:m?+o:"",loose:!1},this.tokens.push(l),r=r[0].match(this.rules.item),c=[],i=!1,f=r.length,d=0;d<f;d++)s=r[d],h=s.length,s=s.replace(/^ *([*+-]|\d+\.) */,""),~s.indexOf("\n ")&&(h-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+h+"}","gm"),"")),d!==f-1&&(a=F.bullet.exec(r[d+1])[0],(o.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==o)&&(e=r.slice(d+1).join("\n")+e,d=f-1)),n=i||/\n\n(?!\s*$)/.test(s),d!==f-1&&(i="\n"===s.charAt(s.length-1),n||(n=i)),n&&(l.loose=!0),g=/^\[[ xX]\] /.test(s),v=void 0,g&&(v=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),u={type:"list_item_start",task:g,checked:v,loose:n},c.push(u),this.tokens.push(u),this.token(s,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(f=c.length,d=0;d<f;d++)c[d].loose=!0;this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):j(r[0]):r[0]});else if(t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),p=r[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:r[2],title:r[3]});else if((r=this.rules.table.exec(e))&&(s={type:"table",header:R(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]},s.header.length===s.align.length)){for(e=e.substring(r[0].length),d=0;d<s.align.length;d++)/^ *-+: *$/.test(s.align[d])?s.align[d]="right":/^ *:-+: *$/.test(s.align[d])?s.align[d]="center":/^ *:-+ *$/.test(s.align[d])?s.align[d]="left":s.align[d]=null;for(d=0;d<s.cells.length;d++)s.cells[d]=R(s.cells[d].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2].charAt(0)?1:2,text:r[1]});else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens},t(e,null,[{key:"rules",get:function(){return F}}]),e}(),H=n.defaults,U=I.cleanUrl,z=I.escape,W=function(){function e(e){this.options=e||H}var t=e.prototype;return t.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,n);null!=r&&r!==e&&(i=!0,e=r)}return n?'<pre><code class="'+this.options.langPrefix+z(n,!0)+'">'+(i?e:z(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:z(e,!0))+"</code></pre>"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,i){var n=t?"ol":"ul",r=t&&1!==i?' start="'+i+'"':"";return"<"+n+r+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var i=t.header?"th":"td",n=t.align?"<"+i+' align="'+t.align+'">':"<"+i+">";return n+e+"</"+i+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,i){if(e=U(this.options.sanitize,this.options.baseUrl,e),null===e)return i;var n='<a href="'+z(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>",n},t.image=function(e,t,i){if(e=U(this.options.sanitize,this.options.baseUrl,e),null===e)return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">",n},t.text=function(e){return e},e}(),q=function(){function e(){this.seen={}}var t=e.prototype;return t.slug=function(e){var t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var i=t;do{this.seen[i]++,t=i+"-"+this.seen[i]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},e}(),Y=n.defaults,G=$.inline,K=I.findClosingBracket,J=I.escape,X=function(){function e(e,t){if(this.options=t||Y,this.links=e,this.rules=G.normal,this.options.renderer=this.options.renderer||new W,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=G.pedantic:this.options.gfm&&(this.options.breaks?this.rules=G.breaks:this.rules=G.gfm)}e.output=function(t,i,n){var r=new e(i,n);return r.output(t)};var i=e.prototype;return i.output=function(t){var i,n,r,o,a,s,l="";while(t)if(a=this.rules.escape.exec(t))t=t.substring(a[0].length),l+=J(a[1]);else if(a=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),t=t.substring(a[0].length),l+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):J(a[0]):a[0]);else if(a=this.rules.link.exec(t)){var c=K(a[2],"()");if(c>-1){var u=0===a[0].indexOf("!")?5:4,h=u+a[1].length+c;a[2]=a[2].substring(0,c),a[0]=a[0].substring(0,h).trim(),a[3]=""}t=t.substring(a[0].length),this.inLink=!0,r=a[2],this.options.pedantic?(i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r),i?(r=i[1],o=i[3]):o=""):o=a[3]?a[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(a,{href:e.escapes(r),title:e.escapes(o)}),this.inLink=!1}else if((a=this.rules.reflink.exec(t))||(a=this.rules.nolink.exec(t))){if(t=t.substring(a[0].length),i=(a[2]||a[1]).replace(/\s+/g," "),i=this.links[i.toLowerCase()],!i||!i.href){l+=a[0].charAt(0),t=a[0].substring(1)+t;continue}this.inLink=!0,l+=this.outputLink(a,i),this.inLink=!1}else if(a=this.rules.strong.exec(t))t=t.substring(a[0].length),l+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(t))t=t.substring(a[0].length),l+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(t))t=t.substring(a[0].length),l+=this.renderer.codespan(J(a[2].trim(),!0));else if(a=this.rules.br.exec(t))t=t.substring(a[0].length),l+=this.renderer.br();else if(a=this.rules.del.exec(t))t=t.substring(a[0].length),l+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(t))t=t.substring(a[0].length),"@"===a[2]?(n=J(this.mangle(a[1])),r="mailto:"+n):(n=J(a[1]),r=n),l+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(t))){if(a=this.rules.text.exec(t))t=t.substring(a[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):J(a[0]):a[0]):l+=this.renderer.text(J(this.smartypants(a[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===a[2])n=J(a[0]),r="mailto:"+n;else{do{s=a[0],a[0]=this.rules._backpedal.exec(a[0])[0]}while(s!==a[0]);n=J(a[0]),r="www."===a[1]?"http://"+n:n}t=t.substring(a[0].length),l+=this.renderer.link(r,null,n)}return l},e.escapes=function(t){return t?t.replace(e.rules._escapes,"$1"):t},i.outputLink=function(e,t){var i=t.href,n=t.title?J(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,J(e[1]))},i.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.mangle=function(e){if(!this.options.mangle)return e;for(var t,i=e.length,n="",r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},t(e,null,[{key:"rules",get:function(){return G}}]),e}(),Z=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),Q=n.defaults,ee=I.merge,te=I.unescape,ie=function(){function e(e){this.tokens=[],this.token=null,this.options=e||Q,this.options.renderer=this.options.renderer||new W,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new q}e.parse=function(t,i){var n=new e(i);return n.parse(t)};var t=e.prototype;return t.parse=function(e){this.inline=new X(e.links,this.options),this.inlineText=new X(e.links,ee({},this.options,{renderer:new Z})),this.tokens=e.reverse();var t="";while(this.next())t+=this.tok();return t},t.next=function(){return this.token=this.tokens.pop(),this.token},t.peek=function(){return this.tokens[this.tokens.length-1]||0},t.parseText=function(){var e=this.token.text;while("text"===this.peek().type)e+="\n"+this.next().text;return this.inline.output(e)},t.tok=function(){var e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,te(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,i,n,r,o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(i=this.token.cells[t],n="",r=0;r<i.length;r++)n+=this.renderer.tablecell(this.inline.output(i[r]),{header:!1,align:this.token.align[r]});e+=this.renderer.tablerow(n)}return this.renderer.table(o,e);case"blockquote_start":e="";while("blockquote_end"!==this.next().type)e+=this.tok();return this.renderer.blockquote(e);case"list_start":e="";var a=this.token.ordered,s=this.token.start;while("list_end"!==this.next().type)e+=this.tok();return this.renderer.list(e,a,s);case"list_item_start":e="";var l=this.token.loose,c=this.token.checked,u=this.token.task;if(this.token.task)if(l)if("text"===this.peek().type){var h=this.peek();h.text=this.renderer.checkbox(c)+" "+h.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(c)});else e+=this.renderer.checkbox(c);while("list_item_end"!==this.next().type)e+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,u,c);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var d='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(d);console.log(d)}},e}(),ne=I.merge,re=I.checkSanitizeDeprecation,oe=I.escape,ae=n.getDefaults,se=n.changeDefaults,le=n.defaults;function ce(e,t,i){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"===typeof t){var n=function(){i||(i=t,t=null),t=ne({},ce.defaults,t||{}),re(t);var n,r,o=t.highlight,a=0;try{n=V.lex(e,t)}catch(l){return{v:i(l)}}r=n.length;var s=function(e){if(e)return t.highlight=o,i(e);var r;try{r=ie.parse(n,t)}catch(l){e=l}return t.highlight=o,e?i(e):i(null,r)};if(!o||o.length<3)return{v:s()};if(delete t.highlight,!r)return{v:s()};for(;a<n.length;a++)(function(e){"code"!==e.type?--r||s():o(e.text,e.lang,(function(t,i){return t?s(t):null==i||i===e.text?--r||s():(e.text=i,e.escaped=!0,void(--r||s()))}))})(n[a]);return{v:void 0}}();if("object"===typeof n)return n.v}try{return t=ne({},ce.defaults,t||{}),re(t),ie.parse(V.lex(e,t),t)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||ce.defaults).silent)return"<p>An error occurred:</p><pre>"+oe(r.message+"",!0)+"</pre>";throw r}}ce.options=ce.setOptions=function(e){return ne(ce.defaults,e),se(ce.defaults),ce},ce.getDefaults=ae,ce.defaults=le,ce.Parser=ie,ce.parser=ie.parse,ce.Renderer=W,ce.TextRenderer=Z,ce.Lexer=V,ce.lexer=V.lex,ce.InlineLexer=X,ce.inlineLexer=X.output,ce.Slugger=q,ce.parse=ce;var ue=ce;return ue}))},"24e2":function(e,t,i){"use strict";var n=i("e0c7");t["a"]=n["a"]},"2bfd":function(e,t,i){},"326d":function(e,t,i){"use strict";var n=i("e449");t["a"]=n["a"]},"34ef":function(e,t,i){"use strict";var n=i("cc20");t["a"]=n["a"]},"3a39":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm12:""}},[e.isTokenExpired?i("div",[i("h1",[e._v("Your token has expired")])]):i("div",[i("h1",[e._v("Your token will be expired @")]),i("v-time-picker",{attrs:{landscape:"",readonly:"",format:"24h"},model:{value:e.tokenExpiryTime,callback:function(t){e.tokenExpiryTime=t},expression:"tokenExpiryTime"}})],1),e.userData.rftoken?i("div",[e.isRefreshTokenExpired?i("div",[i("h1",[e._v("Your refresh token has expired")]),i("v-btn",{attrs:{to:{name:"login",params:{logout:!0}},color:"warning"}},[i("v-icon",[e._v("exit_to_app")]),e._v("Re-Login ")],1)],1):i("div",[i("h1",[e._v("Your refresh token will be expired @")]),i("v-flex",{attrs:{md12:"",lg12:""}},[i("v-date-picker",{attrs:{readonly:"",color:"accent","header-color":"primary"},model:{value:e.rfTokenExpiryDate,callback:function(t){e.rfTokenExpiryDate=t},expression:"rfTokenExpiryDate"}}),i("v-time-picker",{attrs:{readonly:"",color:"primary",format:"24h"},model:{value:e.rfTokenExpiryTime,callback:function(t){e.rfTokenExpiryTime=t},expression:"rfTokenExpiryTime"}})],1),i("v-btn",{attrs:{color:"primary"},on:{click:e.refreshToken}},[i("v-icon",[e._v("refresh")]),e._v("Refresh ")],1)],1)]):e._e()])],1)},r=[],o=(i("99af"),i("90b9")),a={props:["userData","toast"],data:function(){return{}},computed:{tokenExpiryTime:function(){return this.getTimeOf(this.tokenExpiryDatetime)},tokenExpiryDatetime:function(){return o["a"].getTokenExpiryTime(this.loginToken)},rfTokenExpiryDatetime:function(){return o["a"].getTokenExpiryTime(this.rfToken)},rfTokenExpiryDate:function(){var e=this.rfTokenExpiryDatetime;return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},rfTokenExpiryTime:function(){var e=this.rfTokenExpiryDatetime;return this.getTimeOf(e)},isRefreshTokenExpired:function(){return this.rfTokenExpiryDatetime<new Date},isTokenExpired:function(){return this.tokenExpiryDatetime<new Date},loginToken:function(){return this.userData.token},rfToken:function(){return this.userData.rftoken}},methods:{makeRedirect:function(e){o["a"].setRedirect(this.$route.fullPath),o["a"].redirectTo(e)},refreshToken:function(){var e=this;o["a"].refreshToken().then((function(t){e.toast("+1h O..O","success")})).catch((function(t){e.toast(t,"error"),e.makeRedirect({name:"login"})}))},getTimeOf:function(e){return"".concat(e.getHours(),":").concat(e.getMinutes())}}},s=a,l=i("2877"),c=i("6544"),u=i.n(c),h=i("8336"),d=(i("d951"),i("9d26")),p=i("a9ad"),f=i("58df"),m=i("80d2"),g=Object(f["a"])(p["a"]).extend({methods:{genPickerButton(e,t,i,n=!1,r=""){const o=this[e]===t,a=i=>{i.stopPropagation(),this.$emit("update:"+Object(m["u"])(e),t)};return this.$createElement("div",{staticClass:("v-picker__title__btn "+r).trim(),class:{"v-picker__title__btn--active":o,"v-picker__title__btn--readonly":n},on:o||n?void 0:{click:a}},Array.isArray(i)?i:[i])}}}),v=Object(f["a"])(g).extend({name:"v-date-picker-title",props:{date:{type:String,default:""},disabled:Boolean,readonly:Boolean,selectingYear:Boolean,value:{type:String},year:{type:[Number,String],default:""},yearIcon:{type:String}},data:()=>({isReversing:!1}),computed:{computedTransition(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value(e,t){this.isReversing=e<t}},methods:{genYearIcon(){return this.$createElement(d["a"],{props:{dark:!0}},this.yearIcon)},getYearBtn(){return this.genPickerButton("selectingYear",!0,[String(this.year),this.yearIcon?this.genYearIcon():null],!1,"v-date-picker-title__year")},genTitleText(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate(){return this.genPickerButton("selectingYear",!1,[this.genTitleText()],!1,"v-date-picker-title__date")}},render(e){return e("div",{staticClass:"v-date-picker-title",class:{"v-date-picker-title--disabled":this.disabled}},[this.getYearBtn(),this.genTitleDate()])}}),y=(i("2102"),i("afdd")),b=i("2b0e"),x=b["default"].extend({name:"localable",props:{locale:String},computed:{currentLocale(){return this.locale||this.$vuetify.lang.current}}}),w=i("7560");const k=(e,t,i)=>(t>>=0,e=String(e),i=String(i),e.length>t?String(e):(t-=e.length,t>i.length&&(i+=i.repeat(t/i.length)),i.slice(0,t)+String(e)));var C=(e,t=2)=>k(e,t,"0");function S(e,t,i={start:0,length:0}){const n=e=>{const[t,i,n]=e.trim().split(" ")[0].split("-");return[C(t,4),C(i||1),C(n||1)].join("-")};try{const i=new Intl.DateTimeFormat(e||void 0,t);return e=>i.format(new Date(n(e)+"T00:00:00+00:00"))}catch(r){return i.start||i.length?e=>n(e).substr(i.start||0,i.length):void 0}}var T=S,D=(e,t)=>{const[i,n]=e.split("-").map(Number);return n+t===0?i-1+"-12":n+t===13?i+1+"-01":`${i}-${C(n+t)}`},A=Object(f["a"])(p["a"],x,w["a"]).extend({name:"v-date-picker-header",props:{disabled:Boolean,format:Function,min:String,max:String,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},readonly:Boolean,value:{type:[Number,String],required:!0}},data(){return{isReversing:!1}},computed:{formatter(){return this.format?this.format:String(this.value).split("-")[1]?T(this.currentLocale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):T(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value(e,t){this.isReversing=e<t}},methods:{genBtn(e){const t=this.disabled||e<0&&this.min&&this.calculateChange(e)<this.min||e>0&&this.max&&this.calculateChange(e)>this.max;return this.$createElement(y["a"],{props:{dark:this.dark,disabled:t,icon:!0,light:this.light},nativeOn:{click:t=>{t.stopPropagation(),this.$emit("input",this.calculateChange(e))}}},[this.$createElement(d["a"],e<0===!this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},calculateChange(e){const[t,i]=String(this.value).split("-").map(Number);return null==i?""+(t+e):D(String(this.value),e)},genHeader(){const e=!this.disabled&&(this.color||"accent"),t=this.$createElement("div",this.setTextColor(e,{key:String(this.value)}),[this.$createElement("button",{attrs:{type:"button"},on:{click:()=>this.$emit("toggle")}},[this.$slots.default||this.formatter(String(this.value))])]),i=this.$createElement("transition",{props:{name:this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"}},[t]);return this.$createElement("div",{staticClass:"v-date-picker-header__value",class:{"v-date-picker-header__value--disabled":this.disabled}},[i])}},render(){return this.$createElement("div",{staticClass:"v-date-picker-header",class:{"v-date-picker-header--disabled":this.disabled,...this.themeClasses}},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}}),E=(i("c982"),i("c3f0"));function I(e,t,i,n){return(!n||n(e))&&(!t||e>=t.substr(0,10))&&(!i||e<=i)}var L=Object(f["a"])(p["a"],x,w["a"]).extend({directives:{Touch:E["a"]},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:()=>null},eventColor:{type:[Array,Function,Object,String],default:()=>"warning"},min:String,max:String,range:Boolean,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:()=>({isReversing:!1}),computed:{computedTransition(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth(){return Number(this.tableDate.split("-")[1])-1},displayedYear(){return Number(this.tableDate.split("-")[0])}},watch:{tableDate(e,t){this.isReversing=e<t}},methods:{genButtonClasses(e,t,i,n){return{"v-size--default":!t,"v-date-picker-table__current":n,"v-btn--active":i,"v-btn--flat":!e||this.disabled,"v-btn--text":i===n,"v-btn--rounded":t,"v-btn--disabled":!e||this.disabled,"v-btn--outlined":n&&!i,...this.themeClasses}},genButtonEvents(e,t,i){if(!this.disabled)return{click:()=>{t&&!this.readonly&&this.$emit("input",e),this.$emit("click:"+i,e)},dblclick:()=>this.$emit("dblclick:"+i,e)}},genButton(e,t,i,n){const r=I(e,this.min,this.max,this.allowedDates),o=this.isSelected(e),a=e===this.current,s=o?this.setBackgroundColor:this.setTextColor,l=(o||a)&&(this.color||"accent");return this.$createElement("button",s(l,{staticClass:"v-btn",class:this.genButtonClasses(r,t,o,a),attrs:{type:"button"},domProps:{disabled:this.disabled||!r},on:this.genButtonEvents(e,r,i)}),[this.$createElement("div",{staticClass:"v-btn__content"},[n(e)]),this.genEvents(e)])},getEventColors(e){const t=e=>Array.isArray(e)?e:[e];let i,n=[];return i=Array.isArray(this.events)?this.events.includes(e):this.events instanceof Function?this.events(e)||!1:this.events&&this.events[e]||!1,i?(n=!0!==i?t(i):"string"===typeof this.eventColor?[this.eventColor]:"function"===typeof this.eventColor?t(this.eventColor(e)):Array.isArray(this.eventColor)?this.eventColor:t(this.eventColor[e]),n.filter(e=>e)):[]},genEvents(e){const t=this.getEventColors(e);return t.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},t.map(e=>this.$createElement("div",this.setBackgroundColor(e)))):null},wheel(e,t){e.preventDefault(),this.$emit("update:table-date",t(e.deltaY))},touch(e,t){this.$emit("update:table-date",t(e))},genTable(e,t,i){const n=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},t)]),r={name:"touch",value:{left:e=>e.offsetX<-15&&this.touch(1,i),right:e=>e.offsetX>15&&this.touch(-1,i)}};return this.$createElement("div",{staticClass:e,class:{"v-date-picker-table--disabled":this.disabled,...this.themeClasses},on:!this.disabled&&this.scrollable?{wheel:e=>this.wheel(e,i)}:void 0,directives:[r]},[n])},isSelected(e){if(Array.isArray(this.value)){if(this.range&&2===this.value.length){const[t,i]=[...this.value].sort();return t<=e&&e<=i}return-1!==this.value.indexOf(e)}return e===this.value}}});function M(e,t=0,i=1){let n;return e<100&&e>=0?(n=new Date(Date.UTC(e,t,i)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(e)):n=new Date(Date.UTC(e,t,i)),n}function O(e,t,i){const n=7+t-i,r=(7+M(e,0,n).getUTCDay()-t)%7;return-r+n-1}function _(e,t,i,n){let r=[0,31,59,90,120,151,181,212,243,273,304,334][t];return t>1&&B(e)&&r++,r+i}function P(e,t,i){const n=O(e,t,i),r=O(e+1,t,i),o=B(e)?366:365;return(o-n+r)/7}function $(e,t,i,n,r){const o=O(e,n,r),a=Math.ceil((_(e,t,i,n)-o)/7);return a<1?a+P(e-1,n,r):a>P(e,n,r)?a-P(e,n,r):a}function B(e){return e%4===0&&e%100!==0||e%400===0}var F=Object(f["a"])(L).extend({name:"v-date-picker-date-table",props:{firstDayOfWeek:{type:[String,Number],default:0},localeFirstDayOfYear:{type:[String,Number],default:0},showWeek:Boolean,weekdayFormat:Function},computed:{formatter(){return this.format||T(this.currentLocale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter(){return this.weekdayFormat||T(this.currentLocale,{weekday:"narrow",timeZone:"UTC"})},weekDays(){const e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?Object(m["h"])(7).map(t=>this.weekdayFormatter("2017-01-"+(e+t+15))):Object(m["h"])(7).map(t=>["S","M","T","W","T","F","S"][(t+e)%7])}},methods:{calculateTableDate(e){return D(this.tableDate,Math.sign(e||1))},genTHead(){const e=this.weekDays.map(e=>this.$createElement("th",e));return this.showWeek&&e.unshift(this.$createElement("th")),this.$createElement("thead",this.genTR(e))},weekDaysBeforeFirstDayOfTheMonth(){const e=new Date(`${this.displayedYear}-${C(this.displayedMonth+1)}-01T00:00:00+00:00`),t=e.getUTCDay();return(t-parseInt(this.firstDayOfWeek)+7)%7},getWeekNumber(e){return $(this.displayedYear,this.displayedMonth,e,parseInt(this.firstDayOfWeek),parseInt(this.localeFirstDayOfYear))},genWeekNumber(e){return this.$createElement("td",[this.$createElement("small",{staticClass:"v-date-picker-table--date__week"},String(e).padStart(2,"0"))])},genTBody(){const e=[],t=new Date(this.displayedYear,this.displayedMonth+1,0).getDate();let i=[],n=this.weekDaysBeforeFirstDayOfTheMonth();this.showWeek&&i.push(this.genWeekNumber(this.getWeekNumber(1)));while(n--)i.push(this.$createElement("td"));for(n=1;n<=t;n++){const r=`${this.displayedYear}-${C(this.displayedMonth+1)}-${C(n)}`;i.push(this.$createElement("td",[this.genButton(r,!0,"date",this.formatter)])),i.length%(this.showWeek?8:7)===0&&(e.push(this.genTR(i)),i=[],this.showWeek&&n<t&&i.push(this.genWeekNumber(this.getWeekNumber(n+7))))}return i.length&&e.push(this.genTR(i)),this.$createElement("tbody",e)},genTR(e){return[this.$createElement("tr",e)]}},render(){return this.genTable("v-date-picker-table v-date-picker-table--date",[this.genTHead(),this.genTBody()],this.calculateTableDate)}}),N=Object(f["a"])(L).extend({name:"v-date-picker-month-table",computed:{formatter(){return this.format||T(this.currentLocale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate(e){return""+(parseInt(this.tableDate,10)+Math.sign(e||1))},genTBody(){const e=[],t=Array(3).fill(null),i=12/t.length;for(let n=0;n<i;n++){const i=t.map((e,i)=>{const r=n*t.length+i,o=`${this.displayedYear}-${C(r+1)}`;return this.$createElement("td",{key:r},[this.genButton(o,!1,"month",this.formatter)])});e.push(this.$createElement("tr",{key:n},i))}return this.$createElement("tbody",e)}},render(){return this.genTable("v-date-picker-table v-date-picker-table--month",[this.genTBody()],this.calculateTableDate)}}),R=(i("02f0"),Object(f["a"])(p["a"],x).extend({name:"v-date-picker-years",props:{format:Function,min:[Number,String],max:[Number,String],readonly:Boolean,value:[Number,String]},data(){return{defaultColor:"primary"}},computed:{formatter(){return this.format||T(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted(){setTimeout(()=>{const e=this.$el.getElementsByClassName("active")[0];e?this.$el.scrollTop=e.offsetTop-this.$el.offsetHeight/2+e.offsetHeight/2:this.min&&!this.max?this.$el.scrollTop=this.$el.scrollHeight:!this.min&&this.max?this.$el.scrollTop=0:this.$el.scrollTop=this.$el.scrollHeight/2-this.$el.offsetHeight/2})},methods:{genYearItem(e){const t=this.formatter(""+e),i=parseInt(this.value,10)===e,n=i&&(this.color||"primary");return this.$createElement("li",this.setTextColor(n,{key:e,class:{active:i},on:{click:()=>this.$emit("input",e)}}),t)},genYearItems(){const e=[],t=this.value?parseInt(this.value,10):(new Date).getFullYear(),i=this.max?parseInt(this.max,10):t+100,n=Math.min(i,this.min?parseInt(this.min,10):t-100);for(let r=i;r>=n;r--)e.push(this.genYearItem(r));return e}},render(){return this.$createElement("ul",{staticClass:"v-date-picker-years",ref:"years"},this.genYearItems())}})),j=(i("e53cf"),i("615b"),Object(f["a"])(p["a"],w["a"]).extend({name:"v-picker",props:{fullWidth:Boolean,landscape:Boolean,noTitle:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor(){const e=!this.isDark&&(this.color||"primary");return this.color||e}},methods:{genTitle(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody(){return this.$createElement("div",{staticClass:"v-picker__body",class:{"v-picker__body--no-title":this.noTitle,...this.themeClasses},style:this.fullWidth?void 0:{width:Object(m["g"])(this.width)}},[this.genBodyTransition()])},genActions(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions",class:{"v-picker__actions--no-title":this.noTitle}},this.$slots.actions)}},render(e){return e("div",{staticClass:"v-picker v-card",class:{"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth,...this.themeClasses}},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}})),V=j,H=Object(f["a"])(p["a"],w["a"]).extend({name:"picker",props:{fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle(){return null},genPickerBody(){return null},genPickerActionsSlot(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker(e){const t=[];if(!this.noTitle){const e=this.genPickerTitle();e&&t.push(e)}const i=this.genPickerBody();return i&&t.push(i),t.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(V,{staticClass:e,props:{color:this.headerColor||this.color,dark:this.dark,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width,noTitle:this.noTitle}},t)}}}),U=i("d9bd");const z=[0,31,28,31,30,31,30,31,31,30,31,30,31],W=[0,31,29,31,30,31,30,31,31,30,31,30,31];function q(e,t){return B(e)?W[t]:z[t]}function Y(e,t){const[i,n=1,r=1]=e.split("-");return`${i}-${C(n)}-${C(r)}`.substr(0,{date:10,month:7,year:4}[t])}var G,K=Object(f["a"])(x,H).extend({name:"v-date-picker",props:{allowedDates:Function,dayFormat:Function,disabled:Boolean,events:{type:[Array,Function,Object],default:()=>null},eventColor:{type:[Array,Function,Object,String],default:()=>"warning"},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:Function,localeFirstDayOfYear:{type:[String,Number],default:0},max:String,min:String,monthFormat:Function,multiple:Boolean,nextIcon:{type:String,default:"$next"},pickerDate:String,prevIcon:{type:String,default:"$prev"},range:Boolean,reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},selectedItemsText:{type:String,default:"$vuetify.datePicker.itemsSelected"},showWeek:Boolean,titleDateFormat:Function,type:{type:String,default:"date",validator:e=>["date","month"].includes(e)},value:[Array,String],weekdayFormat:Function,yearFormat:Function,yearIcon:String},data(){const e=new Date;return{activePicker:this.type.toUpperCase(),inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:(()=>{if(this.pickerDate)return this.pickerDate;const t=(this.multiple||this.range?this.value[this.value.length-1]:this.value)||`${e.getFullYear()}-${e.getMonth()+1}`;return Y(t,"date"===this.type?"month":"year")})()}},computed:{isMultiple(){return this.multiple||this.range},lastValue(){return this.isMultiple?this.value[this.value.length-1]:this.value},selectedMonths(){return this.value&&this.value.length&&"month"!==this.type?this.isMultiple?this.value.map(e=>e.substr(0,7)):this.value.substr(0,7):this.value},current(){return!0===this.showCurrent?Y(`${this.now.getFullYear()}-${this.now.getMonth()+1}-${this.now.getDate()}`,this.type):this.showCurrent||null},inputDate(){return"date"===this.type?`${this.inputYear}-${C(this.inputMonth+1)}-${C(this.inputDay)}`:`${this.inputYear}-${C(this.inputMonth+1)}`},tableMonth(){return Number((this.pickerDate||this.tableDate).split("-")[1])-1},tableYear(){return Number((this.pickerDate||this.tableDate).split("-")[0])},minMonth(){return this.min?Y(this.min,"month"):null},maxMonth(){return this.max?Y(this.max,"month"):null},minYear(){return this.min?Y(this.min,"year"):null},maxYear(){return this.max?Y(this.max,"year"):null},formatters(){return{year:this.yearFormat||T(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||(this.isMultiple?this.defaultTitleMultipleDateFormatter:this.defaultTitleDateFormatter)}},defaultTitleMultipleDateFormatter(){return e=>e.length?1===e.length?this.defaultTitleDateFormatter(e[0]):this.$vuetify.lang.t(this.selectedItemsText,e.length):"-"},defaultTitleDateFormatter(){const e={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}},t=T(this.currentLocale,e[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]}),i=e=>t(e).replace(/([^\d\s])([\d])/g,(e,t,i)=>`${t} ${i}`).replace(", ",",<br>");return this.landscape?i:t}},watch:{tableDate(e,t){const i="month"===this.type?"year":"month";this.isReversing=Y(e,i)<Y(t,i),this.$emit("update:picker-date",e)},pickerDate(e){e?this.tableDate=e:this.lastValue&&"date"===this.type?this.tableDate=Y(this.lastValue,"month"):this.lastValue&&"month"===this.type&&(this.tableDate=Y(this.lastValue,"year"))},value(e,t){this.checkMultipleProp(),this.setInputDate(),this.isMultiple||!this.value||this.pickerDate?this.isMultiple&&this.value.length&&!t.length&&!this.pickerDate&&(this.tableDate=Y(this.inputDate,"month"===this.type?"year":"month")):this.tableDate=Y(this.inputDate,"month"===this.type?"year":"month")},type(e){if(this.activePicker=e.toUpperCase(),this.value&&this.value.length){const t=(this.isMultiple?this.value:[this.value]).map(t=>Y(t,e)).filter(this.isDateAllowed);this.$emit("input",this.isMultiple?t:t[0])}}},created(){this.checkMultipleProp(),this.pickerDate!==this.tableDate&&this.$emit("update:picker-date",this.tableDate),this.setInputDate()},methods:{emitInput(e){if(this.range&&this.value){if(1!==this.value.length)this.$emit("input",[e]);else{const t=[...this.value,e];this.$emit("input",t),this.$emit("change",t)}return}const t=this.multiple?-1===this.value.indexOf(e)?this.value.concat([e]):this.value.filter(t=>t!==e):e;this.$emit("input",t),this.multiple||this.$emit("change",e)},checkMultipleProp(){if(null==this.value)return;const e=this.value.constructor.name,t=this.isMultiple?"Array":"String";e!==t&&Object(U["c"])(`Value must be ${this.isMultiple?"an":"a"} ${t}, got ${e}`,this)},isDateAllowed(e){return I(e,this.min,this.max,this.allowedDates)},yearClick(e){this.inputYear=e,"month"===this.type?this.tableDate=""+e:this.tableDate=`${e}-${C((this.tableMonth||0)+1)}`,this.activePicker="MONTH",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick(e){this.inputYear=parseInt(e.split("-")[0],10),this.inputMonth=parseInt(e.split("-")[1],10)-1,"date"===this.type?(this.inputDay&&(this.inputDay=Math.min(this.inputDay,q(this.inputYear,this.inputMonth+1))),this.tableDate=e,this.activePicker="DATE",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):this.emitInput(this.inputDate)},dateClick(e){this.inputYear=parseInt(e.split("-")[0],10),this.inputMonth=parseInt(e.split("-")[1],10)-1,this.inputDay=parseInt(e.split("-")[2],10),this.emitInput(this.inputDate)},genPickerTitle(){return this.$createElement(v,{props:{date:this.value?this.formatters.titleDate(this.value):"",disabled:this.disabled,readonly:this.readonly,selectingYear:"YEAR"===this.activePicker,year:this.formatters.year(this.value?""+this.inputYear:this.tableDate),yearIcon:this.yearIcon,value:this.isMultiple?this.value[0]:this.value},slot:"title",on:{"update:selecting-year":e=>this.activePicker=e?"YEAR":this.type.toUpperCase()}})},genTableHeader(){return this.$createElement(A,{props:{nextIcon:this.nextIcon,color:this.color,dark:this.dark,disabled:this.disabled,format:this.headerDateFormat,light:this.light,locale:this.locale,min:"DATE"===this.activePicker?this.minMonth:this.minYear,max:"DATE"===this.activePicker?this.maxMonth:this.maxYear,prevIcon:this.prevIcon,readonly:this.readonly,value:"DATE"===this.activePicker?`${C(this.tableYear,4)}-${C(this.tableMonth+1)}`:""+C(this.tableYear,4)},on:{toggle:()=>this.activePicker="DATE"===this.activePicker?"MONTH":"YEAR",input:e=>this.tableDate=e}})},genDateTable(){return this.$createElement(F,{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,dark:this.dark,disabled:this.disabled,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,light:this.light,locale:this.locale,localeFirstDayOfYear:this.localeFirstDayOfYear,min:this.min,max:this.max,range:this.range,readonly:this.readonly,scrollable:this.scrollable,showWeek:this.showWeek,tableDate:`${C(this.tableYear,4)}-${C(this.tableMonth+1)}`,value:this.value,weekdayFormat:this.weekdayFormat},ref:"table",on:{input:this.dateClick,"update:table-date":e=>this.tableDate=e,"click:date":e=>this.$emit("click:date",e),"dblclick:date":e=>this.$emit("dblclick:date",e)}})},genMonthTable(){return this.$createElement(N,{props:{allowedDates:"month"===this.type?this.allowedDates:null,color:this.color,current:this.current?Y(this.current,"month"):null,dark:this.dark,disabled:this.disabled,events:"month"===this.type?this.events:null,eventColor:"month"===this.type?this.eventColor:null,format:this.monthFormat,light:this.light,locale:this.locale,min:this.minMonth,max:this.maxMonth,range:this.range,readonly:this.readonly&&"month"===this.type,scrollable:this.scrollable,value:this.selectedMonths,tableDate:""+C(this.tableYear,4)},ref:"table",on:{input:this.monthClick,"update:table-date":e=>this.tableDate=e,"click:month":e=>this.$emit("click:month",e),"dblclick:month":e=>this.$emit("dblclick:month",e)}})},genYears(){return this.$createElement(R,{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:this.tableYear},on:{input:this.yearClick}})},genPickerBody(){const e="YEAR"===this.activePicker?[this.genYears()]:[this.genTableHeader(),"DATE"===this.activePicker?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.activePicker},e)},setInputDate(){if(this.lastValue){const e=this.lastValue.split("-");this.inputYear=parseInt(e[0],10),this.inputMonth=parseInt(e[1],10)-1,"date"===this.type&&(this.inputDay=parseInt(e[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=null==this.inputMonth?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},render(){return this.genPicker("v-picker--date")}}),J=i("0e8f"),X=i("132d"),Z=i("a722");i("e635");(function(e){e[e["Hour"]=1]="Hour",e[e["Minute"]=2]="Minute",e[e["Second"]=3]="Second"})(G||(G={}));var Q=Object(f["a"])(g).extend({name:"v-time-picker-title",props:{ampm:Boolean,ampmReadonly:Boolean,disabled:Boolean,hour:Number,minute:Number,second:Number,period:{type:String,validator:e=>"am"===e||"pm"===e},readonly:Boolean,useSeconds:Boolean,selecting:Number},methods:{genTime(){let e=this.hour;this.ampm&&(e=e?(e-1)%12+1:12);const t=null==this.hour?"--":this.ampm?String(e):C(e),i=null==this.minute?"--":C(this.minute),n=[this.genPickerButton("selecting",G.Hour,t,this.disabled),this.$createElement("span",":"),this.genPickerButton("selecting",G.Minute,i,this.disabled)];if(this.useSeconds){const e=null==this.second?"--":C(this.second);n.push(this.$createElement("span",":")),n.push(this.genPickerButton("selecting",G.Second,e,this.disabled))}return this.$createElement("div",{class:"v-time-picker-title__time"},n)},genAmPm(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm",class:{"v-time-picker-title__ampm--readonly":this.ampmReadonly}},[this.ampmReadonly&&"am"!==this.period?null:this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.ampmReadonly&&"pm"!==this.period?null:this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])}},render(e){const t=[this.genTime()];return this.ampm&&t.push(this.genAmPm()),e("div",{staticClass:"v-time-picker-title"},t)}}),ee=(i("1c58"),Object(f["a"])(p["a"],w["a"]).extend({name:"v-time-picker-clock",props:{allowedValues:Function,ampm:Boolean,disabled:Boolean,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count(){return this.max-this.min+1},degreesPerUnit(){return 360/this.roundCount},degrees(){return this.degreesPerUnit*Math.PI/180},displayedValue(){return null==this.value?this.min:this.value},innerRadiusScale(){return.62},roundCount(){return this.double?this.count/2:this.count}},watch:{value(e){this.inputValue=e}},methods:{wheel(e){e.preventDefault();const t=Math.sign(-e.deltaY||1);let i=this.displayedValue;do{i+=t,i=(i-this.min+this.count)%this.count+this.min}while(!this.isAllowed(i)&&i!==this.displayedValue);i!==this.displayedValue&&this.update(i)},isInner(e){return this.double&&e-this.min>=this.roundCount},handScale(e){return this.isInner(e)?this.innerRadiusScale:1},isAllowed(e){return!this.allowedValues||this.allowedValues(e)},genValues(){const e=[];for(let t=this.min;t<=this.max;t+=this.step){const i=t===this.value&&(this.color||"accent");e.push(this.$createElement("span",this.setBackgroundColor(i,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":t===this.displayedValue,"v-time-picker-clock__item--disabled":this.disabled||!this.isAllowed(t)},style:this.getTransform(t),domProps:{innerHTML:`<span>${this.format(t)}</span>`}})))}return e},genHand(){const e=`scaleY(${this.handScale(this.displayedValue)})`,t=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),i=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(i,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:`rotate(${t}deg) ${e}`}}))},getTransform(e){const{x:t,y:i}=this.getPosition(e);return{left:50+50*t+"%",top:50+50*i+"%"}},getPosition(e){const t=this.rotate*Math.PI/180;return{x:Math.sin((e-this.min)*this.degrees+t)*this.handScale(e),y:-Math.cos((e-this.min)*this.degrees+t)*this.handScale(e)}},onMouseDown(e){e.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(e)},onMouseUp(e){e.stopPropagation(),this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove(e){if(e.preventDefault(),!this.isDragging&&"click"!==e.type)return;const{width:t,top:i,left:n}=this.$refs.clock.getBoundingClientRect(),{width:r}=this.$refs.innerClock.getBoundingClientRect(),{clientX:o,clientY:a}="touches"in e?e.touches[0]:e,s={x:t/2,y:-t/2},l={x:o-n,y:i-a},c=Math.round(this.angle(s,l)-this.rotate+360)%360,u=this.double&&this.euclidean(s,l)<(r+r*this.innerRadiusScale)/4,h=Math.ceil(15/this.degreesPerUnit);let d;for(let p=0;p<h;p++){if(d=this.angleToValue(c+p*this.degreesPerUnit,u),this.isAllowed(d))return this.setMouseDownValue(d);if(d=this.angleToValue(c-p*this.degreesPerUnit,u),this.isAllowed(d))return this.setMouseDownValue(d)}},angleToValue(e,t){const i=(Math.round(e/this.degreesPerUnit)+(t?this.roundCount:0))%this.count+this.min;return e<360-this.degreesPerUnit/2?i:t?this.max-this.roundCount+1:this.min},setMouseDownValue(e){null===this.valueOnMouseDown&&(this.valueOnMouseDown=e),this.valueOnMouseUp=e,this.update(e)},update(e){this.inputValue!==e&&(this.inputValue=e,this.$emit("input",e))},euclidean(e,t){const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},angle(e,t){const i=2*Math.atan2(t.y-e.y-this.euclidean(e,t),t.x-e.x);return Math.abs(180*i/Math.PI)}},render(e){const t={staticClass:"v-time-picker-clock",class:{"v-time-picker-clock--indeterminate":null==this.value,...this.themeClasses},on:this.readonly||this.disabled?void 0:Object.assign({mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:e=>this.isDragging&&this.onMouseUp(e),touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},this.scrollable?{wheel:this.wheel}:{}),ref:"clock"};return e("div",t,[e("div",{staticClass:"v-time-picker-clock__inner",ref:"innerClock"},[this.genHand(),this.genValues()])])}}));const te=Object(m["h"])(24),ie=Object(m["h"])(12),ne=ie.map(e=>e+12),re=Object(m["h"])(60),oe={1:"hour",2:"minute",3:"second"};var ae=Object(f["a"])(H,g).extend({name:"v-time-picker",props:{allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm",validator(e){return["ampm","24hr"].includes(e)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null,ampmInTitle:Boolean},data(){return{inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:G.Hour}},computed:{selectingHour:{get(){return this.selecting===G.Hour},set(e){this.selecting=G.Hour}},selectingMinute:{get(){return this.selecting===G.Minute},set(e){this.selecting=G.Minute}},selectingSecond:{get(){return this.selecting===G.Second},set(e){this.selecting=G.Second}},isAllowedHourCb(){let e;if(e=this.allowedHours instanceof Array?e=>this.allowedHours.includes(e):this.allowedHours,!this.min&&!this.max)return e;const t=this.min?Number(this.min.split(":")[0]):0,i=this.max?Number(this.max.split(":")[0]):23;return n=>n>=1*t&&n<=1*i&&(!e||e(n))},isAllowedMinuteCb(){let e;const t=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour);if(e=this.allowedMinutes instanceof Array?e=>this.allowedMinutes.includes(e):this.allowedMinutes,!this.min&&!this.max)return t?e:()=>!1;const[i,n]=this.min?this.min.split(":").map(Number):[0,0],[r,o]=this.max?this.max.split(":").map(Number):[23,59],a=60*i+1*n,s=60*r+1*o;return i=>{const n=60*this.inputHour+i;return n>=a&&n<=s&&t&&(!e||e(i))}},isAllowedSecondCb(){let e;const t=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour),i=t&&(!this.isAllowedMinuteCb||null===this.inputMinute||this.isAllowedMinuteCb(this.inputMinute));if(e=this.allowedSeconds instanceof Array?e=>this.allowedSeconds.includes(e):this.allowedSeconds,!this.min&&!this.max)return i?e:()=>!1;const[n,r,o]=this.min?this.min.split(":").map(Number):[0,0,0],[a,s,l]=this.max?this.max.split(":").map(Number):[23,59,59],c=3600*n+60*r+1*(o||0),u=3600*a+60*s+1*(l||0);return t=>{const n=3600*this.inputHour+60*this.inputMinute+t;return n>=c&&n<=u&&i&&(!e||e(t))}},isAmPm(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted(){this.setInputData(this.value),this.$on("update:period",this.setPeriod)},methods:{genValue(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:`${C(this.inputHour)}:${C(this.inputMinute)}`+(this.useSeconds?":"+C(this.inputSecond):"")},emitValue(){const e=this.genValue();null!==e&&this.$emit("input",e)},setPeriod(e){if(this.period=e,null!=this.inputHour){const t=this.inputHour+("am"===e?-12:12);this.inputHour=this.firstAllowed("hour",t),this.emitValue()}},setInputData(e){if(null==e||""===e)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(e instanceof Date)this.inputHour=e.getHours(),this.inputMinute=e.getMinutes(),this.inputSecond=e.getSeconds();else{const[,t,i,,n,r]=e.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);this.inputHour=r?this.convert12to24(parseInt(t,10),r):parseInt(t,10),this.inputMinute=parseInt(i,10),this.inputSecond=parseInt(n||0,10)}this.period=null==this.inputHour||this.inputHour<12?"am":"pm"},convert24to12(e){return e?(e-1)%12+1:12},convert12to24(e,t){return e%12+("pm"===t?12:0)},onInput(e){this.selecting===G.Hour?this.inputHour=this.isAmPm?this.convert12to24(e,this.period):e:this.selecting===G.Minute?this.inputMinute=e:this.inputSecond=e,this.emitValue()},onChange(e){this.$emit("click:"+oe[this.selecting],e);const t=this.selecting===(this.useSeconds?G.Second:G.Minute);if(this.selecting===G.Hour?this.selecting=G.Minute:this.useSeconds&&this.selecting===G.Minute&&(this.selecting=G.Second),this.inputHour===this.lazyInputHour&&this.inputMinute===this.lazyInputMinute&&(!this.useSeconds||this.inputSecond===this.lazyInputSecond))return;const i=this.genValue();null!==i&&(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),t&&this.$emit("change",i))},firstAllowed(e,t){const i="hour"===e?this.isAllowedHourCb:"minute"===e?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!i)return t;const n="minute"===e||"second"===e?re:this.isAmPm?t<12?ie:ne:te,r=n.find(e=>i((e+t)%n.length+n[0]));return((r||0)+t)%n.length+n[0]},genClock(){return this.$createElement(ee,{props:{allowedValues:this.selecting===G.Hour?this.isAllowedHourCb:this.selecting===G.Minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===G.Hour&&!this.isAmPm,format:this.selecting===G.Hour?this.isAmPm?this.convert24to12:e=>e:e=>C(e,2),light:this.light,max:this.selecting===G.Hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===G.Hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:Number(this.width)-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===G.Hour?1:5,value:this.selecting===G.Hour?this.inputHour:this.selecting===G.Minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genClockAmPm(){return this.$createElement("div",this.setTextColor(this.color||"primary",{staticClass:"v-time-picker-clock__ampm"}),[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])},genPickerBody(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[!this.ampmInTitle&&this.isAmPm&&this.genClockAmPm(),this.genClock()])},genPickerTitle(){return this.$createElement(Q,{props:{ampm:this.isAmPm,ampmReadonly:this.isAmPm&&!this.ampmInTitle,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":e=>this.selecting=e,"update:period":e=>this.$emit("update:period",e)},ref:"title",slot:"title"})}},render(){return this.genPicker("v-picker--time")}}),se=Object(l["a"])(s,n,r,!1,null,null,null);t["default"]=se.exports;u()(se,{VBtn:h["a"],VDatePicker:K,VFlex:J["a"],VIcon:X["a"],VLayout:Z["a"],VTimePicker:ae})},"408a":function(e,t,i){var n=i("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},"44a0":function(e,t,i){(function(e){e(i("56b3"),i("959b"),i("9eb9"))})((function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",(function(i,n){var r=0;function o(e){return e.code=!1,null}var a={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,i){if(i.combineTokens=null,i.codeBlock)return e.match(/^```+/)?(i.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(i.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),i.codeBlock=!0,null;if("`"===e.peek()){e.next();var o=e.pos;e.eatWhile("`");var a=1+e.pos-o;return i.code?a===r&&(i.code=!1):(r=a,i.code=!0),null}if(i.code)return e.next(),null;if(e.eatSpace())return i.ateSpace=!0,null;if((e.sol()||i.ateSpace)&&(i.ateSpace=!1,!1!==n.gitHubSpice)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return i.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return i.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(i.combineTokens=!0,"link"):(e.next(),null)},blankLine:o},s={taskLists:!0,strikethrough:!0,emoji:!0};for(var l in n)s[l]=n[l];return s.name="markdown",e.overlayMode(e.getMode(i,s),a)}),"markdown"),e.defineMIME("text/x-gfm","gfm")}))},"47a5":function(e,t,i){},"495d":function(e,t,i){},"4a5d":function(e,t,i){(function(t){var n;(function(){"use strict";n=function(e,i,n,r){r=r||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=r.flags||{},this.memoized={},this.loaded=!1;var o,a,s,l,c,u=this;function h(e,t){var i=u._readFile(e,null,r.asyncLoad);r.asyncLoad?i.then((function(e){t(e)})):t(i)}function d(e){i=e,n&&f()}function p(e){n=e,i&&f()}function f(){for(u.rules=u._parseAFF(i),u.compoundRuleCodes={},a=0,l=u.compoundRules.length;a<l;a++){var e=u.compoundRules[a];for(s=0,c=e.length;s<c;s++)u.compoundRuleCodes[e[s]]=[]}for(a in"ONLYINCOMPOUND"in u.flags&&(u.compoundRuleCodes[u.flags.ONLYINCOMPOUND]=[]),u.dictionaryTable=u._parseDIC(n),u.compoundRuleCodes)0===u.compoundRuleCodes[a].length&&delete u.compoundRuleCodes[a];for(a=0,l=u.compoundRules.length;a<l;a++){var t=u.compoundRules[a],o="";for(s=0,c=t.length;s<c;s++){var h=t[s];h in u.compoundRuleCodes?o+="("+u.compoundRuleCodes[h].join("|")+")":o+=h}u.compoundRules[a]=new RegExp(o,"i")}u.loaded=!0,r.asyncLoad&&r.loadedCallback&&r.loadedCallback(u)}return e&&(u.dictionary=e,i&&n?f():"undefined"!==typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(o=r.dictionaryPath?r.dictionaryPath:"typo/dictionaries",i||h(chrome.extension.getURL(o+"/"+e+"/"+e+".aff"),d),n||h(chrome.extension.getURL(o+"/"+e+"/"+e+".dic"),p)):(o=r.dictionaryPath?r.dictionaryPath:t+"/dictionaries",i||h(o+"/"+e+"/"+e+".aff",d),n||h(o+"/"+e+"/"+e+".dic",p))),this},n.prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(e,t,n){if(t=t||"utf8","undefined"!==typeof XMLHttpRequest){var r,o=new XMLHttpRequest;return o.open("GET",e,n),n&&(r=new Promise((function(e,t){o.onload=function(){200===o.status?e(o.responseText):t(o.statusText)},o.onerror=function(){t(o.statusText)}}))),o.overrideMimeType&&o.overrideMimeType("text/plain; charset="+t),o.send(null),n?r:o.responseText}var a=i(2);try{if(a.existsSync(e))return a.readFileSync(e,t);console.log("Path "+e+" does not exist.")}catch(s){return console.log(s),""}},_parseAFF:function(e){var t,i,n,r,o,a,s,l,c={};e=this._removeAffixComments(e);var u=e.split(/\r?\n/);for(o=0,s=u.length;o<s;o++){t=u[o];var h=t.split(/\s+/),d=h[0];if("PFX"==d||"SFX"==d){var p=h[1],f=h[2];n=parseInt(h[3],10);var m=[];for(a=o+1,l=o+1+n;a<l;a++){i=u[a],r=i.split(/\s+/);var g=r[2],v=r[3].split("/"),y=v[0];"0"===y&&(y="");var b=this.parseRuleCodes(v[1]),x=r[4],w={};w.add=y,b.length>0&&(w.continuationClasses=b),"."!==x&&(w.match="SFX"===d?new RegExp(x+"$"):new RegExp("^"+x)),"0"!=g&&(w.remove="SFX"===d?new RegExp(g+"$"):g),m.push(w)}c[p]={type:d,combineable:"Y"==f,entries:m},o+=n}else if("COMPOUNDRULE"===d){for(n=parseInt(h[1],10),a=o+1,l=o+1+n;a<l;a++)t=u[a],r=t.split(/\s+/),this.compoundRules.push(r[1]);o+=n}else"REP"===d?(r=t.split(/\s+/),3===r.length&&this.replacementTable.push([r[1],r[2]])):this.flags[d]=h[1]}return c},_removeAffixComments:function(e){return e=e.replace(/^\s*#.*$/gm,""),e=e.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),e=e.replace(/\n{2,}/g,"\n"),e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),e},_parseDIC:function(e){e=this._removeDicComments(e);var t=e.split(/\r?\n/),i={};function n(e,t){i.hasOwnProperty(e)||(i[e]=null),t.length>0&&(null===i[e]&&(i[e]=[]),i[e].push(t))}for(var r=1,o=t.length;r<o;r++){var a=t[r];if(a){var s=a.split("/",2),l=s[0];if(s.length>1){var c=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=c.indexOf(this.flags.NEEDAFFIX)||n(l,c);for(var u=0,h=c.length;u<h;u++){var d=c[u],p=this.rules[d];if(p)for(var f=this._applyRule(l,p),m=0,g=f.length;m<g;m++){var v=f[m];if(n(v,[]),p.combineable)for(var y=u+1;y<h;y++){var b=c[y],x=this.rules[b];if(x&&x.combineable&&p.type!=x.type)for(var w=this._applyRule(v,x),k=0,C=w.length;k<C;k++){var S=w[k];n(S,[])}}}d in this.compoundRuleCodes&&this.compoundRuleCodes[d].push(l)}}else n(l.trim(),[])}}return i},_removeDicComments:function(e){return e=e.replace(/^\t.*$/gm,""),e},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],i=0,n=e.length;i<n;i+=2)t.push(e.substr(i,2));return t}return"num"===this.flags.FLAG?e.split(","):void 0},_applyRule:function(e,t){for(var i=t.entries,n=[],r=0,o=i.length;r<o;r++){var a=i[r];if(!a.match||e.match(a.match)){var s=e;if(a.remove&&(s=s.replace(a.remove,"")),"SFX"===t.type?s+=a.add:s=a.add+s,n.push(s),"continuationClasses"in a)for(var l=0,c=a.continuationClasses.length;l<c;l++){var u=this.rules[a.continuationClasses[l]];u&&(n=n.concat(this._applyRule(s,u)))}}}return n},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var i=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}var n=t.toLowerCase();if(n!==t){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t,i,n=this.dictionaryTable[e];if("undefined"===typeof n){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,i=this.compoundRules.length;t<i;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===n)return!0;if("object"===typeof n)for(t=0,i=n.length;t<i;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",n[t]))return!0}return!1},hasFlag:function(e,t,i){if(!this.loaded)throw"Dictionary not loaded.";return!(!(t in this.flags)||("undefined"===typeof i&&(i=Array.prototype.concat.apply([],this.dictionaryTable[e])),!i||-1===i.indexOf(this.flags[t])))},alphabet:"",suggest:function(e,t){if(!this.loaded)throw"Dictionary not loaded.";if(t=t||5,this.memoized.hasOwnProperty(e)){var i=this.memoized[e]["limit"];if(t<=i||this.memoized[e]["suggestions"].length<i)return this.memoized[e]["suggestions"].slice(0,t)}if(this.check(e))return[];for(var n=0,r=this.replacementTable.length;n<r;n++){var o=this.replacementTable[n];if(-1!==e.indexOf(o[0])){var a=e.replace(o[0],o[1]);if(this.check(a))return[a]}}var s=this;function l(e,t){var i,n,r,o,a,l={};if("string"==typeof e){var c=e;e={},e[c]=!0}for(var c in e)for(i=0,r=c.length+1;i<r;i++){var u=[c.substring(0,i),c.substring(i)];if(u[1]&&(a=u[0]+u[1].substring(1),t&&!s.check(a)||(a in l?l[a]+=1:l[a]=1)),u[1].length>1&&u[1][1]!==u[1][0]&&(a=u[0]+u[1][1]+u[1][0]+u[1].substring(2),t&&!s.check(a)||(a in l?l[a]+=1:l[a]=1)),u[1])for(n=0,o=s.alphabet.length;n<o;n++)s.alphabet[n]!=u[1].substring(0,1)&&(a=u[0]+s.alphabet[n]+u[1].substring(1),t&&!s.check(a)||(a in l?l[a]+=1:l[a]=1));if(u[1])for(n=0,o=s.alphabet.length;n<o;n++)a=u[0]+s.alphabet[n]+u[1],t&&!s.check(a)||(a in l?l[a]+=1:l[a]=1)}return l}function c(e){var i,n=l(e),r=l(n,!0),o=r;for(var a in n)s.check(a)&&(a in o?o[a]+=n[a]:o[a]=n[a]);var c=[];for(i in o)o.hasOwnProperty(i)&&c.push([i,o[i]]);function u(e,t){var i=e[1],n=t[1];return i<n?-1:i>n?1:t[0].localeCompare(e[0])}c.sort(u).reverse();var h=[],d="lowercase";e.toUpperCase()===e?d="uppercase":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(d="capitalized");var p=t;for(i=0;i<Math.min(p,c.length);i++)"uppercase"===d?c[i][0]=c[i][0].toUpperCase():"capitalized"===d&&(c[i][0]=c[i][0].substr(0,1).toUpperCase()+c[i][0].substr(1)),s.hasFlag(c[i][0],"NOSUGGEST")||-1!=h.indexOf(c[i][0])?p++:h.push(c[i][0]);return h}return s.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[e]={suggestions:c(e),limit:t},this.memoized[e]["suggestions"]}}})(),e.exports=n}).call(this,"/")},"4bd4":function(e,t,i){"use strict";var n=i("58df"),r=i("7e2b"),o=i("3206");t["a"]=Object(n["a"])(r["a"],Object(o["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",t=>{this.$set(this.errorBag,e._uid,t)},{immediate:!0}),i={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=e.$watch("shouldValidate",n=>{n&&(this.errorBag.hasOwnProperty(e._uid)||(i.valid=t(e)))}):i.valid=t(e),i},validate(){return 0===this.inputs.filter(e=>!e.validate(!0)).length},reset(){this.inputs.forEach(e=>e.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(e=>e.resetValidation()),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find(t=>t._uid===e._uid);if(!t)return;const i=this.watchers.find(e=>e._uid===t._uid);i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter(e=>e._uid!==t._uid),this.inputs=this.inputs.filter(e=>e._uid!==t._uid),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},"4c9e":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("v-row",{attrs:{wrap:""}},[i("v-col",{attrs:{xs:"12",sm:"12"}},[i("div",[i("h1",[e._v("System Monitor")])]),i("v-card",{staticClass:"round-corner-card elevation-5 primary-card-gradient",attrs:{dark:"",shaped:""}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("div",{staticClass:"headline"},[e._v("Platform")]),i("h2",[e._v(" "+e._s(e.basic.os.node)+" ")]),i("span",{staticClass:"subtitle-1"},[i("v-icon",[e._v("desktop_mac")]),e._v(" "+e._s(e.basic.os.name)+" "+e._s(e.basic.os.version)+" ("+e._s(e.basic.os.platform)+") ")],1),i("p",[e._v(e._s(e.basic.os.serverInterpreter))]),i("v-divider"),e._v(" Refresh Loop: "),e.mainTimer?i("span",{staticClass:"subtitle-2"},[e._v(" On "),i("v-btn",{attrs:{icon:"",flat:"",dark:""},on:{click:e.stopLoop}},[i("v-icon",[e._v("pause")])],1)],1):i("span",{staticClass:"subtitle-2"},[e._v(" Off "),i("v-btn",{attrs:{icon:"",flat:"",dark:""},on:{click:e.startLoop}},[i("v-icon",[e._v("play_arrow")])],1)],1)],1)])],1),i("v-card",{staticClass:"round-corner-card elevation-5 secondary-card-gradient",attrs:{dark:"",shaped:""}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("div",{staticClass:"headline"},[e._v("CPU")]),i("h2",[e._v(" "+e._s(e.basic.cpu.name)+" ")]),i("span",{staticClass:"subtitle-1"},[e._v(" "+e._s(e.basic.cpu.totalCore)+" Cores "+e._s(e.basic.cpu.logicalCore)+" Threads ")])])]),i("v-divider"),i("v-card-title",[i("div",[i("v-progress-circular",{attrs:{rotate:-90,size:150,width:15,value:e.dynamic.cpu.total}},[i("span",{staticClass:"subtitle-1"},[e._v("Total: "+e._s(e.dynamic.cpu.total)+" %")])])],1),e.dynamic.cpu.logic.length>1?i("div",e._l(e.dynamic.cpu.logic,(function(t,n){return i("v-progress-circular",{key:n,attrs:{rotate:-90,size:100,width:15,value:t}},[i("span",{staticClass:"caption"},[e._v("Core"+e._s(n)+": "+e._s(t)+" % ")])])})),1):e._e()])],1),i("v-card",{staticClass:"round-corner-card elevation-5 secondary-card-gradient",attrs:{dark:"",shaped:""}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("div",{staticClass:"headline"},[e._v("Memory")]),i("h3",[e._v(" Virtual Memory ")]),i("p",{staticClass:"subtitle-1"},[e._v(e._s(e.usedMemory)+" Used")]),i("p",{staticClass:"subtitle-1"},[e._v(e._s(e.availableMemory)+" Available")]),i("p",{staticClass:"subtitle-1"},[e._v(e._s(e.totalMemory)+" Total")]),i("v-icon",[e._v("memory")]),e._v(" "+e._s(e.dynamic.memory.percent)+" % "),i("v-progress-linear",{attrs:{"background-color":"info",color:"warning",value:e.dynamic.memory.percent}})],1)])],1),i("div",[i("div",[i("h1",[e._v("Revoke All Issued Tokens")]),i("v-col",{attrs:{rows:"12"}},[i("v-alert",{attrs:{value:!0,type:"warning"}},[e._v(" This will revoke all issued tokens, and you will be logged out after that. ")])],1),i("v-btn",{attrs:{color:"warning"},on:{click:e.refreshSalt,mouseleave:function(t){e.confirmRefresh=!1}}},[i("v-icon",[e._v("cloud_off")]),e._v(" "+e._s(e.confirmRefresh?"Confirm ":"")+"Revoke ")],1)],1)])],1)],1)],1)},r=[],o=(i("13d5"),i("b680"),i("3835")),a=i("90b9"),s=i("f704"),l={props:["userData","toast"],data:function(){return{basic:{cpu:{logicalCore:0,totalCore:0,name:""},os:{name:"",node:"",platform:"",version:"",serverInterpreter:""}},dynamic:{cpu:{total:0,logic:[]},memory:{percent:0,total:0,used:0,available:0}},mainTimer:0,removeBlurListener:null,removeFocusListener:null,confirmRefresh:!1}},computed:{usedMemory:function(){return this.readableMemory(this.dynamic.memory.used)},availableMemory:function(){return this.readableMemory(this.dynamic.memory.available)},totalMemory:function(){return this.readableMemory(this.dynamic.memory.total)}},methods:{getBasicInfo:function(){var e=this;a["a"].fetchJSONWithSuccess(a["a"].apiFor("system","basic-info")).then(s["b"]).then((function(t){e.basic=t})).catch((function(t){e.toast("You can not access such info.","error")}))},getDynamicInfo:function(){var e=this;a["a"].fetchJSONWithSuccess(a["a"].apiFor("system","dynamic-info")).then(s["b"]).then((function(t){e.dynamic=t})).catch((function(t){e.destroyTimer(),e.toast("You can not access such info.","error")}))},readableMemory:function(e){var t=["B","KB","MB","GB","TB","TB"],i=t.reduce((function(e){var t=Object(o["a"])(e,2),i=t[0],n=t[1];return i<1024?[i,n]:[i/1024,n+1]}),[e,0]),n=Object(o["a"])(i,2),r=n[0],a=n[1];return r.toFixed(2)+t[a]},refreshSalt:function(){var e=this;this.confirmRefresh?(this.confirmRefresh=!1,a["a"].fetchJSONWithSuccess(a["a"].apiFor("system","refresh-salt"),"POST").then((function(){e.toast("Tokens revoked","success"),e.$router.push({name:"login",params:{logout:!0,alert:{color:"info",text:"All tokens revoked, so is your token, please login again."}}})})).error((function(t){e.toast("Something is wrong","error")}))):this.confirmRefresh=!0},setListenerByVisibility:function(){document.hidden?this.destroyTimer():this.createTimer()},createTimer:function(){this.mainTimer||(this.mainTimer=setInterval(this.getDynamicInfo,2e3))},destroyTimer:function(){this.mainTimer&&(clearInterval(this.mainTimer),this.mainTimer=null)},setFocusTriggers:function(){this.removeBlurListener||(this.removeBlurListener=a["a"].addEventListener("blur",this.destroyTimer)),this.removeFocusListener||(this.removeFocusListener=a["a"].addEventListener("focus",this.createTimer))},destroyFocusTriggers:function(){this.removeBlurListener&&this.removeBlurListener(),this.removeFocusListener&&this.removeFocusListener(),this.removeBlurListener=this.removeFocusListener=null},startLoop:function(){this.createTimer(),this.setFocusTriggers()},stopLoop:function(){this.destroyFocusTriggers(),this.destroyTimer()}},mounted:function(){this.getBasicInfo(),this.getDynamicInfo(),this.createTimer(),this.setFocusTriggers()},beforeDestroy:function(){this.destroyTimer(),this.destroyFocusTriggers()}},c=l,u=(i("84f6"),i("2877")),h=i("6544"),d=i.n(h),p=i("0798"),f=i("8336"),m=i("b0af"),g=i("99d9"),v=i("62ad"),y=i("a523"),b=i("ce7e"),x=i("132d"),w=i("490a"),k=i("8e36"),C=i("0fd9"),S=Object(u["a"])(c,n,r,!1,null,"249aef01",null);t["default"]=S.exports;d()(S,{VAlert:p["a"],VBtn:f["a"],VCard:m["a"],VCardTitle:g["c"],VCol:v["a"],VContainer:y["a"],VDivider:b["a"],VIcon:x["a"],VProgressCircular:w["a"],VProgressLinear:k["a"],VRow:C["a"]})},"56b3":function(e,t,i){(function(t,i){e.exports=i()})(0,(function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=n||r||o,s=a&&(n?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),h=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),x=/win/i.test(t),w=h&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(h=!1,l=!0);var k=y&&(c||h&&(null==w||w<12.11)),C=i||a&&s>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var T,D=function(e,t){var i=e.className,n=S(t).exec(i);if(n){var r=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function A(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return A(e).appendChild(t)}function I(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function L(e,t,i,n){var r=I(e,t,i,n);return r.setAttribute("role","presentation"),r}function M(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function O(){var e;try{e=document.activeElement}catch(t){e=document.body||null}while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e}function _(e,t){var i=e.className;S(t).test(i)||(e.className+=(i?" ":"")+t)}function P(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!S(i[n]).test(t)&&(t+=" "+i[n]);return t}T=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(r){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var $=function(e){e.select()};function B(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function N(e,t,i,n,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=n||0,a=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=i-a%i,o=s+1}}m?$=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&($=function(e){try{e.select()}catch(t){}});var R=function(){this.id=null,this.f=null,this.time=0,this.handler=B(this.onTimeout,this)};function j(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}R.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},R.prototype.set=function(e,t){this.f=t;var i=+new Date+e;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=i)};var V=30,H={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},z={origin:"*mouse"},W={origin:"+move"};function q(e,t,i){for(var n=0,r=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||r+a>=t)return n+Math.min(a,t-r);if(r+=o-n,r+=i-r%i,n=o+1,r>=t)return n}}var Y=[""];function G(e){while(Y.length<=e)Y.push(K(Y)+" ");return Y[e]}function K(e){return e[e.length-1]}function J(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function X(e,t,i){var n=0,r=i(t);while(n<e.length&&i(e[n])<=r)n++;e.splice(n,0,t)}function Z(){}function Q(e,t){var i;return Object.create?i=Object.create(e):(Z.prototype=e,i=new Z),t&&F(t,i),i}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ie(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&re.test(e)}function ae(e,t,i){while((i<0?t>0:t<e.length)&&oe(e.charAt(t)))t+=i;return t}function se(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var r=(t+i)/2,o=n<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:i;e(o)?i=o:t=o+n}}function le(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var a=e[o];(a.from<i&&a.to>t||t==i&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,i),1==a.level?"rtl":"ltr",o),r=!0)}r||n(t,i,"ltr")}var ce=null;function ue(e,t,i){var n;ce=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==i?n=r:ce=r),o.from==t&&(o.from!=o.to&&"before"!=i?n=r:ce=r)}return null!=n?n:ce}var he=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(i){return i<=247?e.charAt(i):1424<=i&&i<=1524?"R":1536<=i&&i<=1785?t.charAt(i-1536):1774<=i&&i<=2220?"r":8192<=i&&i<=8203?"w":8204==i?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,i){this.level=e,this.from=t,this.to=i}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!n.test(e))return!1;for(var u=e.length,h=[],d=0;d<u;++d)h.push(i(e.charCodeAt(d)));for(var p=0,f=c;p<u;++p){var m=h[p];"m"==m?h[p]=f:f=m}for(var g=0,v=c;g<u;++g){var y=h[g];"1"==y&&"r"==v?h[g]="n":o.test(y)&&(v=y,"r"==y&&(h[g]="R"))}for(var b=1,x=h[0];b<u-1;++b){var w=h[b];"+"==w&&"1"==x&&"1"==h[b+1]?h[b]="1":","!=w||x!=h[b+1]||"1"!=x&&"n"!=x||(h[b]=x),x=w}for(var k=0;k<u;++k){var C=h[k];if(","==C)h[k]="N";else if("%"==C){var S=void 0;for(S=k+1;S<u&&"%"==h[S];++S);for(var T=k&&"!"==h[k-1]||S<u&&"1"==h[S]?"1":"N",D=k;D<S;++D)h[D]=T;k=S-1}}for(var A=0,E=c;A<u;++A){var I=h[A];"L"==E&&"1"==I?h[A]="L":o.test(I)&&(E=I)}for(var L=0;L<u;++L)if(r.test(h[L])){var M=void 0;for(M=L+1;M<u&&r.test(h[M]);++M);for(var O="L"==(L?h[L-1]:c),_="L"==(M<u?h[M]:c),P=O==_?O?"L":"R":c,$=L;$<M;++$)h[$]=P;L=M-1}for(var B,F=[],N=0;N<u;)if(a.test(h[N])){var R=N;for(++N;N<u&&a.test(h[N]);++N);F.push(new l(0,R,N))}else{var j=N,V=F.length,H="rtl"==t?1:0;for(++N;N<u&&"L"!=h[N];++N);for(var U=j;U<N;)if(s.test(h[U])){j<U&&(F.splice(V,0,new l(1,j,U)),V+=H);var z=U;for(++U;U<N&&s.test(h[U]);++U);F.splice(V,0,new l(2,z,U)),V+=H,j=U}else++U;j<N&&F.splice(V,0,new l(1,j,N))}return"ltr"==t&&(1==F[0].level&&(B=e.match(/^\s+/))&&(F[0].from=B[0].length,F.unshift(new l(0,0,B[0].length))),1==K(F).level&&(B=e.match(/\s+$/))&&(K(F).to-=B[0].length,F.push(new l(0,u-B[0].length,u)))),"rtl"==t?F.reverse():F}}();function de(e,t){var i=e.order;return null==i&&(i=e.order=he(e.text,t)),i}var pe=[],fe=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||pe).concat(i)}};function me(e,t){return e._handlers&&e._handlers[t]||pe}function ge(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,r=n&&n[t];if(r){var o=j(r,i);o>-1&&(n[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function ve(e,t){var i=me(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function ye(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,i||t.type,e,t),Se(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==j(i,t[n])&&i.push(t[n])}function xe(e,t){return me(e,t).length>0}function we(e){e.prototype.on=function(e,t){fe(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function ke(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Se(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Te(e){ke(e),Ce(e)}function De(e){return e.target||e.srcElement}function Ae(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ee,Ie,Le=function(){if(a&&s<9)return!1;var e=I("div");return"draggable"in e||"dragDrop"in e}();function Me(e){if(null==Ee){var t=I("span","​");E(e,I("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var i=Ee?I("span","​"):I("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Oe(e){if(null!=Ie)return Ie;var t=E(e,document.createTextNode("AخA")),i=T(t,0,1).getBoundingClientRect(),n=T(t,1,2).getBoundingClientRect();return A(e),!(!i||i.left==i.right)&&(Ie=n.right-i.right<3)}var _e=3!="\n\nb".split(/\n/).length?function(e){var t=0,i=[],n=e.length;while(t<=n){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(i.push(o.slice(0,a)),t+=a+1):(i.push(o),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Pe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(i){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},$e=function(){var e=I("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Be=null;function Fe(e){if(null!=Be)return Be;var t=E(e,I("span","x")),i=t.getBoundingClientRect(),n=T(t,0,1).getBoundingClientRect();return Be=Math.abs(i.left-n.left)>1}var Ne={},Re={};function je(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ne[e]=t}function Ve(e,t){Re[e]=t}function He(e){if("string"==typeof e&&Re.hasOwnProperty(e))e=Re[e];else if(e&&"string"==typeof e.name&&Re.hasOwnProperty(e.name)){var t=Re[e.name];"string"==typeof t&&(t={name:t}),e=Q(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=He(t);var i=Ne[t.name];if(!i)return Ue(e,"text/plain");var n=i(e,t);if(ze.hasOwnProperty(t.name)){var r=ze[t.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var ze={};function We(e,t){var i=ze.hasOwnProperty(e)?ze[e]:ze[e]={};F(t,i)}function qe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function Ye(e,t){var i;while(e.innerMode){if(i=e.innerMode(t),!i||i.mode==e)break;t=i.state,e=i.mode}return i||{mode:e,state:t}}function Ge(e,t,i){return!e.startState||e.startState(t,i)}var Ke=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};function Je(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var i=e;while(!i.lines)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(t<o){i=r;break}t-=o}return i.lines[t]}function Xe(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,(function(e){var o=e.text;r==i.line&&(o=o.slice(0,i.ch)),r==t.line&&(o=o.slice(t.ch)),n.push(o),++r})),n}function Ze(e,t,i){var n=[];return e.iter(t,i,(function(e){n.push(e.text)})),n}function Qe(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function et(e){if(null==e.parent)return null;for(var t=e.parent,i=j(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var r=0;;++r){if(n.children[r]==t)break;i+=n.children[r].chunkSize()}return i+t.first}function tt(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],o=r.height;if(t<o){e=r;continue e}t-=o,i+=r.chunkSize()}return i}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return i+a}function it(e,t){return t>=e.first&&t<e.first+e.size}function nt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function rt(e,t,i){if(void 0===i&&(i=null),!(this instanceof rt))return new rt(e,t,i);this.line=e,this.ch=t,this.sticky=i}function ot(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==ot(e,t)}function st(e){return rt(e.line,e.ch)}function lt(e,t){return ot(e,t)<0?t:e}function ct(e,t){return ot(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return rt(e.first,0);var i=e.first+e.size-1;return t.line>i?rt(i,Je(e,i).text.length):dt(t,Je(e,t.line).text.length)}function dt(e,t){var i=e.ch;return null==i||i>t?rt(e.line,t):i<0?rt(e.line,0):e}function pt(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=ht(e,t[n]);return i}Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ke.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ke.prototype.eat=function(e){var t,i=this.string.charAt(this.pos);if(t="string"==typeof e?i==e:i&&(e.test?e.test(i):e(i)),t)return++this.pos,i},Ke.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},Ke.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ke.prototype.backUp=function(e){this.pos-=e},Ke.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=N(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?N(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return N(this.string,null,this.tabSize)-(this.lineStart?N(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(r(o)==r(e))return!1!==t&&(this.pos+=e.length),!0},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ke.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ke.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ft=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function gt(e,t,i,n){var r=[e.state.modeGen],o={};Tt(e,t.text,e.doc.mode,i,(function(e,t){return r.push(e,t)}),o,n);for(var a=i.state,s=function(n){i.baseTokens=r;var s=e.state.overlays[n],l=1,c=0;i.state=!0,Tt(e,t.text,s.mode,i,(function(e,t){var i=l;while(c<e){var n=r[l];n>e&&r.splice(l,1,e,r[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(s.opaque)r.splice(i,l-i,e,"overlay "+t),l=i+2;else for(;i<l;i+=2){var o=r[i+1];r[i+1]=(o?o+" ":"")+"overlay "+t}}),o),i.state=a,i.baseTokens=null,i.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function vt(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=yt(e,et(t)),r=t.text.length>e.options.maxHighlightLength&&qe(e.doc.mode,n.state),o=gt(e,t,n);r&&(n.state=r),t.stateAfter=n.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function yt(e,t,i){var n=e.doc,r=e.display;if(!n.mode.startState)return new mt(n,!0,t);var o=Dt(e,t,i),a=o>n.first&&Je(n,o-1).stateAfter,s=a?mt.fromSaved(n,a,o):new mt(n,Ge(n.mode),o);return n.iter(o,t,(function(i){bt(e,i.text,s);var n=s.line;i.stateAfter=n==t-1||n%5==0||n>=r.viewFrom&&n<r.viewTo?s.save():null,s.nextLine()})),i&&(n.modeFrontier=s.line),s}function bt(e,t,i,n){var r=e.doc.mode,o=new Ke(t,e.options.tabSize,i);o.start=o.pos=n||0,""==t&&xt(r,i.state);while(!o.eol())wt(r,o,i.state),o.start=o.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=Ye(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function wt(e,t,i,n){for(var r=0;r<10;r++){n&&(n[0]=Ye(e,i).mode);var o=e.token(t,i);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,i){return t instanceof ft?new mt(e,qe(e.mode,t.state),i,t.lookAhead):new mt(e,qe(e.mode,t),i)},mt.prototype.save=function(e){var t=!1!==e?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ft(t,this.maxLookAhead):t};var kt=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Ct(e,t,i,n){var r,o=e.doc,a=o.mode;t=ht(o,t);var s,l=Je(o,t.line),c=yt(e,t.line,i),u=new Ke(l.text,e.options.tabSize,c);n&&(s=[]);while((n||u.pos<t.ch)&&!u.eol())u.start=u.pos,r=wt(a,u,c.state),n&&s.push(new kt(u,r,qe(o.mode,c.state)));return n?s:new kt(u,r,c.state)}function St(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function Tt(e,t,i,n,r,o,a){var s=i.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,h=new Ke(t,e.options.tabSize,n),d=e.options.addModeClass&&[null];""==t&&St(xt(i,n.state),o);while(!h.eol()){if(h.pos>e.options.maxHighlightLength?(s=!1,a&&bt(e,t,n,h.pos),h.pos=t.length,l=null):l=St(wt(i,h,n.state,d),o),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||u!=l){while(c<h.start)c=Math.min(h.start,c+5e3),r(c,u);u=l}h.start=h.pos}while(c<h.pos){var f=Math.min(h.pos,c+5e3);r(f,u),c=f}}function Dt(e,t,i){for(var n,r,o=e.doc,a=i?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Je(o,s-1),c=l.stateAfter;if(c&&(!i||s+(c instanceof ft?c.lookAhead:0)<=o.modeFrontier))return s;var u=N(l.text,null,e.options.tabSize);(null==r||n>u)&&(r=s-1,n=u)}return r}function At(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var r=Je(e,n).stateAfter;if(r&&(!(r instanceof ft)||n+r.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}var Et=!1,It=!1;function Lt(){Et=!0}function Mt(){It=!0}function Ot(e,t,i){this.marker=e,this.from=t,this.to=i}function _t(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function Pt(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function $t(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Bt(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!i||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Ot(a,o.from,l?null:o.to))}}return n}function Ft(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!i||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Ot(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return n}function Nt(e,t){if(t.full)return null;var i=it(e,t.from.line)&&Je(e,t.from.line).markedSpans,n=it(e,t.to.line)&&Je(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,o=t.to.ch,a=0==ot(t.from,t.to),s=Bt(i,r,a),l=Ft(n,o,a),c=1==t.text.length,u=K(t.text).length+(c?r:0);if(s)for(var h=0;h<s.length;++h){var d=s[h];if(null==d.to){var p=_t(l,d.marker);p?c&&(d.to=null==p.to?null:p.to+u):d.to=r}}if(l)for(var f=0;f<l.length;++f){var m=l[f];if(null!=m.to&&(m.to+=u),null==m.from){var g=_t(s,m.marker);g||(m.from=u,c&&(s||(s=[])).push(m))}else m.from+=u,c&&(s||(s=[])).push(m)}s&&(s=Rt(s)),l&&l!=s&&(l=Rt(l));var v=[s];if(!c){var y,b=t.text.length-2;if(b>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new Ot(s[x].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(l)}return v}function Rt(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function jt(e,t,i){var n=null;if(e.iter(t.line,i.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=j(n,i)||(n||(n=[])).push(i)}})),!n)return null;for(var r=[{from:t,to:i}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),l=0;l<r.length;++l){var c=r[l];if(!(ot(c.to,s.from)<0||ot(c.from,s.to)>0)){var u=[l,1],h=ot(c.from,s.from),d=ot(c.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&u.push({from:c.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}function Vt(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Ut(e){return e.inclusiveLeft?-1:0}function zt(e){return e.inclusiveRight?1:0}function Wt(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),o=ot(n.from,r.from)||Ut(e)-Ut(t);if(o)return-o;var a=ot(n.to,r.to)||zt(e)-zt(t);return a||t.id-e.id}function qt(e,t){var i,n=It&&e.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)r=n[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!i||Wt(i,r.marker)<0)&&(i=r.marker);return i}function Yt(e){return qt(e,!0)}function Gt(e){return qt(e,!1)}function Kt(e,t){var i,n=It&&e.markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!i||Wt(i,o.marker)<0)&&(i=o.marker)}return i}function Jt(e,t,i,n,r){var o=Je(e,t),a=It&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=ot(c.from,i)||Ut(l.marker)-Ut(r),h=ot(c.to,n)||zt(l.marker)-zt(r);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ot(c.to,i)>=0:ot(c.to,i)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ot(c.from,n)<=0:ot(c.from,n)<0)))return!0}}}function Xt(e){var t;while(t=Yt(e))e=t.find(-1,!0).line;return e}function Zt(e){var t;while(t=Gt(e))e=t.find(1,!0).line;return e}function Qt(e){var t,i;while(t=Gt(e))e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function ei(e,t){var i=Je(e,t),n=Xt(i);return i==n?t:et(n)}function ti(e,t){if(t>e.lastLine())return t;var i,n=Je(e,t);if(!ii(e,n))return t;while(i=Gt(n))n=i.find(1,!0).line;return et(n)+1}function ii(e,t){var i=It&&t.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ni(e,t,n))return!0}}function ni(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return ni(e,n.line,_t(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&ni(e,t,r))return!0}function ri(e){e=Xt(e);for(var t=0,i=e.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var o=i.parent;o;i=o,o=i.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==i)break;t+=s.height}return t}function oi(e){if(0==e.height)return 0;var t,i=e.text.length,n=e;while(t=Yt(n)){var r=t.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}n=e;while(t=Gt(n)){var o=t.find(0,!0);i-=n.text.length-o.from.ch,n=o.to.line,i+=n.text.length-o.to.ch}return i}function ai(e){var t=e.display,i=e.doc;t.maxLine=Je(i,i.first),t.maxLineLength=oi(t.maxLine),t.maxLineChanged=!0,i.iter((function(e){var i=oi(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)}))}var si=function(e,t,i){this.text=e,Ht(this,t),this.height=i?i(this):1};function li(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Vt(e),Ht(e,i);var r=n?n(e):1;r!=e.height&&Qe(e,r)}function ci(e){e.parent=null,Vt(e)}si.prototype.lineNo=function(){return et(this)},we(si);var ui={},hi={};function di(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?hi:ui;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function pi(e,t){var i=L("span",null,null,l?"padding-right: .1px":null),n={pre:L("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,a=void 0;n.pos=0,n.addToken=mi,Oe(e.display.measure)&&(a=de(o,e.doc.direction))&&(n.addToken=vi(n.addToken,a)),n.map=[];var s=t!=e.display.externalMeasured&&et(o);bi(o,n,vt(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=P(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=P(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Me(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var c=n.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return ve(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=P(n.pre.className,n.textClass||"")),n}function fi(e){var t=I("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function mi(e,t,i,n,r,o,l){if(t){var c,u=e.splitSpaces?gi(t,e.trailingSpace):t,h=e.cm.state.specialChars,d=!1;if(h.test(t)){c=document.createDocumentFragment();var p=0;while(1){h.lastIndex=p;var f=h.exec(t),m=f?f.index-p:t.length-p;if(m){var g=document.createTextNode(u.slice(p,p+m));a&&s<9?c.appendChild(I("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;p+=m+1;var v=void 0;if("\t"==f[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=c.appendChild(I("span",G(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==f[0]||"\n"==f[0]?(v=c.appendChild(I("span","\r"==f[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",f[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(f[0]),v.setAttribute("cm-text",f[0]),a&&s<9?c.appendChild(I("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),i||n||r||d||o){var x=i||"";n&&(x+=n),r&&(x+=r);var w=I("span",[c],x,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,l[k]);return e.content.appendChild(w)}e.content.appendChild(c)}}function gi(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!i||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),n+=o,i=" "==o}return n}function vi(e,t){return function(i,n,r,o,a,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var h=void 0,d=0;d<t.length;d++)if(h=t[d],h.to>c&&h.from<=c)break;if(h.to>=u)return e(i,n,r,o,a,s,l);e(i,n.slice(0,h.to-c),r,o,null,s,l),o=null,n=n.slice(h.to-c),c=h.to}}}function yi(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function bi(e,t,i){var n=e.markedSpans,r=e.text,o=0;if(n)for(var a,s,l,c,u,h,d,p=r.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=s="",d=null,h=null,v=1/0;for(var y=[],b=void 0,x=0;x<n.length;++x){var w=n[x],k=w.marker;if("bookmark"==k.type&&w.from==f&&k.widgetNode)y.push(k);else if(w.from<=f&&(null==w.to||w.to>f||k.collapsed&&w.to==f&&w.from==f)){if(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&w.from==f&&(u+=" "+k.startStyle),k.endStyle&&w.to==v&&(b||(b=[])).push(k.endStyle,w.to),k.title&&((d||(d={})).title=k.title),k.attributes)for(var C in k.attributes)(d||(d={}))[C]=k.attributes[C];k.collapsed&&(!h||Wt(h.marker,k)<0)&&(h=w)}else w.from>f&&v>w.from&&(v=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!h||h.from==f)for(var T=0;T<y.length;++T)yi(t,0,y[T]);if(h&&(h.from||0)==f){if(yi(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=p)break;var D=Math.min(p,v);while(1){if(g){var A=f+g.length;if(!h){var E=A>D?g.slice(0,D-f):g;t.addToken(t,E,a?a+l:l,u,f+E.length==v?c:"",s,d)}if(A>=D){g=g.slice(D-f),f=D;break}f=A,u=""}g=r.slice(o,o=i[m++]),a=di(i[m++],t.cm.options)}}else for(var I=1;I<i.length;I+=2)t.addToken(t,r.slice(o,o=i[I]),di(i[I+1],t.cm.options))}function xi(e,t,i){this.line=t,this.rest=Qt(t),this.size=this.rest?et(K(this.rest))-i+1:1,this.node=this.text=null,this.hidden=ii(e,t)}function wi(e,t,i){for(var n,r=[],o=t;o<i;o=n){var a=new xi(e.doc,Je(e.doc,o),o);n=o+a.size,r.push(a)}return r}var ki=null;function Ci(e){ki?ki.ops.push(e):e.ownsGroup=ki={ops:[e],delayedCallbacks:[]}}function Si(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)while(r.cursorActivityCalled<r.cursorActivityHandlers.length)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}function Ti(e,t){var i=e.ownsGroup;if(i)try{Si(i)}finally{ki=null,t(i)}}var Di=null;function Ai(e,t){var i=me(e,t);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);ki?n=ki.delayedCallbacks:Di?n=Di:(n=Di=[],setTimeout(Ei,0));for(var o=function(e){n.push((function(){return i[e].apply(null,r)}))},a=0;a<i.length;++a)o(a)}}function Ei(){var e=Di;Di=null;for(var t=0;t<e.length;++t)e[t]()}function Ii(e,t,i,n){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?_i(e,t):"gutter"==o?$i(e,t,i,n):"class"==o?Pi(e,t):"widget"==o&&Bi(e,t,n)}t.changes=null}function Li(e){return e.node==e.text&&(e.node=I("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Mi(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=Li(t);t.background=n.insertBefore(I("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}function Oi(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):pi(e,t)}function _i(e,t){var i=t.text.className,n=Oi(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Pi(e,t)):i&&(t.text.className=i)}function Pi(e,t){Mi(e,t),t.line.wrapClass?Li(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function $i(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=Li(t);t.gutterBackground=I("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=Li(t),s=t.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(I("div",nt(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(I("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function Bi(e,t,i){t.alignable&&(t.alignable=null);for(var n=S("CodeMirror-linewidget"),r=t.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,n.test(r.className)&&t.node.removeChild(r);Ni(e,t,i)}function Fi(e,t,i,n){var r=Oi(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),Pi(e,t),$i(e,t,i,n),Ni(e,t,n),t.node}function Ni(e,t,i){if(Ri(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)Ri(e,t.rest[n],t,i,!1)}function Ri(e,t,i,n,r){if(t.widgets)for(var o=Li(i),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=I("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),ji(l,c,i,n),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),Ai(l,"redraw")}}function ji(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Vi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!M(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),E(t.display.measure,I("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Hi(e,t){for(var i=De(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Ui(e){return e.lineSpace.offsetTop}function zi(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Wi(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,I("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function qi(e){return V-e.display.nativeBarWidth}function Yi(e){return e.display.scroller.clientWidth-qi(e)-e.display.barWidth}function Gi(e){return e.display.scroller.clientHeight-qi(e)-e.display.barHeight}function Ki(e,t,i){var n=e.options.lineWrapping,r=n&&Yi(e);if(!t.measure.heights||n&&t.measure.width!=r){var o=t.measure.heights=[];if(n){t.measure.width=r;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}function Ji(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var r=0;r<e.rest.length;r++)if(et(e.rest[r])>i)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Xi(e,t){t=Xt(t);var i=et(t),n=e.display.externalMeasured=new xi(e.doc,t,i);n.lineN=i;var r=n.built=pi(e,n);return n.text=r.pre,E(e.display.lineMeasure,r.pre),n}function Zi(e,t,i,n){return tn(e,en(e,t),i,n)}function Qi(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[$n(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function en(e,t){var i=et(t),n=Qi(e,i);n&&!n.text?n=null:n&&n.changes&&(Ii(e,n,i,Ln(e)),e.curOp.forceUpdate=!0),n||(n=Xi(e,t));var r=Ji(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function tn(e,t,i,n,r){t.before&&(i=-1);var o,a=i+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ki(e,t.view,t.rect),t.hasHeights=!0),o=sn(e,t,i,n),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var nn,rn={left:0,right:0,top:0,bottom:0};function on(e,t,i){for(var n,r,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,a="left"):t<l?(r=t-s,o=r+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-s,r=o-1,t>=l&&(a="right")),null!=r){if(n=e[c+2],s==l&&i==(n.insertLeft?"left":"right")&&(a=i),"left"==i&&0==r)while(c&&e[c-2]==e[c-3]&&e[c-1].insertLeft)n=e[2+(c-=3)],a="left";if("right"==i&&r==l-s)while(c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft)n=e[(c+=3)+2],a="right";break}return{node:n,start:r,end:o,collapse:a,coverStart:s,coverEnd:l}}function an(e,t){var i=rn;if("left"==t){for(var n=0;n<e.length;n++)if((i=e[n]).left!=i.right)break}else for(var r=e.length-1;r>=0;r--)if((i=e[r]).left!=i.right)break;return i}function sn(e,t,i,n){var r,o=on(t.map,i,n),l=o.node,c=o.start,u=o.end,h=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){while(c&&oe(t.line.text.charAt(o.coverStart+c)))--c;while(o.coverStart+u<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+u)))++u;if(r=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():an(T(l,c,u).getClientRects(),n),r.left||r.right||0==c)break;u=c,c-=1,h="right"}a&&s<11&&(r=ln(e.display.measure,r))}else{var p;c>0&&(h=n="right"),r=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!r||!r.left&&!r.right)){var f=l.parentNode.getClientRects()[0];r=f?{left:f.left,right:f.left+In(e.display),top:f.top,bottom:f.bottom}:rn}for(var m=r.top-t.rect.top,g=r.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1;b++)if(v<y[b])break;var x=b?y[b-1]:0,w=y[b],k={left:("right"==h?r.right:r.left)-t.rect.left,right:("left"==h?r.left:r.right)-t.rect.left,top:x,bottom:w};return r.left||r.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=g),k}function ln(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Fe(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function cn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function un(e){e.display.externalMeasure=null,A(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cn(e.display.view[t])}function hn(e){un(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function dn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function fn(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=Vi(e.widgets[i]));return t}function mn(e,t,i,n,r){if(!r){var o=fn(t);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var a=ri(t);if("local"==n?a+=Ui(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:pn());var l=s.left+("window"==n?0:dn());i.left+=l,i.right+=l}return i.top+=a,i.bottom+=a,i}function gn(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=dn(),r-=pn();else if("local"==i||!i){var o=e.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:r-a.top}}function vn(e,t,i,n,r){return n||(n=Je(e.doc,t.line)),mn(e,n,Zi(e,n,t.ch,r),i)}function yn(e,t,i,n,r,o){function a(t,a){var s=tn(e,r,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,mn(e,n,s,i)}n=n||Je(e.doc,t.line),r||(r=en(e,n));var s=de(n,e.doc.direction),l=t.ch,c=t.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(e,t,i){var n=s[t],r=1==n.level;return a(i?e-1:e,r!=i)}var h=ue(s,l,c),d=ce,p=u(l,h,"before"==c);return null!=d&&(p.other=u(l,d,"before"!=c)),p}function bn(e,t){var i=0;t=ht(e.doc,t),e.options.lineWrapping||(i=In(e.display)*t.ch);var n=Je(e.doc,t.line),r=ri(n)+Ui(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function xn(e,t,i,n,r){var o=rt(e,t,i);return o.xRel=r,n&&(o.outside=n),o}function wn(e,t,i){var n=e.doc;if(i+=e.display.viewOffset,i<0)return xn(n.first,0,null,-1,-1);var r=tt(n,i),o=n.first+n.size-1;if(r>o)return xn(n.first+n.size-1,Je(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Je(n,r);;){var s=Tn(e,a,r,t,i),l=Kt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==r)return c;a=Je(n,r=c.line)}}function kn(e,t,i,n){n-=fn(t);var r=t.text.length,o=se((function(t){return tn(e,i,t-1).bottom<=n}),r,0);return r=se((function(t){return tn(e,i,t).top>n}),o,r),{begin:o,end:r}}function Cn(e,t,i,n){i||(i=en(e,t));var r=mn(e,t,tn(e,i,n),"line").top;return kn(e,t,i,r)}function Sn(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function Tn(e,t,i,n,r){r-=ri(t);var o=en(e,t),a=fn(t),s=0,l=t.text.length,c=!0,u=de(t,e.doc.direction);if(u){var h=(e.options.lineWrapping?An:Dn)(e,t,i,o,u,n,r);c=1!=h.level,s=c?h.from:h.to-1,l=c?h.to:h.from-1}var d,p,f=null,m=null,g=se((function(t){var i=tn(e,o,t);return i.top+=a,i.bottom+=a,!!Sn(i,n,r,!1)&&(i.top<=r&&i.left<=n&&(f=t,m=i),!0)}),s,l),v=!1;if(m){var y=n-m.left<m.right-n,b=y==c;g=f+(b?0:1),p=b?"after":"before",d=y?m.left:m.right}else{c||g!=l&&g!=s||g++,p=0==g?"after":g==t.text.length?"before":tn(e,o,g-(c?1:0)).bottom+a<=r==c?"after":"before";var x=yn(e,rt(i,g,p),"line",t,o);d=x.left,v=r<x.top?-1:r>=x.bottom?1:0}return g=ae(t.text,g,1),xn(i,g,p,v,n-d)}function Dn(e,t,i,n,r,o,a){var s=se((function(s){var l=r[s],c=1!=l.level;return Sn(yn(e,rt(i,c?l.to:l.from,c?"before":"after"),"line",t,n),o,a,!0)}),0,r.length-1),l=r[s];if(s>0){var c=1!=l.level,u=yn(e,rt(i,c?l.from:l.to,c?"after":"before"),"line",t,n);Sn(u,o,a,!0)&&u.top>a&&(l=r[s-1])}return l}function An(e,t,i,n,r,o,a){var s=kn(e,t,n,a),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,h=null,d=0;d<r.length;d++){var p=r[d];if(!(p.from>=c||p.to<=l)){var f=1!=p.level,m=tn(e,n,f?Math.min(c,p.to)-1:Math.max(l,p.from)).right,g=m<o?o-m+1e9:m-o;(!u||h>g)&&(u=p,h=g)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function En(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==nn){nn=I("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)nn.appendChild(document.createTextNode("x")),nn.appendChild(I("br"));nn.appendChild(document.createTextNode("x"))}E(e.measure,nn);var i=nn.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),A(e.measure),i||1}function In(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=I("span","xxxxxxxxxx"),i=I("pre",[t],"CodeMirror-line-like");E(e.measure,i);var n=t.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function Ln(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;i[s]=o.offsetLeft+o.clientLeft+r,n[s]=o.clientWidth}return{fixedPos:Mn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Mn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function On(e){var t=En(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/In(e.display)-3);return function(r){if(ii(e.doc,r))return 0;var o=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(o+=r.widgets[a].height);return i?o+(Math.ceil(r.text.length/n)||1)*t:o+t}}function _n(e){var t=e.doc,i=On(e);t.iter((function(e){var t=i(e);t!=e.height&&Qe(e,t)}))}function Pn(e,t,i,n){var r=e.display;if(!i&&"true"==De(t).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=wn(e,o,a);if(n&&c.xRel>0&&(l=Je(e.doc,c.line).text).length==c.ch){var u=N(l,l.length,e.options.tabSize)-l.length;c=rt(c.line,Math.max(0,Math.round((o-Wi(e.display).left)/In(e.display))-u))}return c}function $n(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if(t-=i[n].size,t<0)return n}function Bn(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var r=e.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)It&&ei(e.doc,t)<r.viewTo&&Nn(e);else if(i<=r.viewFrom)It&&ti(e.doc,i+n)>r.viewFrom?Nn(e):(r.viewFrom+=n,r.viewTo+=n);else if(t<=r.viewFrom&&i>=r.viewTo)Nn(e);else if(t<=r.viewFrom){var o=Rn(e,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):Nn(e)}else if(i>=r.viewTo){var a=Rn(e,t,t,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):Nn(e)}else{var s=Rn(e,t,t,-1),l=Rn(e,i,i+n,1);s&&l?(r.view=r.view.slice(0,s.index).concat(wi(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=n):Nn(e)}var c=r.externalMeasured;c&&(i<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(r.externalMeasured=null))}function Fn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[$n(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==j(a,i)&&a.push(i)}}}function Nn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Rn(e,t,i,n){var r,o=$n(e,t),a=e.display.view;if(!It||i==e.doc.first+e.doc.size)return{index:o,lineN:i};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(n>0){if(o==a.length-1)return null;r=s+a[o].size-t,o++}else r=s-t;t+=r,i+=r}while(ei(e.doc,i)!=i){if(o==(n<0?0:a.length-1))return null;i+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function jn(e,t,i){var n=e.display,r=n.view;0==r.length||t>=n.viewTo||i<=n.viewFrom?(n.view=wi(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=wi(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice($n(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(wi(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,$n(e,i)))),n.viewTo=i}function Vn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function Hn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Un(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<i.sel.ranges.length;a++)if(t||a!=i.sel.primIndex){var s=i.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&zn(e,s.head,r),l||qn(e,s,o)}}return n}function zn(e,t,i){var n=yn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=i.appendChild(I("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=i.appendChild(I("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Wn(e,t){return e.top-t.top||e.left-t.left}function qn(e,t,i){var n=e.display,r=e.doc,o=document.createDocumentFragment(),a=Wi(e.display),s=a.left,l=Math.max(n.sizerWidth,Yi(e)-n.sizer.offsetLeft)-a.right,c="ltr"==r.direction;function u(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?l-e:i)+"px;\n                             height: "+(n-t)+"px"))}function h(t,i,n){var o,a,h=Je(r,t),d=h.text.length;function p(i,n){return vn(e,rt(t,i),"div",h,n)}function f(t,i,n){var r=Cn(e,h,null,t),o="ltr"==i==("after"==n)?"left":"right",a="after"==n?r.begin:r.end-(/\s/.test(h.text.charAt(r.end-1))?2:1);return p(a,o)[o]}var m=de(h,r.direction);return le(m,i||0,null==n?d:n,(function(e,t,r,h){var g="ltr"==r,v=p(e,g?"left":"right"),y=p(t-1,g?"right":"left"),b=null==i&&0==e,x=null==n&&t==d,w=0==h,k=!m||h==m.length-1;if(y.top-v.top<=3){var C=(c?b:x)&&w,S=(c?x:b)&&k,T=C?s:(g?v:y).left,D=S?l:(g?y:v).right;u(T,v.top,D-T,v.bottom)}else{var A,E,I,L;g?(A=c&&b&&w?s:v.left,E=c?l:f(e,r,"before"),I=c?s:f(t,r,"after"),L=c&&x&&k?l:y.right):(A=c?f(e,r,"before"):s,E=!c&&b&&w?l:v.right,I=!c&&x&&k?s:y.left,L=c?f(t,r,"after"):l),u(A,v.top,E-A,v.bottom),v.bottom<y.top&&u(s,v.bottom,null,y.top),u(I,y.top,L-I,y.bottom)}(!o||Wn(v,o)<0)&&(o=v),Wn(y,o)<0&&(o=y),(!a||Wn(v,a)<0)&&(a=v),Wn(y,a)<0&&(a=y)})),{start:o,end:a}}var d=t.from(),p=t.to();if(d.line==p.line)h(d.line,d.ch,p.ch);else{var f=Je(r,d.line),m=Je(r,p.line),g=Xt(f)==Xt(m),v=h(d.line,d.ch,g?f.text.length+1:null).end,y=h(p.line,g?0:null,p.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(s,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(s,v.bottom,null,y.top)}i.appendChild(o)}function Yn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Gn(e){e.state.focused||(e.display.input.focus(),Jn(e))}function Kn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Xn(e))}),100)}function Jn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ve(e,"focus",e,t),e.state.focused=!0,_(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Yn(e))}function Xn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,"blur",e,t),e.state.focused=!1,D(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Zn(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r=t.view[n],o=e.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(a&&s<8){var u=r.node.offsetTop+r.node.offsetHeight;l=u-i,i=u}else{var h=r.node.getBoundingClientRect();l=h.bottom-h.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-h.left-1)}var d=r.line.height-l;if((d>.005||d<-.005)&&(Qe(r.line,l),Qn(r.line),r.rest))for(var p=0;p<r.rest.length;p++)Qn(r.rest[p]);if(c>e.display.sizerWidth){var f=Math.ceil(c/In(e.display));f>e.display.maxLineLength&&(e.display.maxLineLength=f,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function Qn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function er(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Ui(e));var r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,o=tt(t,n),a=tt(t,r);if(i&&i.ensure){var s=i.ensure.from.line,l=i.ensure.to.line;s<o?(o=s,a=tt(t,ri(Je(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=tt(t,ri(Je(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function tr(e,t){if(!ye(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),r=null;if(t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!f){var o=I("div","​",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-Ui(e.display))+"px;\n                         height: "+(t.bottom-t.top+qi(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}function ir(e,t,i,n){var r;null==n&&(n=0),e.options.lineWrapping||t!=i||(t=t.ch?rt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,i="before"==t.sticky?rt(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=yn(e,t),l=i&&i!=t?yn(e,i):s;r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n};var c=rr(e,r),u=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=c.scrollTop&&(hr(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(pr(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(a=!0)),!a)break}return r}function nr(e,t){var i=rr(e,t);null!=i.scrollTop&&hr(e,i.scrollTop),null!=i.scrollLeft&&pr(e,i.scrollLeft)}function rr(e,t){var i=e.display,n=En(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,o=Gi(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+zi(i),l=t.top<n,c=t.bottom>s-n;if(t.top<r)a.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=r&&(a.scrollTop=u)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,d=Yi(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),p=t.right-t.left>d;return p&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<h?a.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>d+h-3&&(a.scrollLeft=t.right+(p?0:10)-d),a}function or(e,t){null!=t&&(cr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ar(e){cr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function sr(e,t,i){null==t&&null==i||cr(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function lr(e,t){cr(e),e.curOp.scrollToPos=t}function cr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=bn(e,t.from),n=bn(e,t.to);ur(e,i,n,t.margin)}}function ur(e,t,i,n){var r=rr(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});sr(e,r.scrollLeft,r.scrollTop)}function hr(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||Hr(e,{top:t}),dr(e,t,!0),i&&Hr(e),Pr(e,100))}function dr(e,t,i){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function pr(e,t,i,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,qr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function fr(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+zi(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+qi(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var mr=function(e,t,i){this.cm=i;var n=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,e(n),e(r),fe(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),fe(r,"scroll",(function(){r.clientWidth&&t(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var r=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},mr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mr.prototype.zeroWidthHack=function(){var e=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},mr.prototype.enableZeroWidthBar=function(e,t,i){function n(){var r=e.getBoundingClientRect(),o="vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},mr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var gr=function(){};function vr(e,t){t||(t=fr(e));var i=e.display.barWidth,n=e.display.barHeight;yr(e,t);for(var r=0;r<4&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&Zn(e),yr(e,fr(e)),i=e.display.barWidth,n=e.display.barHeight}function yr(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}gr.prototype.update=function(){return{bottom:0,right:0}},gr.prototype.setScrollLeft=function(){},gr.prototype.setScrollTop=function(){},gr.prototype.clear=function(){};var br={native:mr,null:gr};function xr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&D(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new br[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),fe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,i){"horizontal"==i?pr(e,t):hr(e,t)}),e),e.display.scrollbars.addClass&&_(e.display.wrapper,e.display.scrollbars.addClass)}var wr=0;function kr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wr},Ci(e.curOp)}function Cr(e){var t=e.curOp;t&&Ti(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Sr(e)}))}function Sr(e){for(var t=e.ops,i=0;i<t.length;i++)Tr(t[i]);for(var n=0;n<t.length;n++)Dr(t[n]);for(var r=0;r<t.length;r++)Ar(t[r]);for(var o=0;o<t.length;o++)Er(t[o]);for(var a=0;a<t.length;a++)Ir(t[a])}function Tr(e){var t=e.cm,i=t.display;Fr(t),e.updateMaxLine&&ai(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Br(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Dr(e){e.updatedDisplay=e.mustUpdate&&jr(e.cm,e.update)}function Ar(e){var t=e.cm,i=t.display;e.updatedDisplay&&Zn(t),e.barMeasure=fr(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Zi(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+qi(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Yi(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Er(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&pr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==O();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&vr(t,e.barMeasure),e.updatedDisplay&&Wr(t,e.barMeasure),e.selectionChanged&&Yn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&Gn(e.cm)}function Ir(e){var t=e.cm,i=t.display,n=t.doc;if(e.updatedDisplay&&Vr(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&dr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&pr(t,e.scrollLeft,!0,!0),e.scrollToPos){var r=ir(t,ht(n,e.scrollToPos.from),ht(n,e.scrollToPos.to),e.scrollToPos.margin);tr(t,r)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||ve(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&ve(a[l],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Lr(e,t){if(e.curOp)return t();kr(e);try{return t()}finally{Cr(e)}}function Mr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);kr(e);try{return t.apply(e,arguments)}finally{Cr(e)}}}function Or(e){return function(){if(this.curOp)return e.apply(this,arguments);kr(this);try{return e.apply(this,arguments)}finally{Cr(this)}}}function _r(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);kr(t);try{return e.apply(this,arguments)}finally{Cr(t)}}}function Pr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,B($r,e))}function $r(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=yt(e,t.highlightFrontier),r=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?qe(t.mode,n.state):null,l=gt(e,o,n,!0);s&&(n.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<a.length;++d)h=a[d]!=o.styles[d];h&&r.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&bt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Pr(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),r.length&&Lr(e,(function(){for(var t=0;t<r.length;t++)Fn(e,r[t],"text")}))}}var Br=function(e,t,i){var n=e.display;this.viewport=t,this.visible=er(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Yi(e),this.force=i,this.dims=Ln(e),this.events=[]};function Fr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qi(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qi(e)+"px",t.scrollbarsClipped=!0)}function Nr(e){if(e.hasFocus())return null;var t=O();if(!t||!M(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&M(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Rr(e){if(e&&e.activeElt&&e.activeElt!=O()&&(e.activeElt.focus(),e.anchorNode&&M(document.body,e.anchorNode)&&M(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}function jr(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return Nn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Vn(e))return!1;Yr(e)&&(Nn(e),t.dims=Ln(e));var r=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>a&&i.viewTo-a<20&&(a=Math.min(r,i.viewTo)),It&&(o=ei(e.doc,o),a=ti(e.doc,a));var s=o!=i.viewFrom||a!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;jn(e,o,a),i.viewOffset=ri(Je(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var l=Vn(e);if(!s&&0==l&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=Nr(e);return l>4&&(i.lineDiv.style.display="none"),Ur(e,i.updateLineNumbers,t.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Rr(c),A(i.cursorDiv),A(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,s&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Pr(e,400)),i.updateLineNumbers=null,!0}function Vr(e,t){for(var i=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Yi(e))n&&(t.visible=er(e.display,e.doc,i));else if(i&&null!=i.top&&(i={top:Math.min(e.doc.height+zi(e.display)-Gi(e),i.top)}),t.visible=er(e.display,e.doc,i),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!jr(e,t))break;Zn(e);var r=fr(e);Hn(e),vr(e,r),Wr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Hr(e,t){var i=new Br(e,t);if(jr(e,i)){Zn(e),Vr(e,i);var n=fr(e);Hn(e),vr(e,n),Wr(e,n),i.finish()}}function Ur(e,t,i){var n=e.display,r=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(t){var i=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var c=n.view,u=n.viewFrom,h=0;h<c.length;h++){var d=c[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){while(a!=d.node)a=s(a);var p=r&&null!=t&&t<=u&&d.lineNumber;d.changes&&(j(d.changes,"gutter")>-1&&(p=!1),Ii(e,d,u,i)),p&&(A(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(nt(e.options,u)))),a=d.node.nextSibling}else{var f=Fi(e,d,u,i);o.insertBefore(f,a)}u+=d.size}while(a)a=s(a)}function zr(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Wr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+qi(e)+"px"}function qr(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Mn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=n+"px",a=0;a<i.length;a++)if(!i[a].hidden){e.options.fixedGutter&&(i[a].gutter&&(i[a].gutter.style.left=o),i[a].gutterBackground&&(i[a].gutterBackground.style.left=o));var s=i[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function Yr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=nt(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(I("div",[I("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,a=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",zr(e.display),!0}return!1}function Gr(e,t){for(var i=[],n=!1,r=0;r<e.length;r++){var o=e[r],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}i.push({className:o,style:a})}return t&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function Kr(e){var t=e.gutters,i=e.gutterSpecs;A(t),e.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],o=r.className,a=r.style,s=t.appendChild(I("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=i.length?"":"none",zr(e)}function Jr(e){Kr(e.display),Bn(e),qr(e)}function Xr(e,t,n,r){var o=this;this.input=n,o.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=I("div",null,"CodeMirror-cursors"),o.measure=I("div",null,"CodeMirror-measure"),o.lineMeasure=I("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=I("div",[c],null,"position: relative"),o.sizer=I("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=I("div",null,null,"position: absolute; height: "+V+"px; width: 1px;"),o.gutters=I("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=I("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=I("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||i&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Gr(r.gutters,r.lineNumbers),Kr(o),n.init(o)}Br.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},Br.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ve.apply(null,this.events[e])};var Zr=0,Qr=null;function eo(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function to(e){var t=eo(e);return t.x*=Qr,t.y*=Qr,t}function io(e,t){var n=eo(t),r=n.x,o=n.y,a=e.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(r&&c||o&&u){if(o&&y&&l)e:for(var d=t.target,p=a.view;d!=s;d=d.parentNode)for(var f=0;f<p.length;f++)if(p[f].node==d){e.display.currentWheelTarget=d;break e}if(r&&!i&&!h&&null!=Qr)return o&&u&&hr(e,Math.max(0,s.scrollTop+o*Qr)),pr(e,Math.max(0,s.scrollLeft+r*Qr)),(!o||o&&u)&&ke(t),void(a.wheelStartX=null);if(o&&null!=Qr){var m=o*Qr,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),Hr(e,{top:g,bottom:v})}Zr<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=r,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,i=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,i&&(Qr=(Qr*Zr+i)/(Zr+1),++Zr)}}),200)):(a.wheelDX+=r,a.wheelDY+=o))}}a?Qr=-.53:i?Qr=15:u?Qr=-.7:d&&(Qr=-1/3);var no=function(e,t){this.ranges=e,this.primIndex=t};no.prototype.primary=function(){return this.ranges[this.primIndex]},no.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!at(i.anchor,n.anchor)||!at(i.head,n.head))return!1}return!0},no.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ro(st(this.ranges[t].anchor),st(this.ranges[t].head));return new no(e,this.primIndex)},no.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},no.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(ot(t,n.from())>=0&&ot(e,n.to())<=0)return i}return-1};var ro=function(e,t){this.anchor=e,this.head=t};function oo(e,t,i){var n=e&&e.options.selectionsMayTouch,r=t[i];t.sort((function(e,t){return ot(e.from(),t.from())})),i=j(t,r);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=ot(s.to(),a.from());if(n&&!a.empty()?l>0:l>=0){var c=ct(s.from(),a.from()),u=lt(s.to(),a.to()),h=s.empty()?a.from()==a.head:s.from()==s.head;o<=i&&--i,t.splice(--o,2,new ro(h?u:c,h?c:u))}}return new no(t,i)}function ao(e,t){return new no([new ro(e,t||e)],0)}function so(e){return e.text?rt(e.from.line+e.text.length-1,K(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function lo(e,t){if(ot(e,t.from)<0)return e;if(ot(e,t.to)<=0)return so(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=so(t).ch-t.to.ch),rt(i,n)}function co(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new ro(lo(r.anchor,t),lo(r.head,t)))}return oo(e.cm,i,e.sel.primIndex)}function uo(e,t,i){return e.line==t.line?rt(i.line,e.ch-t.ch+i.ch):rt(i.line+(e.line-t.line),e.ch)}function ho(e,t,i){for(var n=[],r=rt(e.first,0),o=r,a=0;a<t.length;a++){var s=t[a],l=uo(s.from,r,o),c=uo(so(s),r,o);if(r=s.to,o=c,"around"==i){var u=e.sel.ranges[a],h=ot(u.head,u.anchor)<0;n[a]=new ro(h?c:l,h?l:c)}else n[a]=new ro(l,l)}return new no(n,e.sel.primIndex)}function po(e){e.doc.mode=Ue(e.options,e.doc.modeOption),fo(e)}function fo(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Pr(e,100),e.state.modeGen++,e.curOp&&Bn(e)}function mo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==K(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function go(e,t,i,n){function r(e){return i?i[e]:null}function o(e,i,r){li(e,i,r,n),Ai(e,"change",e,t)}function a(e,t){for(var i=[],o=e;o<t;++o)i.push(new si(c[o],r(o),n));return i}var s=t.from,l=t.to,c=t.text,u=Je(e,s.line),h=Je(e,l.line),d=K(c),p=r(c.length-1),f=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(mo(e,t)){var m=a(0,c.length-1);o(h,h.text,p),f&&e.remove(s.line,f),m.length&&e.insert(s.line,m)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,s.ch)+d+u.text.slice(l.ch),p);else{var g=a(1,c.length-1);g.push(new si(d+u.text.slice(l.ch),p,n)),o(u,u.text.slice(0,s.ch)+c[0],r(0)),e.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+h.text.slice(l.ch),r(0)),e.remove(s.line+1,f);else{o(u,u.text.slice(0,s.ch)+c[0],r(0)),o(h,d+h.text.slice(l.ch),p);var v=a(1,c.length-1);f>1&&e.remove(s.line+1,f-1),e.insert(s.line+1,v)}Ai(e,"change",e,t)}function vo(e,t,i){function n(e,r,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=r){var l=o&&s.sharedHist;i&&!l||(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function yo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,_n(e),po(e),bo(e),e.options.lineWrapping||ai(e),e.options.mode=t.modeOption,Bn(e)}function bo(e){("rtl"==e.doc.direction?_:D)(e.display.lineDiv,"CodeMirror-rtl")}function xo(e){Lr(e,(function(){bo(e),Bn(e)}))}function wo(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ko(e,t){var i={from:st(t.from),to:so(t),text:Xe(e,t.from,t.to)};return Io(e,i,t.from.line,t.to.line+1),vo(e,(function(e){return Io(e,i,t.from.line,t.to.line+1)}),!0),i}function Co(e){while(e.length){var t=K(e);if(!t.ranges)break;e.pop()}}function So(e,t){return t?(Co(e.done),K(e.done)):e.done.length&&!K(e.done).ranges?K(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),K(e.done)):void 0}function To(e,t,i,n){var r=e.history;r.undone.length=0;var o,a,s=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=So(r,r.lastOp==n)))a=K(o.changes),0==ot(t.from,t.to)&&0==ot(t.from,a.to)?a.to=so(t):o.changes.push(ko(e,t));else{var l=K(r.done);l&&l.ranges||Eo(e.sel,r.done),o={changes:[ko(e,t)],generation:r.generation},r.done.push(o);while(r.done.length>r.undoDepth)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,a||ve(e,"historyAdded")}function Do(e,t,i,n){var r=t.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ao(e,t,i,n){var r=e.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Do(e,o,K(r.done),t))?r.done[r.done.length-1]=t:Eo(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&!1!==n.clearRedo&&Co(r.undone)}function Eo(e,t){var i=K(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Io(e,t,i,n){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),(function(i){i.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=i.markedSpans),++o}))}function Lo(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Mo(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],r=0;r<t.text.length;++r)n.push(Lo(i[r]));return n}function Oo(e,t){var i=Mo(e,t),n=Nt(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],a=n[r];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(i[r]=a)}return i}function _o(e,t,i){for(var n=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)n.push(i?no.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&j(t,Number(u[1]))>-1&&(K(s)[h]=c[h],delete c[h])}}}return n}function Po(e,t,i,n){if(n){var r=e.anchor;if(i){var o=ot(t,r)<0;o!=ot(i,r)<0?(r=t,t=i):o!=ot(t,i)<0&&(t=i)}return new ro(r,t)}return new ro(i||t,t)}function $o(e,t,i,n,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Vo(e,new no([Po(e.sel.primary(),t,i,r)],0),n)}function Bo(e,t,i){for(var n=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Po(e.sel.ranges[o],t[o],null,r);var a=oo(e.cm,n,e.sel.primIndex);Vo(e,a,i)}function Fo(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,Vo(e,oo(e.cm,r,e.sel.primIndex),n)}function No(e,t,i,n){Vo(e,ao(t,i),n)}function Ro(e,t,i){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new ro(ht(e,t[i].anchor),ht(e,t[i].head))},origin:i&&i.origin};return ve(e,"beforeSelectionChange",e,n),e.cm&&ve(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?oo(e.cm,n.ranges,n.ranges.length-1):t}function jo(e,t,i){var n=e.history.done,r=K(n);r&&r.ranges?(n[n.length-1]=t,Ho(e,t,i)):Vo(e,t,i)}function Vo(e,t,i){Ho(e,t,i),Ao(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Ho(e,t,i){(xe(e,"beforeSelectionChange")||e.cm&&xe(e.cm,"beforeSelectionChange"))&&(t=Ro(e,t,i));var n=i&&i.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);Uo(e,Wo(e,t,n,!0)),i&&!1===i.scroll||!e.cm||ar(e.cm)}function Uo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),Ai(e,"cursorActivity",e))}function zo(e){Uo(e,Wo(e,e.sel,null,!1))}function Wo(e,t,i,n){for(var r,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Yo(e,a.anchor,s&&s.anchor,i,n),c=Yo(e,a.head,s&&s.head,i,n);(r||l!=a.anchor||c!=a.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new ro(l,c))}return r?oo(e.cm,r,t.primIndex):t}function qo(e,t,i,n,r){var o=Je(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(r&&(ve(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(i){var h=l.find(n<0?1:-1),d=void 0;if((n<0?u:c)&&(h=Go(e,h,-n,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(d=ot(h,i))&&(n<0?d<0:d>0))return qo(e,h,t,n,r)}var p=l.find(n<0?-1:1);return(n<0?c:u)&&(p=Go(e,p,n,p.line==t.line?o:null)),p?qo(e,p,t,n,r):null}}return t}function Yo(e,t,i,n,r){var o=n||1,a=qo(e,t,i,o,r)||!r&&qo(e,t,i,o,!0)||qo(e,t,i,-o,r)||!r&&qo(e,t,i,-o,!0);return a||(e.cantEdit=!0,rt(e.first,0))}function Go(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?ht(e,rt(t.line-1)):null:i>0&&t.ch==(n||Je(e,t.line)).text.length?t.line<e.first+e.size-1?rt(t.line+1,0):null:new rt(t.line,t.ch+i)}function Ko(e){e.setSelection(rt(e.firstLine(),0),rt(e.lastLine()),U)}function Jo(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,r,o){t&&(n.from=ht(e,t)),i&&(n.to=ht(e,i)),r&&(n.text=r),void 0!==o&&(n.origin=o)}),ve(e,"beforeChange",e,n),e.cm&&ve(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Xo(e,t,i){if(e.cm){if(!e.cm.curOp)return Mr(e.cm,Xo)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"))||(t=Jo(e,t,!0),t)){var n=Et&&!i&&jt(e,t.from,t.to);if(n)for(var r=n.length-1;r>=0;--r)Zo(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text,origin:t.origin});else Zo(e,t)}}function Zo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ot(t.from,t.to)){var i=co(e,t);To(e,t,i,e.cm?e.cm.curOp.id:NaN),ta(e,t,i,Nt(e,t));var n=[];vo(e,(function(e,i){i||-1!=j(n,e.history)||(aa(e.history,t),n.push(e.history)),ta(e,t,null,Nt(e,t))}))}}function Qo(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var r,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length;c++)if(r=s[c],i?r.ranges&&!r.equals(e.sel):!r.ranges)break;if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(r=s.pop(),!r.ranges){if(n)return void s.push(r);break}if(Eo(r,l),i&&!r.equals(e.sel))return void Vo(e,r,{clearRedo:!1});a=r}var u=[];Eo(a,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var h=xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"),d=function(i){var n=r.changes[i];if(n.origin=t,h&&!Jo(e,n,!1))return s.length=0,{};u.push(ko(e,n));var o=i?co(e,n):K(s);ta(e,n,o,Oo(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:so(n)});var a=[];vo(e,(function(e,t){t||-1!=j(a,e.history)||(aa(e.history,n),a.push(e.history)),ta(e,n,null,Oo(e,n))}))},p=r.changes.length-1;p>=0;--p){var f=d(p);if(f)return f.v}}}}function ea(e,t){if(0!=t&&(e.first+=t,e.sel=new no(J(e.sel.ranges,(function(e){return new ro(rt(e.anchor.line+t,e.anchor.ch),rt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Bn(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Fn(e.cm,n,"gutter")}}function ta(e,t,i,n){if(e.cm&&!e.cm.curOp)return Mr(e.cm,ta)(e,t,i,n);if(t.to.line<e.first)ea(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);ea(e,r),t={from:rt(e.first,0),to:rt(t.to.line+r,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:rt(o,Je(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Xe(e,t.from,t.to),i||(i=co(e,t)),e.cm?ia(e.cm,t,n):go(e,t,n),Ho(e,i,U),e.cantEdit&&Yo(e,rt(e.firstLine(),0))&&(e.cantEdit=!1)}}function ia(e,t,i){var n=e.doc,r=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=et(Xt(Je(n,o.line))),n.iter(l,a.line+1,(function(e){if(e==r.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&be(e),go(n,t,i,On(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,(function(e){var t=oi(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),At(n,o.line),Pr(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?Bn(e):o.line!=a.line||1!=t.text.length||mo(e.doc,t)?Bn(e,o.line,a.line+1,c):Fn(e,o.line,"text");var u=xe(e,"changes"),h=xe(e,"change");if(h||u){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};h&&Ai(e,"change",e,d),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function na(e,t,i,n,r){var o;n||(n=i),ot(n,i)<0&&(o=[n,i],i=o[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Xo(e,{from:i,to:n,text:t,origin:r})}function ra(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function oa(e,t,i,n){for(var r=0;r<e.length;++r){var o=e[r],a=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)ra(o.ranges[s].anchor,t,i,n),ra(o.ranges[s].head,t,i,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(i<c.from.line)c.from=rt(c.from.line+n,c.from.ch),c.to=rt(c.to.line+n,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function aa(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;oa(e.done,i,n,r),oa(e.undone,i,n,r)}function sa(e,t,i,n){var r=t,o=t;return"number"==typeof t?o=Je(e,ut(e,t)):r=et(t),null==r?null:(n(o,r)&&e.cm&&Fn(e.cm,r,i),o)}function la(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function ca(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}ro.prototype.from=function(){return ct(this.anchor,this.head)},ro.prototype.to=function(){return lt(this.anchor,this.head)},ro.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},la.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var r=this.lines[i];this.height-=r.height,ci(r),Ai(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(e<r){var o=Math.min(t,r-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof la))){var s=[];this.collapse(s),this.children=[new la(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,i),r.lines&&r.lines.length>50){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new la(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new ca(t);if(e.parent){e.size-=i.size,e.height-=i.height;var n=j(e.parent.children,e);e.parent.children.splice(n+1,0,i)}else{var r=new ca(e.children);r.parent=e,e.children=[r,i],e=r}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e);if(r.iterN(e,a,i))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ua=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function ha(e,t,i){ri(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&or(e,i)}function da(e,t,i,n){var r=new ua(e,i,n),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),sa(e,t,"widget",(function(t){var i=t.widgets||(t.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!ii(e,t)){var n=ri(t)<e.scrollTop;Qe(t,t.height+Vi(r)),n&&or(o,r.height),o.curOp.forceUpdate=!0}return!0})),o&&Ai(o,"lineWidgetAdded",o,r,"number"==typeof t?t:et(t)),r}ua.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=et(i);if(null!=n&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);var o=Vi(this);Qe(i,Math.max(0,i.height-o)),e&&(Lr(e,(function(){ha(e,i,-o),Fn(e,n,"widget")})),Ai(e,"lineWidgetCleared",e,this,n))}},ua.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=Vi(this)-t;r&&(ii(this.doc,n)||Qe(n,n.height+r),i&&Lr(i,(function(){i.curOp.forceUpdate=!0,ha(i,n,r),Ai(i,"lineWidgetChanged",i,e,et(n))})))},we(ua);var pa=0,fa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++pa};function ma(e,t,i,n,r){if(n&&n.shared)return va(e,t,i,n,r);if(e.cm&&!e.cm.curOp)return Mr(e.cm,ma)(e,t,i,n,r);var o=new fa(e,r),a=ot(t,i);if(n&&F(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Jt(e,t.line,t,i,o)||t.line!=i.line&&Jt(e,i.line,t,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mt()}o.addToHistory&&To(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,i.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&Xt(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Qe(e,0),$t(e,new Ot(o,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l})),o.collapsed&&e.iter(t.line,i.line+1,(function(t){ii(e,t)&&Qe(t,0)})),o.clearOnEnter&&fe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Lt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++pa,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)Bn(c,t.line,i.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=i.line;u++)Fn(c,u,"text");o.atomic&&zo(c.doc),Ai(c,"markerAdded",c,o)}return o}fa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&kr(e),xe(this,"clear")){var i=this.find();i&&Ai(this,"clear",i.from,i.to)}for(var n=null,r=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=_t(a.markedSpans,this);e&&!this.collapsed?Fn(e,et(a),"text"):e&&(null!=s.to&&(r=et(a)),null!=s.from&&(n=et(a))),a.markedSpans=Pt(a.markedSpans,s),null==s.from&&this.collapsed&&!ii(this.doc,a)&&e&&Qe(a,En(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Xt(this.lines[l]),u=oi(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Bn(e,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&zo(e.doc)),e&&Ai(e,"markerCleared",e,this,n,r),t&&Cr(e),this.parent&&this.parent.clear()}},fa.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],a=_t(o.markedSpans,this);if(null!=a.from&&(i=rt(t?o:et(o),a.from),-1==e))return i;if(null!=a.to&&(n=rt(t?o:et(o),a.to),1==e))return n}return i&&{from:i,to:n}},fa.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&Lr(n,(function(){var r=t.line,o=et(t.line),a=Qi(n,o);if(a&&(cn(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ii(i.doc,r)&&null!=i.height){var s=i.height;i.height=null;var l=Vi(i)-s;l&&Qe(r,r.height+l)}Ai(n,"markerChanged",n,e)}))},fa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=j(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},fa.prototype.detachLine=function(e){if(this.lines.splice(j(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},we(fa);var ga=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function va(e,t,i,n,r){n=F(n),n.shared=!1;var o=[ma(e,t,i,n,r)],a=o[0],s=n.widgetNode;return vo(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(ma(e,ht(e,t),ht(e,i),n,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=K(o)})),new ga(o,a)}function ya(e){return e.findMarks(rt(e.first,0),e.clipPos(rt(e.lastLine())),(function(e){return e.parent}))}function ba(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),o=e.clipPos(r.from),a=e.clipPos(r.to);if(ot(o,a)){var s=ma(e,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function xa(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];vo(i.primary.doc,(function(e){return n.push(e)}));for(var r=0;r<i.markers.length;r++){var o=i.markers[r];-1==j(n,o.doc)&&(o.parent=null,i.markers.splice(r--,1))}},i=0;i<e.length;i++)t(i)}ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ai(this,"clear")}},ga.prototype.find=function(e,t){return this.primary.find(e,t)},we(ga);var wa=0,ka=function(e,t,i,n,r){if(!(this instanceof ka))return new ka(e,t,i,n,r);null==i&&(i=0),ca.call(this,[new la([new si("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var o=rt(i,0);this.sel=ao(o),this.history=new wo(null),this.id=++wa,this.modeOption=t,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),go(this,{from:o,to:o,text:e}),Vo(this,ao(o),U)};ka.prototype=Q(ca.prototype,{constructor:ka,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:_r((function(e){var t=rt(this.first,0),i=this.first+this.size-1;Xo(this,{from:t,to:rt(i,Je(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&sr(this.cm,0,0),Vo(this,ao(t),U)})),replaceRange:function(e,t,i,n){t=ht(this,t),i=i?ht(this,i):t,na(this,e,t,i,n)},getRange:function(e,t,i){var n=Xe(this,ht(this,e),ht(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(it(this,e))return Je(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Je(this,e)),Xt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t,i=this.sel.primary();return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||"to"==e||!1===e?i.to():i.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:_r((function(e,t,i){No(this,ht(this,"number"==typeof e?rt(e,t||0):e),null,i)})),setSelection:_r((function(e,t,i){No(this,ht(this,e),ht(this,t||e),i)})),extendSelection:_r((function(e,t,i){$o(this,ht(this,e),t&&ht(this,t),i)})),extendSelections:_r((function(e,t){Bo(this,pt(this,e),t)})),extendSelectionsBy:_r((function(e,t){var i=J(this.sel.ranges,e);Bo(this,pt(this,i),t)})),setSelections:_r((function(e,t,i){if(e.length){for(var n=[],r=0;r<e.length;r++)n[r]=new ro(ht(this,e[r].anchor),ht(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Vo(this,oo(this.cm,n,t),i)}})),addSelection:_r((function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new ro(ht(this,e),ht(this,t||e))),Vo(this,oo(this.cm,n,n.length-1),i)})),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var r=Xe(this,i[n].from(),i[n].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Xe(this,i[n].from(),i[n].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[n]=r}return t},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:_r((function(e,t,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var a=r.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:i}}for(var s=t&&"end"!=t&&ho(this,n,t),l=n.length-1;l>=0;l--)Xo(this,n[l]);s?jo(this,s):this.cm&&ar(this.cm)})),undo:_r((function(){Qo(this,"undo")})),redo:_r((function(){Qo(this,"redo")})),undoSelection:_r((function(){Qo(this,"undo",!0)})),redoSelection:_r((function(){Qo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){var e=this;this.history=new wo(this.history.maxGeneration),vo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:_o(this.history.done),undone:_o(this.history.undone)}},setHistory:function(e){var t=this.history=new wo(this.history.maxGeneration);t.done=_o(e.done.slice(0),null,!0),t.undone=_o(e.undone.slice(0),null,!0)},setGutterMarker:_r((function(e,t,i){return sa(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&ne(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:_r((function(e){var t=this;this.iter((function(i){i.gutterMarkers&&i.gutterMarkers[e]&&sa(t,i,"gutter",(function(){return i.gutterMarkers[e]=null,ne(i.gutterMarkers)&&(i.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!it(this,e))return null;if(t=e,e=Je(this,e),!e)return null}else if(t=et(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:_r((function(e,t,i){return sa(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(S(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0}))})),removeLineClass:_r((function(e,t,i){return sa(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[n];if(!r)return!1;if(null==i)e[n]=null;else{var o=r.match(S(i));if(!o)return!1;var a=o.index+o[0].length;e[n]=r.slice(0,o.index)+(o.index&&a!=r.length?" ":"")+r.slice(a)||null}return!0}))})),addLineWidget:_r((function(e,t,i){return da(this,e,t,i)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return ma(this,ht(this,e),ht(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ht(this,e),ma(this,e,e,i,"bookmark")},findMarksAt:function(e){e=ht(this,e);var t=[],i=Je(this,e.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,i){e=ht(this,e),t=ht(this,t);var n=[],r=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)})),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+n;if(o>e)return t=e,!0;e-=o,++i})),ht(this,rt(i,t))},indexFromPos:function(e){e=ht(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+i})),t},copy:function(e){var t=new ka(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new ka(Ze(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ba(n,ya(this)),n},unlinkDoc:function(e){if(e instanceof Bs&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var i=this.linked[t];if(i.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xa(ya(this));break}}if(e.history==this.history){var n=[e.id];vo(e,(function(e){return n.push(e.id)}),!0),e.history=new wo(null),e.history.done=_o(this.history.done,n),e.history.undone=_o(this.history.undone,n)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):_e(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:_r((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&xo(this.cm))}))}),ka.prototype.eachLine=ka.prototype.iter;var Ca=0;function Sa(e){var t=this;if(Aa(t),!ye(t,e)&&!Hi(t.display,e)){ke(e),a&&(Ca=+new Date);var i=Pn(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),s=0,l=function(){++s==r&&Mr(t,(function(){i=ht(t.doc,i);var e={from:i,to:i,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Xo(t.doc,e),jo(t.doc,ao(ht(t.doc,i),ht(t.doc,so(e))))}))()},c=function(e,i){if(t.options.allowDropFileTypes&&-1==j(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[i]=e),l()},n.readAsText(e)}},u=0;u<n.length;u++)c(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var h=e.dataTransfer.getData("Text");if(h){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Ho(t.doc,ao(i,i)),d)for(var p=0;p<d.length;++p)na(t.doc,"",d[p].anchor,d[p].head,"drag");t.replaceSelection(h,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ta(e,t){if(a&&(!e.state.draggingText||+new Date-Ca<100))Te(t);else if(!ye(e,t)&&!Hi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var i=I("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),h&&i.parentNode.removeChild(i)}}function Da(e,t){var i=Pn(e,t);if(i){var n=document.createDocumentFragment();zn(e,i,n),e.display.dragCursor||(e.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,n)}}function Aa(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ea(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation((function(){for(var t=0;t<i.length;t++)e(i[t])}))}}var Ia=!1;function La(){Ia||(Ma(),Ia=!0)}function Ma(){var e;fe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ea(Oa)}),100))})),fe(window,"blur",(function(){return Ea(Xn)}))}function Oa(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var _a={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Pa=0;Pa<10;Pa++)_a[Pa+48]=_a[Pa+96]=String(Pa);for(var $a=65;$a<=90;$a++)_a[$a]=String.fromCharCode($a);for(var Ba=1;Ba<=12;Ba++)_a[Ba+111]=_a[Ba+63235]="F"+Ba;var Fa={};function Na(e){var t,i,n,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Ra(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var r=J(i.split(" "),Na),o=0;o<r.length;o++){var a=void 0,s=void 0;o==r.length-1?(s=r.join(" "),a=n):(s=r.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[i]}for(var c in t)e[c]=t[c];return e}function ja(e,t,i,n){t=za(t);var r=t.call?t.call(e,n):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ja(e,t.fallthrough,i,n);for(var o=0;o<t.fallthrough.length;o++){var a=ja(e,t.fallthrough[o],i,n);if(a)return a}}}function Va(e){var t="string"==typeof e?e:_a[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ha(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Ua(e,t){if(h&&34==e.keyCode&&e["char"])return!1;var i=_a[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),Ha(i,e,t))}function za(e){return"string"==typeof e?Fa[e]:e}function Wa(e,t){for(var i=e.doc.sel.ranges,n=[],r=0;r<i.length;r++){var o=t(i[r]);while(n.length&&ot(o.from,K(n).to)<=0){var a=n.pop();if(ot(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Lr(e,(function(){for(var t=n.length-1;t>=0;t--)na(e.doc,"",n[t].from,n[t].to,"+delete");ar(e)}))}function qa(e,t,i){var n=ae(e.text,t+i,i);return n<0||n>e.text.length?null:n}function Ya(e,t,i){var n=qa(e,t.ch,i);return null==n?null:new rt(t.line,n,i<0?"after":"before")}function Ga(e,t,i,n,r){if(e){"rtl"==t.doc.direction&&(r=-r);var o=de(i,t.doc.direction);if(o){var a,s=r<0?K(o):o[0],l=r<0==(1==s.level),c=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=en(t,i);a=r<0?i.text.length-1:0;var h=tn(t,u,a).top;a=se((function(e){return tn(t,u,e).top==h}),r<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=qa(i,a,1))}else a=r<0?s.to:s.from;return new rt(n,a,c)}}return new rt(n,r<0?i.text.length:0,r<0?"before":"after")}function Ka(e,t,i,n){var r=de(t,e.doc.direction);if(!r)return Ya(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=ue(r,i.ch,i.sticky),a=r[o];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>i.ch:a.from<i.ch))return Ya(t,i,n);var s,l=function(e,i){return qa(t,e instanceof rt?e.ch:e,i)},c=function(i){return e.options.lineWrapping?(s=s||en(e,t),Cn(e,t,s,i)):{begin:0,end:t.text.length}},u=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==e.doc.direction||1==a.level){var h=1==a.level==n<0,d=l(i,h?1:-1);if(null!=d&&(h?d<=a.to&&d<=u.end:d>=a.from&&d>=u.begin)){var p=h?"before":"after";return new rt(i.line,d,p)}}var f=function(e,t,n){for(var o=function(e,t){return t?new rt(i.line,l(e,1),"before"):new rt(i.line,e,"after")};e>=0&&e<r.length;e+=t){var a=r[e],s=t>0==(1!=a.level),c=s?n.begin:l(n.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),n.begin<=c&&c<n.end)return o(c,s)}},m=f(o+n,n,u);if(m)return m;var g=n>0?u.end:l(u.begin,-1);return null==g||n>0&&g==t.text.length||(m=f(n>0?0:r.length-1,n,c(g)),!m)?null:m}Fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fa["default"]=y?Fa.macDefault:Fa.pcDefault;var Ja={selectAll:Ko,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),U)},killLine:function(e){return Wa(e,(function(t){if(t.empty()){var i=Je(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:rt(t.head.line+1,0)}:{from:t.head,to:rt(t.head.line,i)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Wa(e,(function(t){return{from:rt(t.from().line,0),to:ht(e.doc,rt(t.to().line+1,0))}}))},delLineLeft:function(e){return Wa(e,(function(e){return{from:rt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Wa(e,(function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return{from:n,to:t.from()}}))},delWrappedLineRight:function(e){return Wa(e,(function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(rt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(rt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Xa(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Qa(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Za(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")}),W)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")}),W)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?Qa(e,t.head):n}),W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),a=N(e.getLine(o.line),o.ch,n);t.push(G(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Lr(e,(function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var r=t[n].head,o=Je(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new rt(r.line,r.ch-1)),r.ch>0)r=new rt(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),rt(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var a=Je(e.doc,r.line-1).text;a&&(r=new rt(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),rt(r.line-1,a.length-1),r,"+transpose"))}i.push(new ro(r,r))}e.setSelections(i)}))},newlineAndIndent:function(e){return Lr(e,(function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);ar(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Xa(e,t){var i=Je(e.doc,t),n=Xt(i);return n!=i&&(t=et(n)),Ga(!0,e,n,t,1)}function Za(e,t){var i=Je(e.doc,t),n=Zt(i);return n!=i&&(t=et(n)),Ga(!0,e,i,t,-1)}function Qa(e,t){var i=Xa(e,t.line),n=Je(e.doc,i.line),r=de(n,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(i.ch,n.text.search(/\S/)),a=t.line==i.line&&t.ch<=o&&t.ch;return rt(i.line,a?0:o,i.sticky)}return i}function es(e,t,i){if("string"==typeof t&&(t=Ja[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=H}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}function ts(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=ja(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&ja(t,e.options.extraKeys,i,e)||ja(t,e.options.keyMap,i,e)}var is=new R;function ns(e,t,i,n){var r=e.state.keySeq;if(r){if(Va(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:is.set(50,(function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())})),rs(e,r+" "+t,i,n))return!0}return rs(e,t,i,n)}function rs(e,t,i,n){var r=ts(e,t,n);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&Ai(e,"keyHandled",e,t,i),"handled"!=r&&"multi"!=r||(ke(i),Yn(e)),!!r}function os(e,t){var i=Ua(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?ns(e,"Shift-"+i,t,(function(t){return es(e,t,!0)}))||ns(e,i,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return es(e,t)})):ns(e,i,t,(function(t){return es(e,t)})))}function as(e,t,i){return ns(e,"'"+i+"'",t,(function(t){return es(e,t,!0)}))}var ss=null;function ls(e){var t=this;if(t.curOp.focus=O(),!ye(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=os(t,e);h&&(ss=r?n:null,r||88!=n||$e||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),i&&!y&&!r&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cs(t)}}function cs(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(D(t,"CodeMirror-crosshair"),ge(document,"keyup",i),ge(document,"mouseover",i))}_(t,"CodeMirror-crosshair"),fe(document,"keyup",i),fe(document,"mouseover",i)}function us(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function hs(e){var t=this;if(!(Hi(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(h&&i==ss)return ss=null,void ke(e);if(!h||e.which&&!(e.which<10)||!os(t,e)){var r=String.fromCharCode(null==n?i:n);"\b"!=r&&(as(t,e,r)||t.display.input.onKeyPress(e))}}}var ds,ps,fs=400,ms=function(e,t,i){this.time=e,this.pos=t,this.button=i};function gs(e,t){var i=+new Date;return ps&&ps.compare(i,e,t)?(ds=ps=null,"triple"):ds&&ds.compare(i,e,t)?(ps=new ms(i,e,t),ds=null,"double"):(ds=new ms(i,e,t),ps=null,"single")}function vs(e){var t=this,i=t.display;if(!(ye(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=e.shiftKey,Hi(i,e))l||(i.scroller.draggable=!1,setTimeout((function(){return i.scroller.draggable=!0}),100));else if(!Ds(t,e)){var n=Pn(t,e),r=Ae(e),o=n?gs(n,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),n&&ys(t,r,n,o,e)||(1==r?n?xs(t,n,o,e):De(e)==i.scroller&&ke(e):2==r?(n&&$o(t.doc,n),setTimeout((function(){return i.input.focus()}),20)):3==r&&(C?t.display.input.onContextMenu(e):Kn(t)))}}function ys(e,t,i,n,r){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,ns(e,Ha(o,r),r,(function(t){if("string"==typeof t&&(t=Ja[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,i)!=H}finally{e.state.suppressEdits=!1}return n}))}function bs(e,t,i){var n=e.getOption("configureMouse"),r=n?n(e,t,i):{};if(null==r.unit){var o=b?i.shiftKey&&i.metaKey:i.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||i.shiftKey),null==r.addNew&&(r.addNew=y?i.metaKey:i.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(y?i.altKey:i.ctrlKey)),r}function xs(e,t,i,n){a?setTimeout(B(Gn,e),0):e.curOp.focus=O();var r,o=bs(e,i,n),s=e.doc.sel;e.options.dragDrop&&Le&&!e.isReadOnly()&&"single"==i&&(r=s.contains(t))>-1&&(ot((r=s.ranges[r]).from(),t)<0||t.xRel>0)&&(ot(r.to(),t)>0||t.xRel<0)?ws(e,n,t,o):Cs(e,n,t,o)}function ws(e,t,i,n){var r=e.display,o=!1,c=Mr(e,(function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,ge(r.wrapper.ownerDocument,"mouseup",c),ge(r.wrapper.ownerDocument,"mousemove",u),ge(r.scroller,"dragstart",h),ge(r.scroller,"drop",c),o||(ke(t),n.addNew||$o(e.doc,i,null,null,n.extend),l||a&&9==s?setTimeout((function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()}),20):r.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};l&&(r.scroller.draggable=!0),e.state.draggingText=c,c.copy=!n.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),fe(r.wrapper.ownerDocument,"mouseup",c),fe(r.wrapper.ownerDocument,"mousemove",u),fe(r.scroller,"dragstart",h),fe(r.scroller,"drop",c),Kn(e),setTimeout((function(){return r.input.focus()}),20)}function ks(e,t,i){if("char"==i)return new ro(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new ro(rt(t.line,0),ht(e.doc,rt(t.line+1,0)));var n=i(e,t);return new ro(n.from,n.to)}function Cs(e,t,i,n){var r=e.display,o=e.doc;ke(t);var a,s,l=o.sel,c=l.ranges;if(n.addNew&&!n.extend?(s=o.sel.contains(i),a=s>-1?c[s]:new ro(i,i)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(a=new ro(i,i)),i=Pn(e,t,!0,!0),s=-1;else{var u=ks(e,i,n.unit);a=n.extend?Po(a,u.anchor,u.head,n.extend):u}n.addNew?-1==s?(s=c.length,Vo(o,oo(e,c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==n.unit&&!n.extend?(Vo(o,oo(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Fo(o,s,a,z):(s=0,Vo(o,new no([a],0),z),l=o.sel);var h=i;function d(t){if(0!=ot(h,t))if(h=t,"rectangle"==n.unit){for(var r=[],c=e.options.tabSize,u=N(Je(o,i.line).text,i.ch,c),d=N(Je(o,t.line).text,t.ch,c),p=Math.min(u,d),f=Math.max(u,d),m=Math.min(i.line,t.line),g=Math.min(e.lastLine(),Math.max(i.line,t.line));m<=g;m++){var v=Je(o,m).text,y=q(v,p,c);p==f?r.push(new ro(rt(m,y),rt(m,y))):v.length>y&&r.push(new ro(rt(m,y),rt(m,q(v,f,c))))}r.length||r.push(new ro(i,i)),Vo(o,oo(e,l.ranges.slice(0,s).concat(r),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,x=a,w=ks(e,t,n.unit),k=x.anchor;ot(w.anchor,k)>0?(b=w.head,k=ct(x.from(),w.anchor)):(b=w.anchor,k=lt(x.to(),w.head));var C=l.ranges.slice(0);C[s]=Ss(e,new ro(ht(o,k),b)),Vo(o,oo(e,C,s),z)}}var p=r.wrapper.getBoundingClientRect(),f=0;function m(t){var i=++f,a=Pn(e,t,!0,"rectangle"==n.unit);if(a)if(0!=ot(a,h)){e.curOp.focus=O(),d(a);var s=er(r,o);(a.line>=s.to||a.line<s.from)&&setTimeout(Mr(e,(function(){f==i&&m(t)})),150)}else{var l=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;l&&setTimeout(Mr(e,(function(){f==i&&(r.scroller.scrollTop+=l,m(t))})),50)}}function g(t){e.state.selectingText=!1,f=1/0,t&&(ke(t),r.input.focus()),ge(r.wrapper.ownerDocument,"mousemove",v),ge(r.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var v=Mr(e,(function(e){0!==e.buttons&&Ae(e)?m(e):g(e)})),y=Mr(e,g);e.state.selectingText=y,fe(r.wrapper.ownerDocument,"mousemove",v),fe(r.wrapper.ownerDocument,"mouseup",y)}function Ss(e,t){var i=t.anchor,n=t.head,r=Je(e.doc,i.line);if(0==ot(i,n)&&i.sticky==n.sticky)return t;var o=de(r);if(!o)return t;var a=ue(o,i.ch,i.sticky),s=o[a];if(s.from!=i.ch&&s.to!=i.ch)return t;var l,c=a+(s.from==i.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(n.line!=i.line)l=(n.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(o,n.ch,n.sticky),h=u-a||(n.ch-i.ch)*(1==s.level?-1:1);l=u==c-1||u==c?h<0:h>0}var d=o[c+(l?-1:0)],p=l==(1==d.level),f=p?d.from:d.to,m=p?"after":"before";return i.ch==f&&i.sticky==m?t:new ro(new rt(i.line,f,m),n)}function Ts(e,t,i,n){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ke(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!xe(e,i))return Se(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=tt(e.doc,o),h=e.display.gutterSpecs[l];return ve(e,i,e,u,h.className,t),Se(t)}}}function Ds(e,t){return Ts(e,t,"gutterClick",!0)}function As(e,t){Hi(e.display,t)||Es(e,t)||ye(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function Es(e,t){return!!xe(e,"gutterContextMenu")&&Ts(e,t,"gutterContextMenu",!1)}function Is(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hn(e)}ms.prototype.compare=function(e,t,i){return this.time+fs>e&&0==ot(t,this.pos)&&i==this.button};var Ls={toString:function(){return"CodeMirror.Init"}},Ms={},Os={};function _s(e){var t=e.optionHandlers;function i(i,n,r,o){e.defaults[i]=n,r&&(t[i]=o?function(e,t,i){i!=Ls&&r(e,t,i)}:r)}e.defineOption=i,e.Init=Ls,i("value","",(function(e,t){return e.setValue(t)}),!0),i("mode",null,(function(e,t){e.doc.modeOption=t,po(e)}),!0),i("indentUnit",2,po,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,(function(e){fo(e),hn(e),Bn(e)}),!0),i("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter((function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,i.push(rt(n,o))}n++}));for(var r=i.length-1;r>=0;r--)na(e.doc,t,i[r],rt(i[r].line,i[r].ch+t.length))}})),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=Ls&&e.refresh()})),i("specialCharPlaceholder",fi,(function(e){return e.refresh()}),!0),i("electricChars",!0),i("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),i("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),i("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),i("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),i("rtlMoveVisually",!x),i("wholeLineUpdateBefore",!0),i("theme","default",(function(e){Is(e),Jr(e)}),!0),i("keyMap","default",(function(e,t,i){var n=za(t),r=i!=Ls&&za(i);r&&r.detach&&r.detach(e,n),n.attach&&n.attach(e,r||null)})),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,$s,!0),i("gutters",[],(function(e,t){e.display.gutterSpecs=Gr(t,e.options.lineNumbers),Jr(e)}),!0),i("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Mn(e.display)+"px":"0",e.refresh()}),!0),i("coverGutterNextToScrollbar",!1,(function(e){return vr(e)}),!0),i("scrollbarStyle","native",(function(e){xr(e),vr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),i("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Gr(e.options.gutters,t),Jr(e)}),!0),i("firstLineNumber",1,Jr,!0),i("lineNumberFormatter",(function(e){return e}),Jr,!0),i("showCursorWhenSelecting",!1,Hn,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,(function(e,t){"nocursor"==t&&(Xn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),i("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),i("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),i("dragDrop",!0,Ps),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Hn,!0),i("singleCursorHeightPerLine",!0,Hn,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,fo,!0),i("addModeClass",!1,fo,!0),i("pollInterval",100),i("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),i("historyEventDelay",1250),i("viewportMargin",10,(function(e){return e.refresh()}),!0),i("maxHighlightLength",1e4,fo,!0),i("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),i("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),i("autofocus",null),i("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),i("phrases",null)}function Ps(e,t,i){var n=i&&i!=Ls;if(!t!=!n){var r=e.display.dragFunctions,o=t?fe:ge;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function $s(e){e.options.lineWrapping?(_(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(D(e.display.wrapper,"CodeMirror-wrap"),ai(e)),_n(e),Bn(e),hn(e),setTimeout((function(){return vr(e)}),100)}function Bs(e,t){var i=this;if(!(this instanceof Bs))return new Bs(e,t);this.options=t=t?F(t):{},F(Ms,t,!1);var n=t.value;"string"==typeof n?n=new ka(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var r=new Bs.inputStyles[t.inputStyle](this),o=this.display=new Xr(e,n,r,t);for(var c in o.wrapper.CodeMirror=this,Is(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),xr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout((function(){return i.display.input.reset(!0)}),20),Fs(this),La(),kr(this),this.curOp.forceUpdate=!0,yo(this,n),t.autofocus&&!v||this.hasFocus()?setTimeout(B(Jn,this),20):Xn(this),Os)Os.hasOwnProperty(c)&&Os[c](this,t[c],Ls);Yr(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ns.length;++u)Ns[u](this);Cr(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Fs(e){var t=e.display;fe(t.scroller,"mousedown",Mr(e,vs)),fe(t.scroller,"dblclick",a&&s<11?Mr(e,(function(t){if(!ye(e,t)){var i=Pn(e,t);if(i&&!Ds(e,t)&&!Hi(e.display,t)){ke(t);var n=e.findWordAt(i);$o(e.doc,n.anchor,n.head)}}})):function(t){return ye(e,t)||ke(t)}),fe(t.scroller,"contextmenu",(function(t){return As(e,t)})),fe(t.input.getField(),"contextmenu",(function(i){t.scroller.contains(i.target)||As(e,i)}));var i,n={end:0};function r(){t.activeTouch&&(i=setTimeout((function(){return t.activeTouch=null}),1e3),n=t.activeTouch,n.end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}fe(t.scroller,"touchstart",(function(r){if(!ye(e,r)&&!o(r)&&!Ds(e,r)){t.input.ensurePolled(),clearTimeout(i);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}})),fe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),fe(t.scroller,"touchend",(function(i){var n=t.activeTouch;if(n&&!Hi(t,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!n.prev||l(n,n.prev)?new ro(a,a):!n.prev.prev||l(n,n.prev.prev)?e.findWordAt(a):new ro(rt(a.line,0),ht(e.doc,rt(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),ke(i)}r()})),fe(t.scroller,"touchcancel",r),fe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(hr(e,t.scroller.scrollTop),pr(e,t.scroller.scrollLeft,!0),ve(e,"scroll",e))})),fe(t.scroller,"mousewheel",(function(t){return io(e,t)})),fe(t.scroller,"DOMMouseScroll",(function(t){return io(e,t)})),fe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||Te(t)},over:function(t){ye(e,t)||(Da(e,t),Te(t))},start:function(t){return Ta(e,t)},drop:Mr(e,Sa),leave:function(t){ye(e,t)||Aa(e)}};var c=t.input.getField();fe(c,"keyup",(function(t){return us.call(e,t)})),fe(c,"keydown",Mr(e,ls)),fe(c,"keypress",Mr(e,hs)),fe(c,"focus",(function(t){return Jn(e,t)})),fe(c,"blur",(function(t){return Xn(e,t)}))}Bs.defaults=Ms,Bs.optionHandlers=Os;var Ns=[];function Rs(e,t,i,n){var r,o=e.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=yt(e,t).state:i="prev");var a=e.options.tabSize,s=Je(o,t),l=N(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==i&&(c=o.mode.indent(r,s.text.slice(u.length),s.text),c==H||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>o.first?N(Je(o,t-1).text,null,a):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/a);p;--p)d+=a,h+="\t";if(d<c&&(h+=G(c-d)),h!=u)return na(o,h,rt(t,0),rt(t,u.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var m=o.sel.ranges[f];if(m.head.line==t&&m.head.ch<u.length){var g=rt(t,u.length);Fo(o,f,new ro(g,g));break}}}Bs.defineInitHook=function(e){return Ns.push(e)};var js=null;function Vs(e){js=e}function Hs(e,t,i,n,r){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==r||e.state.pasteIncoming>a,l=_e(t),c=null;if(s&&n.ranges.length>1)if(js&&js.text.join("\n")==t){if(n.ranges.length%js.text.length==0){c=[];for(var u=0;u<js.text.length;u++)c.push(o.splitLines(js.text[u]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=J(l,(function(e){return[e]})));for(var h=e.curOp.updateInput,d=n.ranges.length-1;d>=0;d--){var p=n.ranges[d],f=p.from(),m=p.to();p.empty()&&(i&&i>0?f=rt(f.line,f.ch-i):e.state.overwrite&&!s?m=rt(m.line,Math.min(Je(o,m.line).text.length,m.ch+K(l).length)):s&&js&&js.lineWise&&js.text.join("\n")==t&&(f=m=rt(f.line,0)));var g={from:f,to:m,text:c?c[d%c.length]:l,origin:r||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Xo(e.doc,g),Ai(e,"inputRead",e,g)}t&&!s&&zs(e,t),ar(e),e.curOp.updateInput<2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Us(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Lr(t,(function(){return Hs(t,i,0,null,"paste")})),!0}function zs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=e.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Rs(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Je(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=Rs(e,r.head.line,"smart"));a&&Ai(e,"electricInput",e,r.head.line)}}}function Ws(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,o={anchor:rt(r,0),head:rt(r+1,0)};i.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:i}}function qs(e,t,i,n){e.setAttribute("autocorrect",i?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Ys(){var e=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=I("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),qs(e),t}function Gs(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,i){var n=this.options,r=n[e];n[e]==i&&"mode"!=e||(n[e]=i,t.hasOwnProperty(e)&&Mr(this,t[e])(this,i,r),ve(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](za(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Or((function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");X(this.state.overlays,{mode:n,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},(function(e){return e.priority})),this.state.modeGen++,Bn(this)})),removeOverlay:Or((function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Bn(this)}})),indentLine:Or((function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),it(this.doc,e)&&Rs(this,e,t,i)})),indentSelection:Or((function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&(Rs(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&ar(this));else{var o=r.from(),a=r.to(),s=Math.max(i,o.line);i=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<i;++l)Rs(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[n].from().ch>0&&Fo(this.doc,n,new ro(o,c[n].to()),U)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,rt(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t,i=vt(this,Je(this.doc,e.line)),n=0,r=(i.length-1)/2,o=e.ch;if(0==o)t=i[2];else for(;;){var a=n+r>>1;if((a?i[2*a-1]:0)>=o)r=a;else{if(!(i[2*a+1]<o)){t=i[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!i.hasOwnProperty(t))return n;var r=i[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&n.push(r[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=r[o[t][a]];s&&n.push(s)}else o.helperType&&r[o.helperType]?n.push(r[o.helperType]):r[o.name]&&n.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==j(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(e,t){var i=this.doc;return e=ut(i,null==e?i.first+i.size-1:e),yt(this,e+1,t).state},cursorCoords:function(e,t){var i,n=this.doc.sel.primary();return i=null==e?n.head:"object"==typeof e?ht(this.doc,e):e?n.from():n.to(),yn(this,i,t||"page")},charCoords:function(e,t){return vn(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return e=gn(this,e,t||"page"),wn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=gn(this,{top:e,left:0},t||"page").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),n=Je(this.doc,e)}else n=e;return mn(this,n,{top:0,left:0},t||"page",i||r).top+(r?this.doc.height-ri(n):0)},defaultTextHeight:function(){return En(this.display)},defaultCharWidth:function(){return In(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var o=this.display;e=yn(this,ht(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==r?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),i&&nr(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Or(ls),triggerOnKeyPress:Or(hs),triggerOnKeyUp:us,triggerOnMouseDown:Or(vs),execCommand:function(e){if(Ja.hasOwnProperty(e))return Ja[e].call(null,this)},triggerElectric:Or((function(e){zs(this,e)})),findPosH:function(e,t,i,n){var r=1;t<0&&(r=-1,t=-t);for(var o=ht(this.doc,e),a=0;a<t;++a)if(o=Ks(this.doc,o,r,i,n),o.hitSide)break;return o},moveH:Or((function(e,t){var i=this;this.extendSelectionsBy((function(n){return i.display.shift||i.doc.extend||n.empty()?Ks(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()}),W)})),deleteH:Or((function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):Wa(this,(function(i){var r=Ks(n,i.head,e,t,!1);return e<0?{from:r,to:i.head}:{from:i.head,to:r}}))})),findPosV:function(e,t,i,n){var r=1,o=n;t<0&&(r=-1,t=-t);for(var a=ht(this.doc,e),s=0;s<t;++s){var l=yn(this,a,"div");if(null==o?o=l.left:l.left=o,a=Js(this,l,r,i),a.hitSide)break}return a},moveV:Or((function(e,t){var i=this,n=this.doc,r=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=yn(i,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var l=Js(i,s,e,t);return"page"==t&&a==n.sel.primary()&&or(i,vn(i,l,"div").top-s.top),l}),W),r.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=r[a]})),findWordAt:function(e){var t=this.doc,i=Je(t,e.line).text,n=e.ch,r=e.ch;if(i){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=i.length||!n?++r:--n;var a=i.charAt(n),s=ie(a,o)?function(e){return ie(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ie(e)};while(n>0&&s(i.charAt(n-1)))--n;while(r<i.length&&s(i.charAt(r)))++r}return new ro(rt(e.line,n),rt(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?_(this.display.cursorDiv,"CodeMirror-overwrite"):D(this.display.cursorDiv,"CodeMirror-overwrite"),ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Or((function(e,t){sr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qi(this)-this.display.barHeight,width:e.scrollWidth-qi(this)-this.display.barWidth,clientHeight:Gi(this),clientWidth:Yi(this)}},scrollIntoView:Or((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:rt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?lr(this,e):ur(this,e.from,e.to,e.margin)})),setSize:Or((function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&un(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Fn(i,r,"widget");break}++r})),this.curOp.forceUpdate=!0,ve(this,"refresh",this)})),operation:function(e){return Lr(this,e)},startOperation:function(){return kr(this)},endOperation:function(){return Cr(this)},refresh:Or((function(){var e=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,hn(this),sr(this,this.doc.scrollLeft,this.doc.scrollTop),zr(this.display),(null==e||Math.abs(e-En(this.display))>.5||this.options.lineWrapping)&&_n(this),ve(this,"refresh",this)})),swapDoc:Or((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),yo(this,e),hn(this),this.display.input.reset(),sr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ai(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},we(e),e.registerHelper=function(t,n,r){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][n]=r},e.registerGlobalHelper=function(t,n,r,o){e.registerHelper(t,n,o),i[t]._global.push({pred:r,val:o})}}function Ks(e,t,i,n,r){var o=t,a=i,s=Je(e,t.line),l=r&&"rtl"==e.direction?-i:i;function c(){var i=t.line+l;return!(i<e.first||i>=e.first+e.size)&&(t=new rt(i,t.ch,t.sticky),s=Je(e,i))}function u(n){var o;if(o=r?Ka(e.cm,s,t,i):Ya(s,t,i),null==o){if(n||!c())return!1;t=Ga(r,e.cm,s,t.line,l)}else t=o;return!0}if("char"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;;f=!1){if(i<0&&!u(!f))break;var m=s.text.charAt(t.ch)||"\n",g=ie(m,p)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||f||g||(g="s"),h&&h!=g){i<0&&(i=1,u(),t.sticky="after");break}if(g&&(h=g),i>0&&!u(!f))break}var v=Yo(e,t,o,a,!0);return at(o,v)&&(v.hitSide=!0),v}function Js(e,t,i,n){var r,o,a=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*En(e.display),3);r=(i>0?t.bottom:t.top)+i*c}else"line"==n&&(r=i>0?t.bottom+3:t.top-3);for(;;){if(o=wn(e,s,r),!o.outside)break;if(i<0?r<=0:r>=a.height){o.hitSide=!0;break}r+=5*i}return o}var Xs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Zs(e,t){var i=Qi(e,t.line);if(!i||i.hidden)return null;var n=Je(e.doc,t.line),r=Ji(i,n,t.line),o=de(n,e.doc.direction),a="left";if(o){var s=ue(o,t.ch);a=s%2?"right":"left"}var l=on(r.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Qs(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function el(e,t){return t&&(e.bad=!0),e}function tl(e,t,i,n,r){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){a&&(o+=s,l&&(o+=s),a=l=!1)}function h(e){e&&(u(),o+=e)}function d(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void h(i);var o,p=t.getAttribute("cm-marker");if(p){var f=e.findMarks(rt(n,0),rt(r+1,0),c(+p));return void(f.length&&(o=f[0].find(0))&&h(Xe(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var g=0;g<t.childNodes.length;g++)d(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&h(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(d(t),t==i)break;t=t.nextSibling,l=!1}return o}function il(e,t,i){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[i],!n)return el(e.clipPos(rt(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==n)return nl(o,t,i)}}function nl(e,t,i){var n=e.text.firstChild,r=!1;if(!t||!M(n,t))return el(rt(et(e.line),0),!0);if(t==n&&(r=!0,t=n.childNodes[i],i=0,!t)){var o=e.rest?K(e.rest):e.line;return el(rt(et(o),o.text.length),r)}var a=3==t.nodeType?t:null,s=t;a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,i&&(i=a.nodeValue.length));while(s.parentNode!=n)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,i,n){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==i){var u=et(r<0?e.line:e.rest[r]),h=o[a]+n;return(n<0||s!=t)&&(h=o[a+(n?1:0)]),rt(u,h)}}}var h=u(a,s,i);if(h)return el(h,r);for(var d=s.nextSibling,p=a?a.nodeValue.length-i:0;d;d=d.nextSibling){if(h=u(d,d.firstChild,0),h)return el(rt(h.line,h.ch-p),r);p+=d.textContent.length}for(var f=s.previousSibling,m=i;f;f=f.previousSibling){if(h=u(f,f.firstChild,-1),h)return el(rt(h.line,h.ch+m),r);m+=f.textContent.length}}Xs.prototype.init=function(e){var t=this,i=this,n=i.cm,r=i.div=e.lineDiv;function o(e){if(!ye(n,e)){if(n.somethingSelected())Vs({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Ws(n);Vs({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,U),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=js.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=Ys(),s=a.firstChild;n.display.lineSpace.insertBefore(a,n.display.lineSpace.firstChild),s.value=js.text.join("\n");var l=document.activeElement;$(s),setTimeout((function(){n.display.lineSpace.removeChild(a),l.focus(),l==r&&i.showPrimarySelection()}),50)}}qs(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),fe(r,"paste",(function(e){ye(n,e)||Us(e,n)||s<=11&&setTimeout(Mr(n,(function(){return t.updateFromDOM()})),20)})),fe(r,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),fe(r,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),fe(r,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),fe(r,"touchstart",(function(){return i.forceCompositionEnd()})),fe(r,"input",(function(){t.composing||t.readFromDOMSoon()})),fe(r,"copy",o),fe(r,"cut",o)},Xs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Xs.prototype.prepareSelection=function(){var e=Un(this.cm,!1);return e.focus=document.activeElement==this.div,e},Xs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Xs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Xs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=il(t,e.anchorNode,e.anchorOffset),s=il(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=ot(ct(a,s),r)||0!=ot(lt(a,s),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Zs(t,r)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Zs(t,o);if(!u){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var p,f=e.rangeCount&&e.getRangeAt(0);try{p=T(c.node,c.offset,u.offset,u.node)}catch(m){}p&&(!i&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Xs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Xs.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},Xs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Xs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return M(this.div,t)},Xs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Xs.prototype.blur=function(){this.div.blur()},Xs.prototype.getField=function(){return this.div},Xs.prototype.supportsTouch=function(){return!0},Xs.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Lr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Xs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Xs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&Qs(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=il(t,e.anchorNode,e.anchorOffset),n=il(t,e.focusNode,e.focusOffset);i&&n&&Lr(t,(function(){Vo(t.doc,ao(i,n),U),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Xs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,n=this.cm,r=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=rt(a.line-1,Je(n.doc,a.line-1).length)),s.ch==Je(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=rt(s.line+1,0)),a.line<r.viewFrom||s.line>r.viewTo-1)return!1;a.line==r.viewFrom||0==(e=$n(n,a.line))?(t=et(r.view[0].line),i=r.view[0].node):(t=et(r.view[e].line),i=r.view[e-1].node.nextSibling);var l,c,u=$n(n,s.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=et(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!i)return!1;var h=n.doc.splitLines(tl(n,i,c,t,l)),d=Xe(n.doc,rt(t,0),rt(l,Je(n.doc,l).text.length));while(h.length>1&&d.length>1)if(K(h)==K(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),t++}var p=0,f=0,m=h[0],g=d[0],v=Math.min(m.length,g.length);while(p<v&&m.charCodeAt(p)==g.charCodeAt(p))++p;var y=K(h),b=K(d),x=Math.min(y.length-(1==h.length?p:0),b.length-(1==d.length?p:0));while(f<x&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1))++f;if(1==h.length&&1==d.length&&t==a.line)while(p&&p>a.ch&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1))p--,f++;h[h.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),h[0]=h[0].slice(p).replace(/\u200b+$/,"");var w=rt(t,p),k=rt(l,d.length?K(d).length-f:0);return h.length>1||h[0]||ot(w,k)?(na(n.doc,h,w,k,"+input"),!0):void 0},Xs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Xs.prototype.reset=function(){this.forceCompositionEnd()},Xs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Xs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Xs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Lr(this.cm,(function(){return Bn(e.cm)}))},Xs.prototype.setUneditable=function(e){e.contentEditable="false"},Xs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Mr(this.cm,Hs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Xs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Xs.prototype.onContextMenu=function(){},Xs.prototype.resetPosition=function(){},Xs.prototype.needsContentAttribute=!0;var rl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};function ol(e,t){if(t=t?F(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=O();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function n(){e.value=s.getValue()}var r;if(e.form&&(fe(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var a=o.submit=function(){n(),o.submit=r,o.submit(),o.submit=a}}catch(l){}}t.finishInit=function(i){i.save=n,i.getTextArea=function(){return e},i.toTextArea=function(){i.toTextArea=isNaN,n(),e.parentNode.removeChild(i.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=r))}},e.style.display="none";var s=Bs((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function al(e){e.off=ge,e.on=fe,e.wheelEventPixels=to,e.Doc=ka,e.splitLines=_e,e.countColumn=N,e.findColumn=q,e.isWordChar=te,e.Pass=H,e.signal=ve,e.Line=si,e.changeEnd=so,e.scrollbarModel=br,e.Pos=rt,e.cmpPos=ot,e.modes=Ne,e.mimeModes=Re,e.resolveMode=He,e.getMode=Ue,e.modeExtensions=ze,e.extendMode=We,e.copyState=qe,e.startState=Ge,e.innerMode=Ye,e.commands=Ja,e.keyMap=Fa,e.keyName=Ua,e.isModifierKey=Va,e.lookupKey=ja,e.normalizeKeyMap=Ra,e.StringStream=Ke,e.SharedTextMarker=ga,e.TextMarker=fa,e.LineWidget=ua,e.e_preventDefault=ke,e.e_stopPropagation=Ce,e.e_stop=Te,e.addClass=_,e.contains=M,e.rmClass=D,e.keyNames=_a}rl.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!ye(n,e)){if(n.somethingSelected())Vs({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Ws(n);Vs({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,U):(i.prevInput="",r.value=t.text.join("\n"),$(r))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(r.style.width="0px"),fe(r,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()})),fe(r,"paste",(function(e){ye(n,e)||Us(e,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())})),fe(r,"cut",o),fe(r,"copy",o),fe(e.scroller,"paste",(function(t){if(!Hi(e,t)&&!ye(n,t)){if(!r.dispatchEvent)return n.state.pasteIncoming=+new Date,void i.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,r.dispatchEvent(o)}})),fe(e.lineSpace,"selectstart",(function(t){Hi(e,t)||ke(t)})),fe(r,"compositionstart",(function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),fe(r,"compositionend",(function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)}))},rl.prototype.createField=function(e){this.wrapper=Ys(),this.textarea=this.wrapper.firstChild},rl.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},rl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=Un(e);if(e.options.moveInputWithCursor){var r=yn(e,i.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+a.left-o.left))}return n},rl.prototype.showSelection=function(e){var t=this.cm,i=t.display;E(i.cursorDiv,e.cursors),E(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},rl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&$(this.textarea),a&&s>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},rl.prototype.getField=function(){return this.textarea},rl.prototype.supportsTouch=function(){return!1},rl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||O()!=this.textarea))try{this.textarea.focus()}catch(e){}},rl.prototype.blur=function(){this.textarea.blur()},rl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},rl.prototype.receivedFocus=function(){this.slowPoll()},rl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},rl.prototype.fastPoll=function(){var e=!1,t=this;function i(){var n=t.poll();n||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))}t.pollingFast=!0,t.polling.set(20,i)},rl.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Pe(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=i.value;if(r==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}var l=0,c=Math.min(n.length,r.length);while(l<c&&n.charCodeAt(l)==r.charCodeAt(l))++l;return Lr(t,(function(){Hs(t,r.slice(l),n.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},rl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},rl.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},rl.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Pn(i,e),c=n.scroller.scrollTop;if(o&&!h){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(o)&&Mr(i,Vo)(i.doc,ao(o),U);var d,p=r.style.cssText,f=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(d=window.scrollY),n.input.focus(),l&&window.scrollTo(null,d),n.input.reset(),i.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=y,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&v(),C){Te(e);var g=function(){ge(window,"mouseup",g),setTimeout(y,20)};fe(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=r.selectionStart){var e=i.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,n.selForContextMenu=i.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,r.style.cssText=p,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=r.selectionStart)){(!a||a&&s<9)&&v();var e=0,o=function(){n.selForContextMenu==i.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?Mr(i,Ko)(i):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},rl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},rl.prototype.setUneditable=function(){},rl.prototype.needsContentAttribute=!1,_s(Bs),Gs(Bs);var sl="iter insert remove copy getEditor constructor".split(" ");for(var ll in ka.prototype)ka.prototype.hasOwnProperty(ll)&&j(sl,ll)<0&&(Bs.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(ka.prototype[ll]));return we(ka),Bs.inputStyles={textarea:rl,contenteditable:Xs},Bs.defineMode=function(e){Bs.defaults.mode||"null"==e||(Bs.defaults.mode=e),je.apply(this,arguments)},Bs.defineMIME=Ve,Bs.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Bs.defineMIME("text/plain","null"),Bs.defineExtension=function(e,t){Bs.prototype[e]=t},Bs.defineDocExtension=function(e,t){ka.prototype[e]=t},Bs.fromTextArea=ol,al(Bs),Bs.version="5.53.2",Bs}))},"574d":function(e,t,i){},6155:function(e,t,i){"use strict";var n=i("47a5"),r=i.n(n);r.a},"68dd":function(e,t,i){},"6ca7":function(e,t,i){},"6d78":function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function i(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var i=e.state.fullScreenRestore;t.style.width=i.width,t.style.height=i.height,window.scrollTo(i.scrollLeft,i.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,(function(n,r,o){o==e.Init&&(o=!1),!o!=!r&&(r?t(n):i(n))}))}))},"741b":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("blog-toolbar",{attrs:{userData:e.userData}}),i("v-container",{attrs:{"grid-list-md":"",fluid:"","fill-height":""}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[i("h1",{staticClass:"display-3"},[e._v(e._s(e.realTitle))]),i("v-layout",[i("v-spacer"),i("v-btn",{staticClass:"ma-2",attrs:{fab:"",small:""},on:{click:e.switchDarkMode}},[i("v-icon",[e._v(e._s(e.currentColorScheme?"wb_sunny":"nights_stay"))])],1),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"ma-2",attrs:{color:"secondary",fab:"",small:"",to:{name:"post",params:{data:e.getPreviewData()}}}},n),[i("v-icon",[e._v("visibility")])],1)]}}])},[i("span",[e._v("Preview the post. Note that the link can be used only once.")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"ma-2",attrs:{color:"accent",fab:"",small:"",to:{name:"postLivePreview",params:{previewPostId:e.postData.id||0}},target:"_blank"}},n),[i("v-icon",[e._v("preview")])],1)]}}])},[i("span",[e._v("Live Preview")])])],1),i("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{label:"Title","prepend-icon":"title",required:"",rules:[function(e){return!!e||"Title is required"}]},model:{value:e.postData.title,callback:function(t){e.$set(e.postData,"title",t)},expression:"postData.title"}}),i("v-text-field",{attrs:{label:"Subtitle","prepend-icon":"subtitles"},model:{value:e.postData.subtitle,callback:function(t){e.$set(e.postData,"subtitle",t)},expression:"postData.subtitle"}}),i("v-text-field",{attrs:{label:"Eternal link","prepend-icon":"link"},model:{value:e.postData.displayId,callback:function(t){e.$set(e.postData,"displayId",t)},expression:"postData.displayId"}}),i("span",[i("v-icon",[e._v("fab fa-"+e._s(e.markdown?"markdown":"html5"))]),e._v(" Language ")],1),i("v-switch",{attrs:{color:"accent",label:e.markdown?"Markdown":"HTML"},model:{value:e.markdown,callback:function(t){e.markdown=t},expression:"markdown"}}),e.markdown||e.addPost?e._e():i("v-btn",{attrs:{color:"info"},on:{click:e.loadContent}},[e._v("Edit raw HTML")]),i("v-slider",{attrs:{step:"1",min:"0",max:e.userData.role+1,ticks:"","thumb-label":"",label:"Secret level","prepend-icon":e.lockIcon},model:{value:e.postData.secret,callback:function(t){e.$set(e.postData,"secret",t)},expression:"postData.secret"}}),i("v-row",[i("v-col",[i("span",[i("v-icon",[e._v("visibility"+e._s(e.postData.hidden?"_off":""))]),e._v(" Hidden? ")],1),i("v-switch",{attrs:{color:"accent",label:e.postData.hidden?"Hidden":"Public"},model:{value:e.postData.hidden,callback:function(t){e.$set(e.postData,"hidden",t)},expression:"postData.hidden"}})],1),i("v-col",[i("span",[e._v("Comment")]),i("v-switch",{attrs:{color:"accent",label:e.postData.enableComment?"Enabled":"Disabled"},model:{value:e.postData.enableComment,callback:function(t){e.$set(e.postData,"enableComment",t)},expression:"postData.enableComment"}})],1),i("v-col",[i("span",[e._v("Color of Title")]),i("v-switch",{attrs:{color:"accent",label:e.postData.darkTitle?"Dark":"Light"},model:{value:e.postData.darkTitle,callback:function(t){e.$set(e.postData,"darkTitle",t)},expression:"postData.darkTitle"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:3}},[i("v-select",{attrs:{items:e.availableEditors,label:"Editor"},model:{value:e.currentEditor,callback:function(t){e.currentEditor=t},expression:"currentEditor"}})],1),"easymde"===e.currentEditor?i("v-col",[i("span",[e._v("Paste Option")]),i("v-switch",{attrs:{color:"accent",label:e.pasteHtml?"HTML":"Plain Text"},model:{value:e.pasteHtml,callback:function(t){e.pasteHtml=t},expression:"pasteHtml"}})],1):e._e()],1),e.richPostExtensions.length?i("v-btn",{attrs:{round:"",color:"primary"},on:{click:function(t){e.explorerOpen=!0}}},[e._v(" +"),i("v-icon",[e._v("extension")]),e._v("Plugins ")],1):e._e(),i("v-row",[i("v-select",{attrs:{label:"Image Upload Channel",loading:e.imageUpload.loading,items:e.imageUpload.channels,"prepend-icon":"camera_roll"},model:{value:e.imageUpload.channel,callback:function(t){e.$set(e.imageUpload,"channel",t)},expression:"imageUpload.channel"}}),i("v-checkbox",{attrs:{label:"To Webp"},model:{value:e.imageUpload.convertToWebp,callback:function(t){e.$set(e.imageUpload,"convertToWebp",t)},expression:"imageUpload.convertToWebp"}})],1),e.uploadImages.length?i("v-row",[i("v-row",[i("span",[e._v("Uploaded Images")])]),i("uploaded-images",{attrs:{notify:e.showToast},model:{value:e.uploadImages,callback:function(t){e.uploadImages=t},expression:"uploadImages"}})],1):e._e(),i("v-combobox",{attrs:{"hide-selected":"",label:"Tags","prepend-icon":"label",multiple:"",chips:"","deletable-chips":""},on:{input:e.changeTags},model:{value:e.postData.tags,callback:function(t){e.$set(e.postData,"tags",t)},expression:"postData.tags"}}),i("v-text-field",{attrs:{label:"Banner Image","prepend-icon":"image"},model:{value:e.postData.img,callback:function(t){e.$set(e.postData,"img",t)},expression:"postData.img"}}),i("span",[e._v("Content")]),i("editor-switcher",{attrs:{editor:e.currentEditor,useMarkdown:e.markdown,dark:!e.currentColorScheme,postPageActionBus:e.postPageActionBus,pasteHtml:e.pasteHtml},model:{value:e.postDataContent,callback:function(t){e.postDataContent=t},expression:"postDataContent"}}),i("v-card-actions",[i("v-spacer"),e.loading?i("div",[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):i("div",[i("div",[e.addPost?e._e():i("v-btn",{staticClass:"ma-1",attrs:{color:"info"},on:{click:e.reloadPost}},[i("v-icon",[e._v("refresh")])],1),e.addPost?e._e():i("v-btn",{staticClass:"ma-1",attrs:{color:"error"},on:{click:function(t){e.deleteDialog=!0}}},[i("v-icon",[e._v("delete")])],1),i("v-btn",{staticClass:"ma-1",attrs:{color:"secondary",loading:e.loading},on:{click:e.saveDraft}},[i("v-icon",[e._v("archive")])],1),i("v-btn",{staticClass:"ma-1",attrs:{color:"primary",loading:e.loading,disabled:!e.valid},on:{click:e.doEditPost}},[i("v-icon",[e._v("cloud_upload")]),e.isMobile?e._e():i("span",[e._v("("+e._s(e.commandText)+"+Shift+S)")])],1)],1)])],1)],1)],1)],1),i("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.realTitle,expression:"realTitle"}]}),i("v-dialog",{attrs:{"max-width":"500"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),i("v-card-text",[e._v(" You are deleting "+e._s(e.postData.title)+" "),i("br"),e._v(" This post will be deleted, and can NOT be undone. ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"info",flat:"flat"},on:{click:function(t){e.deleteDialog=!1}}},[e._v(" No ")]),i("v-btn",{attrs:{color:"error",flat:"flat",loading:e.loading},on:{click:e.deletePost}},[e._v(" Yes, delete"),i("v-icon",[e._v("delete")])],1)],1)],1)],1),i("plugin-explorer",{attrs:{plugins:e.richPostExtensions.map((function(e){return{name:e.name,component:e.editPage}}))},model:{value:e.explorerOpen,callback:function(t){e.explorerOpen=t},expression:"explorerOpen"}})],1),i("toast",e._b({on:{showChange:e.changeToast}},"toast",e.toast,!1)),e.isMac?i("GlobalEvents",{on:{"!keyup":function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.metaKey?(t.preventDefault(),e.doEditPost(t)):null}}}):e._e(),i("GlobalEvents",{on:{"!keyup":function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),e.doEditPost(t)):null}}}),i("blog-footer")],1)},r=[],o=(i("a4d3"),i("e01a"),i("99af"),i("4de4"),i("d81d"),i("b0c0"),i("d3b7"),i("ac1f"),i("5319"),i("2909")),a=(i("96cf"),i("1da1")),s=i("5530"),l=i("90b9"),c=i("4bdc"),u=(i("e4cb"),i("85e4"),i("c975"),i("45fc"),i("466d"),i("f704")),h={ie:"Trident",opera:"Presto",webKit:"AppleWebkit",fireFox:["Gecko","KHTML"],mobile:function(e){return!!e.match(/AppleWebKit.*Mobile.*/)},iOS:function(e){return!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},android:["Android","Adr"],iPhone:"iPhone",iPad:"iPad",weChat:"MicroMessenger",macOS:"Mac OS X"},d=Object(u["d"])((function(e){var t=navigator.userAgent,i=function e(i){return"function"===typeof i?i(t):"string"===typeof i?t.indexOf(i)>-1:Array.isArray(i)?i.some(e):null};return i(e)}))(h),p=Object(s["a"])({},d),f=i("17d3"),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[i("v-icon",[e._v("close")])],1),i("v-toolbar-title",[e._v("Plugins")]),i("v-spacer")],1),i("div",[i("v-subheader",[e._v("Select Plugin")]),i("v-select",{attrs:{items:e.items,label:"Plugin...","prepend-icon":"extension","return-object":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),i("v-divider"),i("div",[i("v-subheader",[e._v(e._s(e.selected.text))]),i(e.currentComponent,{tag:"component"})],1)],1)],1)},g=[],v={name:"plugin-explorer",model:{prop:"open",event:"change"},props:{open:Boolean,plugins:Array},data:function(){return{selected:{}}},computed:{items:function(){return this.plugins.map((function(e){return{text:e.name,value:e.component}}))},dialog:{get:function(){return this.open},set:function(e){this.$emit("change",e)}},currentComponent:function(){return this.selected.value}}},y=v,b=i("2877"),x=i("6544"),w=i.n(x),k=i("8336"),C=i("b0af"),S=i("169a"),T=i("ce7e"),D=i("132d"),A=i("b974"),E=i("2fa4"),I=i("e0c7"),L=i("71d9"),M=i("2a7f"),O=Object(b["a"])(y,m,g,!1,null,null,null),_=O.exports;w()(O,{VBtn:k["a"],VCard:C["a"],VDialog:S["a"],VDivider:T["a"],VIcon:D["a"],VSelect:A["a"],VSpacer:E["a"],VSubheader:I["a"],VToolbar:L["a"],VToolbarTitle:M["b"]});var P={richPostPlugin:[]},$=i("d569"),B=i("f6f0"),F=i("e5fb"),N=i("e376"),R=i("0fc3"),j=(i("a15b"),i("3ca3"),i("ddb0"),i("2b3d"),i("d4ec")),V=i("bee2"),H=i("262e"),U=i("2caf"),z=i("9ab4"),W=i("2b0e"),q=i("60a3"),Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-easymde"},[i("textarea",{staticClass:"vue-simplemde-textarea",attrs:{name:e.name},domProps:{value:e.modelVal},on:{input:function(t){return e.handleInput(t.target.value)}}})])},G=[],K=i("d4fa"),J=i.n(K),X=i("0e54"),Z=i.n(X),Q={name:"vue-easymde",props:{value:String,name:String,previewClass:String,autoinit:{type:Boolean,default:function(){return!0}},highlight:{type:Boolean,default:function(){return!1}},sanitize:{type:Boolean,default:function(){return!1}},configs:{type:Object,default:function(){return{}}},previewRender:{type:Function}},data:function(){return{modelVal:""}},mounted:function(){this.autoinit&&this.initialize()},deactivated:function(){var e=this.easymde;if(e){var t=e.codemirror.getOption("fullScreen");t&&e.toggleFullScreen()}},methods:{initialize:function(){var e=Object(s["a"])({element:this.$el.firstElementChild,initialValue:this.value,previewRender:this.previewRender,renderingConfig:{}},this.configs);e.initialValue&&this.$emit("input",e.initialValue),this.highlight&&(e.renderingConfig.codeSyntaxHighlighting=!0),Z.a.setOptions({sanitize:this.sanitize}),this.easymde=new J.a(e);var t=this.previewClass||"";this.addPreviewClass(t),this.bindingEvents()},bindingEvents:function(){var e=this;this.easymde.codemirror.on("change",(function(){var t=e.easymde.value();e.handleInput(t)}))},addPreviewClass:function(e){var t=this.easymde.codemirror.getWrapperElement(),i=document.createElement("div");t.nextSibling.className+=" ".concat(e),i.className="editor-preview ".concat(e),t.appendChild(i)},handleInput:function(e){this.isValueUpdateFromInner=!0,this.$emit("input",e)}},destroyed:function(){this.easymde=null},watch:{value:function(e){this.isValueUpdateFromInner?this.isValueUpdateFromInner=!1:(this.easymde.value(e),this.modelVal=e)}}},ee=Q,te=(i("090c"),Object(b["a"])(ee,Y,G,!1,null,null,null)),ie=te.exports,ne=(i("150d"),i("c48e")),re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{"min-height":"40vh"}},[i("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[i("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[e._v("Loading...")]),i("v-col",{attrs:{cols:"6"}},[i("v-progress-linear",{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1)},oe=[],ae=i("62ad"),se=i("a523"),le=i("8e36"),ce=i("0fd9"),ue={},he=Object(b["a"])(ue,re,oe,!1,null,null,null),de=he.exports;w()(he,{VCol:ae["a"],VContainer:se["a"],VProgressLinear:le["a"],VRow:ce["a"]});i("caad"),i("2ca0");var pe,fe=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,i,n,r){var o,a,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:o=[],a=[],s=regeneratorRuntime.mark((function e(t){var n,s,l,c,u,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i[t],"file"!==n.kind||!n.type.startsWith("image/")){e.next=10;break}s=n.getAsFile(),l=URL.createObjectURL(s),c=Promise.resolve("![](".concat(l,")")),o.push(c),a.push(c),r&&r(s,l),e.next=19;break;case 10:if("string"!==n.kind||"vscode-editor-data"!==n.type){e.next=18;break}return e.next=13,new Promise((function(e){return n.getAsString(e)}));case 13:u=e.sent,h=JSON.parse(u),h.mode&&!["markdown","html","roselia-post"].includes(h.mode.toLowerCase())&&(d=o[0],o=[d.then((function(e){return"```".concat(h.mode,"\n").concat(e,"\n```")}))]),e.next=19;break;case 18:"text/plain"===n.type?o.push(new Promise((function(e){return n.getAsString(e)}))):"text/html"===n.type&&a.push(new Promise((function(e){return n.getAsString(e)})));case 19:case"end":return e.stop()}}),e)})),l=0;case 6:if(!(l<i.length)){e.next=11;break}return e.delegateYield(s(l),"t0",8);case 8:l++,e.next=6;break;case 11:if(!n){e.next=16;break}a.length||a.push(o[0]),n(Promise.all(o),Promise.all(a),(function(e){return t.replaceSelection(e)})),e.next=20;break;case 16:return e.next=18,Promise.all(o);case 18:c=e.sent,t.replaceSelection(c.join(""));case 20:case"end":return e.stop()}}),e)})));return function(t,i,n,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,i,n,r){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=null===(o=i.clipboardData)||void 0===o?void 0:o.items,i.preventDefault(),fe(t,a,n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,i,n,r){return e.apply(this,arguments)}}(),ge=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,i,n,r){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=null===(o=i.dataTransfer)||void 0===o?void 0:o.items,i.preventDefault(),fe(t,a,n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,i,n,r){return e.apply(this,arguments)}}(),ve=function(e,t){"paste"===t.origin&&t.cancel()},ye=function(){return{component:i.e("unions-road").then(i.bind(null,"8b79")).then((function(e){return e.RoseliaMonacoEditor})),loading:de}},be=pe=function(e){Object(H["a"])(i,e);var t=Object(U["a"])(i);function i(){return Object(j["a"])(this,i),t.apply(this,arguments)}return Object(V["a"])(i,[{key:"imageSourceForUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(ne["a"])(this.useMarkdown,e,t)}},{key:"onEditorChanged",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.setupEditor();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleChange",value:function(e){this.$emit("setValue",e)}},{key:"setupMonaco",value:function(){var e=this.$refs.editor;null===e||void 0===e||e.setup(this.postPageActionBus)}},{key:"setupSimpleMDE",value:function(){var e=this,t=this.$refs.editor.easymde.codemirror,i=function(t){return e.useMarkdown?t:t.replace(/!\[(.*?)\]\((.*?)\)/g,'<img src="$2" alt="$1">')},n=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r,o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.pasteHtml,"PM"),!e.pasteHtml){t.next=11;break}return t.t0=o,t.t1=i,t.next=6,r;case 6:t.t2=t.sent.join(""),t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3),t.next=18;break;case 11:return t.t4=o,t.t5=i,t.next=15,n;case 15:t.t6=t.sent.join(""),t.t7=(0,t.t5)(t.t6),(0,t.t4)(t.t7);case 18:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),r=function(t,i){var n,r;null===(n=(r=e.postPageActionBus).uploadImage)||void 0===n||n.call(r,t,i).then((function(t){URL.revokeObjectURL(i),e.handleChange(e.value.replace(i,t.url))}))};t.on("drop",(function(e,t){ge(e,t,n,r)})),t.on("paste",(function(e,t){me(e,t,n,r)})),t.on("beforeChange",ve)}},{key:"setupEditor",value:function(){this.useMonaco?this.setupMonaco():this.setupSimpleMDE()}},{key:"render",value:function(){var e=this,t=arguments[0];return this.useMonaco?t("roselia-async-monaco-editor",{attrs:{value:this.value,useMarkdown:this.useMarkdown,dark:this.dark},on:{input:function(t){return e.handleChange(t)},loaded:function(){return e.setupMonaco()}},ref:"editor"}):t("easy-mde",{attrs:{value:this.value,configs:pe.easyMdeConfig},on:{input:function(t){return e.handleChange(t)}},ref:"editor"})}},{key:"mounted",value:function(){this.setupEditor()}},{key:"useMonaco",get:function(){return"monaco"===this.editor}}]),i}(W["default"]);be.availableEditors=[{text:"Easy Markdown Editor",value:"easymde"},{text:"Monaco Editor",value:"monaco"}],be.defaultEditor="easymde",be.easyMdeConfig={spellChecker:!1,hideIcons:["guide"]},Object(z["a"])([Object(q["b"])("setValue"),Object(q["c"])()],be.prototype,"value",void 0),Object(z["a"])([Object(q["c"])()],be.prototype,"editor",void 0),Object(z["a"])([Object(q["c"])()],be.prototype,"useMarkdown",void 0),Object(z["a"])([Object(q["c"])()],be.prototype,"dark",void 0),Object(z["a"])([Object(q["c"])({default:!1})],be.prototype,"pasteHtml",void 0),Object(z["a"])([Object(q["c"])({default:function(){}})],be.prototype,"postPageActionBus",void 0),Object(z["a"])([Object(q["e"])("editor")],be.prototype,"onEditorChanged",null),be=pe=Object(z["a"])([Object(q["a"])({components:{RoseliaAsyncMonacoEditor:ye,EasyMde:ie}})],be);var xe={components:{BlogToolbar:c["a"],PluginExplorer:_,GlobalEvents:f["a"],UploadedImages:F["a"],EditorSwitcher:be},name:"post-edit",data:function(){return{postData:{img:"",id:0,content:"",secret:0,title:"",subtitle:"",hidden:!1,enableComment:!0,darkTitle:!1,displayId:"",tags:[]},toast:{show:!1,text:"",color:""},deleteDialog:!1,valid:!0,markdown:!0,addPost:0,loading:!1,configs:{spellChecker:!1,hideIcons:["guide"]},uploadImages:[],doNotSave:!1,explorerOpen:!1,imageUpload:{channel:"roselia",channels:[],loading:!0,convertToWebp:!1},pasteHtml:!1,availableEditors:be.availableEditors,currentEditor:be.defaultEditor}},props:{userData:Object,currentColorScheme:Boolean},methods:{showToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.toast.text=e,this.toast.color=t,this.toast.show=!0},changeToast:function(e){this.toast.show=e},makeRedirect:function(e){l["a"].setRedirect(this.$route.fullPath),l["a"].redirectTo(e)},changeTags:function(){this.postData.tags=this.postData.tags.map((function(e){return e.replace(/ /g,"-")}))},getPostNum:function(){return this.$route.query.post},getPostData:function(){return this.changeTags(),{markdown:this.markdown,data:this.postData,uploadImages:this.uploadImages,editor:this.currentEditor}},getPostDraft:function(e){return JSON.parse(window.localStorage.getItem("postDraft#".concat(e||0)))},saveDraft:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.localStorage.setItem("postDraft#".concat(this.postData.id||0),JSON.stringify(this.getPostData())),this.showToast("Draft saved!")},deleteDraft:function(){window.localStorage.removeItem("postDraft#".concat(this.postData.id||0))},getRequestForm:function(){var e=Object(s["a"])(Object(s["a"])({},this.postData),{},{id:void 0,next:void 0,prev:void 0,lastEdit:void 0,author:void 0,created:void 0});return{postID:this.addPost?void 0:this.postData.id,data:Object(u["c"])(e),markdown:this.markdown}},loadDraft:function(){var e=this.getPostNum()||0,t=this.getPostDraft(e);return t&&(this.markdown=t.markdown,this.postData=t.data,this.uploadImages=t.uploadImages||[],this.currentEditor=t.editor||this.currentEditor),!!t},preload:function(){var e=this.loadDraft();return e&&this.showToast("Draft loaded!"),e},loadContent:function(){var e=this,t=this.getPostNum();t&&(this.loading=!0,l["a"].fetchJSON(l["a"].apiFor("post",t),"GET",{markdown:this.markdown}).then((function(t){e.loading=!1,t?e.postData=Object(u["b"])(t):e.addPost=!0})).catch((function(t){e.showToast(t,"error")})))},doEditPost:function(){var e=this;if(this.valid)return this.loading=!0,l["a"].fetchJSONWithSuccess(l["a"].apiFor("add"),"POST",this.getRequestForm()).then((function(t){e.showToast("Success!","success"),e.leave()})).catch((function(t){if(e.$Progress.fail(),"expired"===t)return l["a"].refreshToken().then((function(t){return e.doEditPost()})).catch((function(t){e.showToast("Token Expired!","warning"),e.makeRedirect({name:"login"})}));e.showToast(t,"error")})).finally((function(){e.deleteDialog=!1,e.loading=!1}))},deletePost:function(){var e=this,t=this.getPostNum();if(t){var i=l["a"].getLoginData();i&&i.role?l["a"].fetchJSONWithSuccess(l["a"].apiFor("remove"),"POST",{postID:t}).then((function(t){e.showToast("Success!","success"),e.leave(!0)})).catch((function(t){"expired"===t?(e.showToast("Token Expired!","warning"),e.$router.push({name:"login"})):e.showToast(t,"error")})):this.showToast("You are not supposed to do this.","warning")}},reloadPost:function(){this.markdown=!0,this.loadContent()},doNotDelete:function(){this.deleteDialog=!1,this.leave()},leave:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.deleteDraft(),this.doNotSave=e,this.$route.params.deletePost?this.$router.go(-1):l["a"].redirectTo({name:"index"})},getPreviewData:function(){return Object(s["a"])(Object(s["a"])({},this.postData),{},{id:"preview",content:this.markdown?Object(N["markdown"])(this.postData.content):this.postData.content,markdownContent:this.markdown?this.postData.content:void 0})},switchDarkMode:function(){var e=this.currentColorScheme,t=!e;this.$emit("forceSwitchToLight",!!t),this.$emit("forceSwitchToDark",!t)}},computed:{realTitle:function(){return this.addPost?"Add a post":"Edit: ".concat(this.postData.title)},operationVerb:function(){return this.addPost?"add":"edit"},lockIcon:function(){return this.postData.secret?"lock":"lock_open"},isMac:function(){return p.macOS},isMobile:function(){return p.mobile},commandText:function(){return this.isMac?"⌘":"Ctrl"},richPostExtensions:function(){return P.richPostPlugin},postDataContent:{get:function(){return this.postData.content},set:function(e){this.postData.content=e}},postPageActionBus:function(){var e=this,t={save:function(){return e.doEditPost()},goToPreview:function(){e.$router.push({name:"post",params:{data:e.getPreviewData()}})},goToLivePreview:function(){window.open(e.$router.resolve({name:"postLivePreview",params:{previewPostId:e.postData.id||0}}).href,"_blank")},uploadImage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(i,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={url:n,channel:e.imageUpload.channel,loading:!0,fileName:"Uploading..."},t.prev=1,e.uploadImages=[].concat(Object(o["a"])(e.uploadImages),[r]),t.next=5,Object(B["d"])(i,e.imageUpload.channel,e.imageUpload.convertToWebp?"webp":void 0);case 5:if(a=t.sent,a.success){t.next=8;break}throw new Error(a.msg);case 8:return e.uploadImages=e.uploadImages.map((function(e){return e===r?a.result:e})),t.abrupt("return",a.result);case 12:t.prev=12,t.t0=t["catch"](1),e.showToast(t.t0,"error"),e.uploadImages=e.uploadImages.filter((function(e){return e!==r}));case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));function i(e,i){return t.apply(this,arguments)}return i}()};return t}},mounted:function(){var e=this;if(!this.userData)return this.makeRedirect({name:"login",params:{logout:!0,message:"Login to ".concat(this.operationVerb," a post")}});if(!this.userData.role)return this.showToast("You are not supposed to do this."),void l["a"].redirectTo({name:"index"});if(this.$route.params.deletePost){this.deleteDialog=!0,this.postData.title=this.$route.params.title;var t=this.$watch("deleteDialog",(function(i){t(),e.doNotDelete()}))}else{this.addPost=!this.getPostNum();var i=this.preload();i||this.addPost||this.loadContent(),window.addEventListener("beforeunload",this.saveDraft),Object($["d"])({"Utilities.FinishTask":this.doEditPost,"Utilities.Confirm":this.doEditPost,"Utilities.Cancel":this.leave,save:this.doEditPost},this),Object(B["a"])().then((function(t){e.imageUpload.channels=t.map((function(e){return{text:"".concat(e.name," - ").concat(e.description),value:e.id}})),e.imageUpload.loading=!1}))}},watch:{userData:function(e){e||this.makeRedirect({name:"login"})},postDataContent:{handler:Object(R["a"])((function(){this.saveDraft()}),500),deep:!0}},beforeDestroy:function(){this.doNotSave||this.saveDraft()},destroyed:function(){this.$emit("forceSwitchToLight"),window.removeEventListener("beforeunload",this.saveDraft),Object($["c"])()}},we=xe,ke=i("99d9"),Ce=(i("6ca7"),i("ec29"),i("9d26")),Se=i("c37a"),Te=i("5607"),De=W["default"].extend({name:"rippleable",directives:{ripple:Te["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),e.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",e)):null},onChange(){}}}),Ae=i("8547"),Ee=i("58df"),Ie=Object(Ee["a"])(Se["a"],De,Ae["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.disabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=Se["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:e=>{e.preventDefault(),this.onChange()}},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur(){this.isFocused=!1},onChange(){if(this.isDisabled)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const i=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===i&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(){this.isFocused=!0},onKeydown(e){}}}),Le=Ie.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...Se["a"].options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.disabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick(()=>this.inputIndeterminate=e)},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(Ce["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...this.attrs$,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),Me=(i("2bfd"),i("8654")),Oe=i("d9f7"),_e=i("80d2");const Pe={...A["b"],offsetY:!0,offsetOverflow:!0,transition:!1};var $e=A["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,i)=>i.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:A["a"].options.props.menuProps.type,default:()=>Pe},noFilter:Boolean,searchInput:{type:String,default:void 0}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...A["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(e=>this.getValue(e))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(e=>!this.hasItem(e)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(e=>this.filter(e,String(this.internalSearch),String(this.getText(e))))},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=A["a"].options.computed.$_menuProps.call(this);return e.contentClass=("v-autocomplete__content "+(e.contentClass||"")).trim(),{...Pe,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue)))},listData(){const e=A["a"].options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=void 0)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},methods:{onFilteredItemsChanged(e,t){e!==t&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===_e["v"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===_e["v"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==_e["v"].backspace&&e!==_e["v"].delete||this.deleteCurrentItem())},deleteCurrentItem(){if(this.readonly)return;const e=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==e)return void(this.selectedIndex=e);const t=this.selectedItems[this.selectedIndex];if(this.getDisabled(t))return;const i=this.selectedIndex===e?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===i?this.setValue(this.multiple?[]:void 0):this.selectItem(t),this.selectedIndex=i},clearableCallback(){this.internalSearch=void 0,A["a"].options.methods.clearableCallback.call(this)},genInput(){const e=Me["a"].options.methods.genInput.call(this);return e.data=Object(Oe["a"])(e.data,{attrs:{"aria-activedescendant":Object(_e["n"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(_e["n"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=A["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?A["a"].options.methods.genSelections.call(this):[]},onClick(e){this.isDisabled||(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,i=t.value;t.value&&this.activateMenu(),this.internalSearch=i,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;A["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){A["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){A["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){A["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){if(-1===this.selectedIndex)return;const t=this.selectedItems[this.selectedIndex],i=this.getText(t);e.clipboardData.setData("text/plain",i),e.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",i),e.preventDefault()}}}),Be=$e.extend({name:"v-combobox",props:{delimiters:{type:Array,default:()=>[]},returnObject:{type:Boolean,default:!0}},data:()=>({editingIndex:-1}),computed:{computedCounterValue(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot(){return A["a"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed(){return!0},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onInternalSearchChanged(e){if(e&&this.multiple&&this.delimiters.length){const t=this.delimiters.find(t=>e.endsWith(t));null!=t&&(this.internalSearch=e.slice(0,e.length-t.length),this.updateTags())}this.updateMenuDimensions()},genInput(){const e=$e.options.methods.genInput.call(this);return delete e.data.attrs.name,e.data.on.paste=this.onPaste,e},genChipSelection(e,t){const i=A["a"].options.methods.genChipSelection.call(this,e,t);return this.multiple&&(i.componentOptions.listeners={...i.componentOptions.listeners,dblclick:()=>{this.editingIndex=t,this.internalSearch=this.getText(e),this.selectedIndex=-1}}),i},onChipInput(e){A["a"].options.methods.onChipInput.call(this,e),this.editingIndex=-1},onEnterDown(e){e.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged(e,t){this.autoSelectFirst&&$e.options.methods.onFilteredItemsChanged.call(this,e,t)},onKeyDown(e){const t=e.keyCode;A["a"].options.methods.onKeyDown.call(this,e),this.multiple&&t===_e["v"].left&&0===this.$refs.input.selectionStart?this.updateSelf():t===_e["v"].enter&&this.onEnterDown(e),this.changeSelectedIndex(t)},onTabDown(e){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return e.preventDefault(),e.stopPropagation(),this.updateTags();$e.options.methods.onTabDown.call(this,e)},selectItem(e){this.editingIndex>-1?this.updateEditing():$e.options.methods.selectItem.call(this,e)},setSelectedItems(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue(e){A["a"].options.methods.setValue.call(this,null!=e?e:this.internalSearch)},updateEditing(){const e=this.internalValue.slice();e[this.editingIndex]=this.internalSearch,this.setValue(e),this.editingIndex=-1},updateCombobox(){const e=Boolean(this.$scopedSlots.selection)||this.hasChips;e&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),e&&(this.internalSearch=void 0))},updateSelf(){this.multiple?this.updateTags():this.updateCombobox()},updateTags(){const e=this.getMenuIndex();if(e<0&&!this.searchIsDirty)return;if(this.editingIndex>-1)return this.updateEditing();const t=this.selectedItems.indexOf(this.internalSearch);if(t>-1){const e=this.internalValue.slice();e.splice(t,1),this.setValue(e)}if(e>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null},onPaste(e){if(!this.multiple||this.searchIsDirty)return;const t=e.clipboardData.getData("text/vnd.vuetify.autocomplete.item+plain");t&&-1===this.findExistingIndex(t)&&(e.preventDefault(),A["a"].options.methods.selectItem.call(this,t))}}}),Fe=i("4bd4"),Ne=i("a722"),Re=i("490a"),je=(i("9e29"),i("0789")),Ve=i("297c"),He=i("a293"),Ue=i("d9bd"),ze=Object(Ee["a"])(Se["a"],Ve["a"]).extend({name:"v-slider",directives:{ClickOutside:He["a"]},mixins:[Ve["a"]],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>"boolean"===typeof e||"always"===e},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:()=>[]},ticks:{type:[Boolean,String],default:!1,validator:e=>"boolean"===typeof e||"always"===e},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:()=>({app:null,oldValue:null,keyPressed:0,isFocused:!1,isActive:!1,noClick:!1}),computed:{classes(){return{...Se["a"].options.computed.classes.call(this),"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel}},internalValue:{get(){return this.lazyValue},set(e){e=isNaN(e)?this.minValue:e;const t=this.roundValue(Math.min(Math.max(e,this.minValue),this.maxValue));t!==this.lazyValue&&(this.lazyValue=t,this.$emit("input",t))}},trackTransition(){return this.keyPressed>=2?"none":""},minValue(){return parseFloat(this.min)},maxValue(){return parseFloat(this.max)},stepNumeric(){return this.step>0?parseFloat(this.step):0},inputWidth(){const e=(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100;return e},trackFillStyles(){const e=this.vertical?"bottom":"left",t=this.vertical?"top":"right",i=this.vertical?"height":"width",n=this.$vuetify.rtl?"auto":"0",r=this.$vuetify.rtl?"0":"auto",o=this.disabled?`calc(${this.inputWidth}% - 10px)`:this.inputWidth+"%";return{transition:this.trackTransition,[e]:n,[t]:r,[i]:o}},trackStyles(){const e=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",t=this.vertical?"height":"width",i="0px",n=this.disabled?`calc(${100-this.inputWidth}% - 10px)`:`calc(${100-this.inputWidth}%)`;return{transition:this.trackTransition,[e]:i,[t]:n}},showTicks(){return this.tickLabels.length>0||!(this.disabled||!this.stepNumeric||!this.ticks)},numTicks(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel(){return!this.disabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor(){if(!this.disabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor(){if(!this.disabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min(e){const t=parseFloat(e);t>this.internalValue&&this.$emit("input",t)},max(e){const t=parseFloat(e);t<this.internalValue&&this.$emit("input",t)},value:{handler(e){this.internalValue=e}}},beforeMount(){this.internalValue=this.value},mounted(){this.app=document.querySelector("[data-app]")||Object(Ue["c"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot(){const e=[this.genLabel()],t=this.genSlider();return this.inverseLabel?e.unshift(t):e.push(t),e.push(this.genProgress()),e},genSlider(){return this.$createElement("div",{class:{"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.disabled,"v-slider--readonly":this.readonly,...this.themeClasses},directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick}},this.genChildren())},genChildren(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onThumbMouseDown,this.onFocus,this.onBlur)]},genInput(){return this.$createElement("input",{attrs:{value:this.internalValue,id:this.computedId,disabled:this.disabled,readonly:!0,tabindex:-1,...this.$attrs}})},genTrackContainer(){const e=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genSteps(){if(!this.step||!this.showTicks)return null;const e=parseFloat(this.tickSize),t=Object(_e["h"])(this.numTicks+1),i=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",n=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&t.reverse();const r=t.map(t=>{const r=[];this.tickLabels[t]&&r.push(this.$createElement("div",{staticClass:"v-slider__tick-label"},this.tickLabels[t]));const o=t*(100/this.numTicks),a=this.$vuetify.rtl?100-this.inputWidth<o:o<this.inputWidth;return this.$createElement("span",{key:t,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":a},style:{width:e+"px",height:e+"px",[i]:`calc(${o}% - ${e/2}px)`,[n]:`calc(50% - ${e/2}px)`}},r)});return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},r)},genThumbContainer(e,t,i,n,r,o,a,s="thumb"){const l=[this.genThumb()],c=this.genThumbLabelContent(e);return this.showThumbLabel&&l.push(this.genThumbLabel(c)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:s,key:s,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":i,"v-slider__thumb-container--focused":n,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(t),attrs:{role:"slider",tabindex:this.disabled||this.readonly?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.readonly),"aria-orientation":this.vertical?"vertical":"horizontal",...this.$attrs},on:{focus:o,blur:a,keydown:this.onKeyDown,keyup:this.onKeyUp,touchstart:r,mousedown:r}}),l)},genThumbLabelContent(e){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:e}):[this.$createElement("span",[String(e)])]},genThumbLabel(e){const t=Object(_e["g"])(this.thumbSize),i=this.vertical?`translateY(20%) translateY(${Number(this.thumbSize)/3-1}px) translateX(55%) rotate(135deg)`:"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(je["e"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:t,width:t,transform:i}}),[this.$createElement("div",e)])])])},genThumb(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles(e){const t=this.vertical?"top":"left";let i=this.$vuetify.rtl?100-e:e;return i=this.vertical?100-i:i,{transition:this.trackTransition,[t]:i+"%"}},onThumbMouseDown(e){e.preventDefault(),this.oldValue=this.internalValue,this.keyPressed=2,this.isActive=!0;const t=!_e["z"]||{passive:!0,capture:!0},i=!!_e["z"]&&{passive:!0};"touches"in e?(this.app.addEventListener("touchmove",this.onMouseMove,i),Object(_e["a"])(this.app,"touchend",this.onSliderMouseUp,t)):(this.app.addEventListener("mousemove",this.onMouseMove,i),Object(_e["a"])(this.app,"mouseup",this.onSliderMouseUp,t)),this.$emit("start",this.internalValue)},onSliderMouseUp(e){e.stopPropagation(),this.keyPressed=0;const t=!!_e["z"]&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("end",this.internalValue),Object(_e["j"])(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove(e){const{value:t}=this.parseMouseMove(e);this.internalValue=t},onKeyDown(e){if(this.disabled||this.readonly)return;const t=this.parseKeyDown(e,this.internalValue);null!=t&&(this.internalValue=t,this.$emit("change",t))},onKeyUp(){this.keyPressed=0},onSliderClick(e){if(this.noClick)return void(this.noClick=!1);const t=this.$refs.thumb;t.focus(),this.onMouseMove(e),this.$emit("change",this.internalValue)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},parseMouseMove(e){const t=this.vertical?"top":"left",i=this.vertical?"height":"width",n=this.vertical?"clientY":"clientX",{[t]:r,[i]:o}=this.$refs.track.getBoundingClientRect(),a="touches"in e?e.touches[0][n]:e[n];let s=Math.min(Math.max((a-r)/o,0),1)||0;this.vertical&&(s=1-s),this.$vuetify.rtl&&(s=1-s);const l=a>=r&&a<=r+o,c=parseFloat(this.min)+s*(this.maxValue-this.minValue);return{value:c,isInsideTrack:l}},parseKeyDown(e,t){if(this.disabled)return;const{pageup:i,pagedown:n,end:r,home:o,left:a,right:s,down:l,up:c}=_e["v"];if(![i,n,r,o,a,s,l,c].includes(e.keyCode))return;e.preventDefault();const u=this.stepNumeric||1,h=(this.maxValue-this.minValue)/u;if([a,s,l,c].includes(e.keyCode)){this.keyPressed+=1;const i=this.$vuetify.rtl?[a,c]:[s,c],n=i.includes(e.keyCode)?1:-1,r=e.shiftKey?3:e.ctrlKey?2:1;t+=n*u*r}else if(e.keyCode===o)t=this.minValue;else if(e.keyCode===r)t=this.maxValue;else{const i=e.keyCode===n?1:-1;t-=i*u*(h>100?h/10:10)}return t},roundValue(e){if(!this.stepNumeric)return e;const t=this.step.toString().trim(),i=t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0,n=this.minValue%this.stepNumeric,r=Math.round((e-n)/this.stepNumeric)*this.stepNumeric+n;return parseFloat(Math.min(r,this.maxValue).toFixed(i))}}}),We=(i("9d01"),i("c3f0")),qe=Ie.extend({name:"v-switch",directives:{Touch:We["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...Se["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.disabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...this.attrs$}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(je["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(Re["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===_e["v"].left&&this.isActive||e.keyCode===_e["v"].right&&!this.isActive)&&this.onChange()}}}),Ye=i("3a2f"),Ge=Object(b["a"])(we,n,r,!1,null,"6a3f655e",null);t["default"]=Ge.exports;w()(Ge,{VBtn:k["a"],VCard:C["a"],VCardActions:ke["a"],VCardText:ke["b"],VCardTitle:ke["c"],VCheckbox:Le,VCol:ae["a"],VCombobox:Be,VContainer:se["a"],VDialog:S["a"],VForm:Fe["a"],VIcon:D["a"],VLayout:Ne["a"],VProgressCircular:Re["a"],VRow:ce["a"],VSelect:A["a"],VSlider:ze,VSpacer:E["a"],VSwitch:qe,VTextField:Me["a"],VTooltip:Ye["a"]})},"84f6":function(e,t,i){"use strict";var n=i("574d"),r=i.n(n);r.a},8547:function(e,t,i){"use strict";var n=i("2b0e"),r=i("80d2");t["a"]=n["default"].extend({name:"comparable",props:{valueComparator:{type:Function,default:r["j"]}}})},"85e4":function(e,t,i){},"894a":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("v-row",{attrs:{wrap:""}},[i("div",[i("div",[i("h1",[e._v("Manage Uploaded Images")]),i("v-col",{attrs:{md:"12",lg:"12"}},[i("v-select",{attrs:{label:"Image Upload Channel",loading:e.loading,items:e.channels,"prepend-icon":"camera_roll"},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}})],1),i("uploaded-images",{attrs:{notify:e.toast},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}})],1)])]),i("v-row")],1)},r=[],o=(i("a4d3"),i("e01a"),i("99af"),i("d81d"),i("b0c0"),i("2b0e")),a=i("e5fb"),s=i("f6f0"),l=o["default"].extend({components:{UploadedImages:a["a"]},props:{toast:{type:Function}},data:function(){return{channels:[],loading:!1,channel:"roselia",images:[]}},watch:{channel:{handler:function(e){this.loadChannelImages()},immediate:!0}},methods:{loadChannelImages:function(){var e=this;this.loading=!0,Object(s["b"])(this.channel).then((function(t){e.images=t,e.loading=!1})).catch((function(t){e.toast(t,"error"),e.loading=!1}))}},mounted:function(){var e=this;this.loading=!0,Object(s["a"])().then((function(t){e.channels=t.map((function(e){return{text:"".concat(e.name," - ").concat(e.description),value:e.id}})),e.loading=!1}))}}),c=l,u=i("2877"),h=i("6544"),d=i.n(h),p=i("62ad"),f=i("a523"),m=i("0fd9"),g=i("b974"),v=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=v.exports;d()(v,{VCol:p["a"],VContainer:f["a"],VRow:m["a"],VSelect:g["a"]})},"895d":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h1",{staticClass:"primary--text display-1"},[e._v("Well met, "+e._s(e.userData.nickname)+"("+e._s(e.userData.username)+")!")]),i("p",[e._v("There are "+e._s(e.posts)+" posts from your perspective.")]),i("p",[e._v("Take it easy casuse I will NOT break your legs in this page.")])])},r=[],o=i("90b9"),a={name:"ConsoleIndex",props:["userData","toast"],data:function(){return{posts:"Loading..."}},methods:{loadPostCount:function(){var e=this;o["a"].fetchJSON(o["a"].apiFor("posts"),"GET",{limit:1}).then((function(t){e.posts=t.total}))}},mounted:function(){this.loadPostCount()}},s=a,l=i("2877"),c=Object(l["a"])(s,n,r,!1,null,null,null);t["default"]=c.exports},"8b37":function(e,t,i){},"8f70":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",{attrs:{dark:!e.currentColorScheme}},[i("blog-toolbar",{attrs:{userData:e.userData,noDrawer:!0}},[i("v-app-bar-nav-icon",{attrs:{dark:""},nativeOn:{click:function(t){e.drawer=!e.drawer}}})],1),i("v-navigation-drawer",{attrs:{fixed:"",clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t,n){return[t.heading?i("v-row",{key:n,attrs:{row:"","align-center":""}},[i("v-col",[t.heading?i("v-subheader",{attrs:{inset:""}},[e._v(" "+e._s(t.heading)+" ")]):e._e()],1)],1):t.divider?i("v-divider",{key:n,staticClass:"my-3",attrs:{dark:""}}):t.click?i("v-list-item",{key:n,attrs:{ripple:""},on:{click:t.click}},[i("v-list-item-icon",[i("v-icon",[e._v(e._s(t.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"grey--text"},[e._v(" "+e._s(t.text)+" ")])],1)],1):i("v-list-item",{key:n,attrs:{ripple:"",to:t.to}},[i("v-list-item-icon",[i("v-icon",[e._v(e._s(t.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"grey--text"},[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2)],1),i("v-content",[i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-col",{staticClass:"shrink",attrs:{cols:"10"}},[i("v-alert",{attrs:{type:e.toast.color,transition:"scale-transition"},model:{value:e.toast.show,callback:function(t){e.$set(e.toast,"show",t)},expression:"toast.show"}},[e._v(" "+e._s(e.toast.text)+" ")]),i("v-slide-x-transition",{attrs:{"hide-on-leave":""}},[i("router-view",{attrs:{userData:e.userData,toast:e.showToast}})],1)],1)],1)],1)],1),i("toast",e._b({on:{showChange:e.changeToast}},"toast",e.toast,!1))],1)},r=[],o=(i("4de4"),i("4160"),i("a630"),i("d81d"),i("d3b7"),i("25f0"),i("3ca3"),i("2ca0"),i("159b"),i("ddb0"),i("4bdc")),a=i("90b9"),s={components:{BlogToolbar:o["a"]},name:"blog-user-space",data:function(){return{toast:{show:!1,text:"",color:""},drawer:null,removeListener:null}},props:{currentColorScheme:Boolean,userData:Object},computed:{items:function(){return[{icon:"home",text:"Home",to:{name:"userspace"}},{divider:!0},{heading:"Articles"},{icon:"add_circle",text:"Write a new post",to:{name:"edit"},cond:this.userData.role},{icon:"archive",text:"Manage Drafts",to:{name:"manageDrafts",cond:this.userData.role}},{icon:"list_alt",text:"My Timeline",to:{name:"userTimeline",params:{username:this.userData.username}}},{divider:!0},{heading:"My Account"},{icon:"account_box",text:"Account Settings",to:{name:"setNickname"}},{icon:"account_circle",text:"OAuth Accounts",to:{name:"oauthAccounts"}},{icon:"security",text:"Two Step Auth",to:{name:"twoStepAuth"}},{divider:!0},{heading:"Management"},{icon:"lock",text:"Change Password",to:{name:"changePassword"}},{icon:"people",text:"Manage User",to:{name:"userManagement"},cond:this.userData.role},{icon:"computer",text:"System Monitor",to:{name:"systemMonitor"},cond:this.userData.role>1},{icon:"photo",text:"Image Managenent",to:{name:"manageImages"},cond:this.userData.role},{divider:!0},{heading:"My Session"},{icon:"refresh",text:"Token Refresh",to:{name:"tokenRefresh"},cond:this.userData.rftoken},{icon:"verified_user",text:"Remote Login",to:{name:"remoteLogin"}},{divider:!0},{icon:"exit_to_app",text:"Log Out",to:{name:"login",params:{logout:!0}}}].filter((function(e){return!e.hasOwnProperty("cond")||e.cond}))}},methods:{showToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.toast=this.toast||{},this.toast.show=!1,this.toast.text=e.toString(),this.toast.color=t,this.toast.show=!0},changeToast:function(e){this.toast.show=e},ensureLoggedIn:function(){this.userData||this.$router.push({name:"login",params:{logout:!0,message:"Login to manage",alert:{color:"warning",text:"Please login first"},redirect:this.$route.fullPath}})},removeAllDraft:function(){var e=window.localStorage;Array.from(Array(e.length).keys()).map(e.key.bind(e)).filter((function(e){return e.startsWith("postDraft")})).forEach((function(t){e.removeItem(t)})),this.showToast("Draft Cleaned!")}},mounted:function(){this.ensureLoggedIn()},destroyed:function(){a["a"].removeSUToken(),this.removeListener&&this.removeListener()},watch:{userData:function(){this.ensureLoggedIn()}}},l=s,c=i("2877"),u=i("6544"),h=i.n(u),d=i("0798"),p=i("7496"),f=i("5bc1"),m=i("62ad"),g=i("a523"),v=i("a75b"),y=i("ce7e"),b=i("132d"),x=i("8860"),w=i("da13"),k=i("5d23"),C=i("34c3"),S=i("f774"),T=i("0fd9"),D=i("0789"),A=i("e0c7"),E=Object(c["a"])(l,n,r,!1,null,"b4e08a68",null);t["default"]=E.exports;h()(E,{VAlert:d["a"],VApp:p["a"],VAppBarNavIcon:f["a"],VCol:m["a"],VContainer:g["a"],VContent:v["a"],VDivider:y["a"],VIcon:b["a"],VList:x["a"],VListItem:w["a"],VListItemContent:k["a"],VListItemIcon:C["a"],VListItemTitle:k["b"],VNavigationDrawer:S["a"],VRow:T["a"],VSlideXTransition:D["f"],VSubheader:A["a"]})},"91f4":function(e,t,i){},"959b":function(e,t,i){(function(e){e(i("56b3"),i("d5e0"),i("f040"))})((function(e){"use strict";e.defineMode("markdown",(function(t,i){var n=e.getMode(t,"text/html"),r="null"==n.name;function o(i){if(e.findModeByName){var n=e.findModeByName(i);n&&(i=n.mime||n.mimes[0])}var r=e.getMode(t,i);return"null"==r.name?null:r}void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.emoji&&(i.emoji=!1),void 0===i.fencedCodeBlockHighlighting&&(i.fencedCodeBlockHighlighting=!0),void 0===i.xml&&(i.xml=!0),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var a={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in a)a.hasOwnProperty(s)&&i.tokenTypeOverrides[s]&&(a[s]=i.tokenTypeOverrides[s]);var l=/^([*\-_])(?:\s*\1){2,}\s*$/,c=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,u=/^\[(x| )\](?=\s)/i,h=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,d=/^ {0,3}(?:\={1,}|-{2,})\s*$/,p=/^[^#!\[\]*_\\<>` "'(~:]+/,f=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,m=/^\s*\[[^\]]+?\]:.*$/,g=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,v="    ";function y(e,t,i){return t.f=t.inline=i,i(e,t)}function b(e,t,i){return t.f=t.block=i,i(e,t)}function x(e){return!e||!/\S/.test(e.string)}function w(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==C){var i=r;if(!i){var o=e.innerMode(n,t.htmlState);i="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}i&&(t.f=A,t.block=k,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function k(t,n){var r=t.column()===n.indentation,s=x(n.prevLine.stream),p=n.indentedCode,g=n.prevLine.hr,v=!1!==n.list,b=(n.listStack[n.listStack.length-1]||0)+3;n.indentedCode=!1;var w=n.indentation;if(null===n.indentationDiff&&(n.indentationDiff=n.indentation,v)){n.list=null;while(w<n.listStack[n.listStack.length-1])n.listStack.pop(),n.listStack.length?n.indentation=n.listStack[n.listStack.length-1]:n.list=!1;!1!==n.list&&(n.indentationDiff=w-n.listStack[n.listStack.length-1])}var k=!s&&!g&&!n.prevLine.header&&(!v||!p)&&!n.prevLine.fencedCodeEnd,C=(!1===n.list||g||s)&&n.indentation<=b&&t.match(l),D=null;if(n.indentationDiff>=4&&(p||n.prevLine.fencedCodeEnd||n.prevLine.header||s))return t.skipToEnd(),n.indentedCode=!0,a.code;if(t.eatSpace())return null;if(r&&n.indentation<=b&&(D=t.match(h))&&D[1].length<=6)return n.quote=0,n.header=D[1].length,n.thisLine.header=!0,i.highlightFormatting&&(n.formatting="header"),n.f=n.inline,T(n);if(n.indentation<=b&&t.eat(">"))return n.quote=r?1:n.quote+1,i.highlightFormatting&&(n.formatting="quote"),t.eatSpace(),T(n);if(!C&&!n.setext&&r&&n.indentation<=b&&(D=t.match(c))){var A=D[1]?"ol":"ul";return n.indentation=w+t.current().length,n.list=!0,n.quote=0,n.listStack.push(n.indentation),n.em=!1,n.strong=!1,n.code=!1,n.strikethrough=!1,i.taskLists&&t.match(u,!1)&&(n.taskList=!0),n.f=n.inline,i.highlightFormatting&&(n.formatting=["list","list-"+A]),T(n)}return r&&n.indentation<=b&&(D=t.match(f,!0))?(n.quote=0,n.fencedEndRE=new RegExp(D[1]+"+ *$"),n.localMode=i.fencedCodeBlockHighlighting&&o(D[2]),n.localMode&&(n.localState=e.startState(n.localMode)),n.f=n.block=S,i.highlightFormatting&&(n.formatting="code-block"),n.code=-1,T(n)):n.setext||!(k&&v||n.quote||!1!==n.list||n.code||C||m.test(t.string))&&(D=t.lookAhead(1))&&(D=D.match(d))?(n.setext?(n.header=n.setext,n.setext=0,t.skipToEnd(),i.highlightFormatting&&(n.formatting="header")):(n.header="="==D[0].charAt(0)?1:2,n.setext=n.header),n.thisLine.header=!0,n.f=n.inline,T(n)):C?(t.skipToEnd(),n.hr=!0,n.thisLine.hr=!0,a.hr):"["===t.peek()?y(t,n,O):y(t,n,n.inline)}function C(t,i){var o=n.token(t,i.htmlState);if(!r){var a=e.innerMode(n,i.htmlState);("xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText||i.md_inside&&t.current().indexOf(">")>-1)&&(i.f=A,i.block=k,i.htmlState=null)}return o}function S(e,t){var n,r=t.listStack[t.listStack.length-1]||0,o=t.indentation<r,s=r+3;return t.fencedEndRE&&t.indentation<=s&&(o||e.match(t.fencedEndRE))?(i.highlightFormatting&&(t.formatting="code-block"),o||(n=T(t)),t.localMode=t.localState=null,t.block=k,t.f=A,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,o?b(e,t,t.block):n):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),a.code)}function T(e){var t=[];if(e.formatting){t.push(a.formatting),"string"===typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;n<e.formatting.length;n++)t.push(a.formatting+"-"+e.formatting[n]),"header"===e.formatting[n]&&t.push(a.formatting+"-"+e.formatting[n]+"-"+e.header),"quote"===e.formatting[n]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?t.push(a.formatting+"-"+e.formatting[n]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(a.linkHref,"url"):(e.strong&&t.push(a.strong),e.em&&t.push(a.em),e.strikethrough&&t.push(a.strikethrough),e.emoji&&t.push(a.emoji),e.linkText&&t.push(a.linkText),e.code&&t.push(a.code),e.image&&t.push(a.image),e.imageAltText&&t.push(a.imageAltText,"link"),e.imageMarker&&t.push(a.imageMarker)),e.header&&t.push(a.header,a.header+"-"+e.header),e.quote&&(t.push(a.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?t.push(a.quote+"-"+e.quote):t.push(a.quote+"-"+i.maxBlockquoteDepth)),!1!==e.list){var r=(e.listStack.length-1)%3;r?1===r?t.push(a.list2):t.push(a.list3):t.push(a.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function D(e,t){if(e.match(p,!0))return T(t)}function A(t,r){var o=r.text(t,r);if("undefined"!==typeof o)return o;if(r.list)return r.list=null,T(r);if(r.taskList){var s=" "===t.match(u,!0)[1];return s?r.taskOpen=!0:r.taskClosed=!0,i.highlightFormatting&&(r.formatting="task"),r.taskList=!1,T(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return i.highlightFormatting&&(r.formatting="header"),T(r);var l=t.next();if(r.linkTitle){r.linkTitle=!1;var c=l;"("===l&&(c=")"),c=(c+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var h="^\\s*(?:[^"+c+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(new RegExp(h),!0))return a.linkHref}if("`"===l){var d=r.formatting;i.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var p=t.current().length;if(0!=r.code||r.quote&&1!=p){if(p==r.code){var f=T(r);return r.code=0,f}return r.formatting=d,T(r)}return r.code=p,T(r)}if(r.code)return T(r);if("\\"===l&&(t.next(),i.highlightFormatting)){var m=T(r),v=a.formatting+"-escape";return m?m+" "+v:v}if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,i.highlightFormatting&&(r.formatting="image"),T(r);if("["===l&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,i.highlightFormatting&&(r.formatting="image"),T(r);if("]"===l&&r.imageAltText){i.highlightFormatting&&(r.formatting="image");m=T(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=I,m}if("["===l&&!r.image)return r.linkText&&t.match(/^.*?\]/)||(r.linkText=!0,i.highlightFormatting&&(r.formatting="link")),T(r);if("]"===l&&r.linkText){i.highlightFormatting&&(r.formatting="link");m=T(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?I:A,m}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=E,i.highlightFormatting&&(r.formatting="link");m=T(r);return m?m+=" ":m="",m+a.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=E,i.highlightFormatting&&(r.formatting="link");m=T(r);return m?m+=" ":m="",m+a.linkEmail}if(i.xml&&"<"===l&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=t.string.indexOf(">",t.pos);if(-1!=y){var x=t.string.substring(t.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(n),b(t,r,C)}if(i.xml&&"<"===l&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===l||"_"===l){var w=1,k=1==t.pos?" ":t.string.charAt(t.pos-2);while(w<3&&t.eat(l))w++;var S=t.peek()||" ",D=!/\s/.test(S)&&(!g.test(S)||/\s/.test(k)||g.test(k)),L=!/\s/.test(k)&&(!g.test(k)||/\s/.test(S)||g.test(S)),M=null,O=null;if(w%2&&(r.em||!D||"*"!==l&&L&&!g.test(k)?r.em!=l||!L||"*"!==l&&D&&!g.test(S)||(M=!1):M=!0),w>1&&(r.strong||!D||"*"!==l&&L&&!g.test(k)?r.strong!=l||!L||"*"!==l&&D&&!g.test(S)||(O=!1):O=!0),null!=O||null!=M){i.highlightFormatting&&(r.formatting=null==M?"strong":null==O?"em":"strong em"),!0===M&&(r.em=l),!0===O&&(r.strong=l);f=T(r);return!1===M&&(r.em=!1),!1===O&&(r.strong=!1),f}}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return T(r);t.backUp(1)}if(i.strikethrough)if("~"===l&&t.eatWhile(l)){if(r.strikethrough){i.highlightFormatting&&(r.formatting="strikethrough");f=T(r);return r.strikethrough=!1,f}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,i.highlightFormatting&&(r.formatting="strikethrough"),T(r)}else if(" "===l&&t.match(/^~~/,!0)){if(" "===t.peek())return T(r);t.backUp(2)}if(i.emoji&&":"===l&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,i.highlightFormatting&&(r.formatting="emoji");var _=T(r);return r.emoji=!1,_}return" "===l&&(t.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),T(r)}function E(e,t){var n=e.next();if(">"===n){t.f=t.inline=A,i.highlightFormatting&&(t.formatting="link");var r=T(t);return r?r+=" ":r="",r+a.linkInline}return e.match(/^[^>]+/,!0),a.linkInline}function I(e,t){if(e.eatSpace())return null;var n=e.next();return"("===n||"["===n?(t.f=t.inline=M("("===n?")":"]"),i.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,T(t)):"error"}var L={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function M(e){return function(t,n){var r=t.next();if(r===e){n.f=n.inline=A,i.highlightFormatting&&(n.formatting="link-string");var o=T(n);return n.linkHref=!1,o}return t.match(L[e]),n.linkHref=!0,T(n)}}function O(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=_,e.next(),i.highlightFormatting&&(t.formatting="link"),t.linkText=!0,T(t)):y(e,t,A)}function _(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=P,i.highlightFormatting&&(t.formatting="link");var n=T(t);return t.linkText=!1,n}return e.match(/^([^\]\\]|\\.)+/,!0),a.linkText}function P(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=A,a.linkHref+" url")}var $={startState:function(){return{f:k,prevLine:{stream:null},thisLine:{stream:null},block:k,htmlState:null,indentation:0,inline:A,text:D,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(n,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return w(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=C)){var i=e.match(/^\s*/,!0)[0].replace(/\t/g,v).length;if(t.indentation=i,t.indentationDiff=null,i>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==C?{state:e.htmlState,mode:n}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:$}},indent:function(t,i,r){return t.block==C&&n.indent?n.indent(t.htmlState,i,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,i,r):e.Pass},blankLine:w,getType:T,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return $}),"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}))},9948:function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";function t(e){e.state.markedSelection&&e.operation((function(){c(e)}))}function i(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation((function(){s(e)}))}e.defineOption("styleSelectedText",!1,(function(n,r,o){var a=o&&o!=e.Init;r&&!a?(n.state.markedSelection=[],n.state.markedSelectionStyle="string"==typeof r?r:"CodeMirror-selectedtext",l(n),n.on("cursorActivity",t),n.on("change",i)):!r&&a&&(n.off("cursorActivity",t),n.off("change",i),s(n),n.state.markedSelection=n.state.markedSelectionStyle=null)}));var n=8,r=e.Pos,o=e.cmpPos;function a(e,t,i,a){if(0!=o(t,i))for(var s=e.state.markedSelection,l=e.state.markedSelectionStyle,c=t.line;;){var u=c==t.line?t:r(c,0),h=c+n,d=h>=i.line,p=d?i:r(h,0),f=e.markText(u,p,{className:l});if(null==a?s.push(f):s.splice(a++,0,f),d)break;c=h}}function s(e){for(var t=e.state.markedSelection,i=0;i<t.length;++i)t[i].clear();t.length=0}function l(e){s(e);for(var t=e.listSelections(),i=0;i<t.length;i++)a(e,t[i].from(),t[i].to())}function c(e){if(!e.somethingSelected())return s(e);if(e.listSelections().length>1)return l(e);var t=e.getCursor("start"),i=e.getCursor("end"),r=e.state.markedSelection;if(!r.length)return a(e,t,i);var c=r[0].find(),u=r[r.length-1].find();if(!c||!u||i.line-t.line<=n||o(t,u.to)>=0||o(i,c.from)<=0)return l(e);while(o(t,c.from)>0)r.shift().clear(),c=r[0].find();o(t,c.from)<0&&(c.to.line-t.line<n?(r.shift().clear(),a(e,t,c.to,0)):a(e,t,c.from,0));while(o(i,u.to)<0)r.pop().clear(),u=r[r.length-1].find();o(i,u.to)>0&&(i.line-u.from.line<n?(r.pop().clear(),a(e,u.from,i)):a(e,u.to,i))}}))},"9d01":function(e,t,i){},"9e29":function(e,t,i){},"9e88":function(e,t,i){"use strict";i("cf36");var n=i("5607"),r=i("2b0e"),o=i("132d"),a=i("a9ad"),s=i("7560"),l=i("80d2");t["a"]=r["default"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:n["a"]},props:{...a["a"].options.props,...s["a"].options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(e,{props:t,data:i}){const n=[];if(t.ripple&&!t.disabled){const i=e("div",a["a"].options.methods.setTextColor(t.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));n.push(i)}let r=t.offIcon;t.indeterminate?r=t.indeterminateIcon:t.value&&(r=t.onIcon),n.push(e(o["a"],a["a"].options.methods.setTextColor(t.value&&t.color,{props:{disabled:t.disabled,dark:t.dark,light:t.light}}),r));const s={"v-simple-checkbox":!0,"v-simple-checkbox--disabled":t.disabled};return e("div",{...i,class:s,on:{click:e=>{e.stopPropagation(),i.on&&i.on.input&&!t.disabled&&Object(l["E"])(i.on.input).forEach(e=>e(!t.value))}}},n)}})},"9eb9":function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";e.overlayMode=function(t,i,n){return{startState:function(){return{base:e.startState(t),overlay:e.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:e.copyState(t,n.base),overlay:e.copyState(i,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=i.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||n&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,i,n){return t.indent(e.base,i,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var r,o;return t.blankLine&&(r=t.blankLine(e.base)),i.blankLine&&(o=i.blankLine(e.overlay)),null==o?r:n&&null!=r?r+" "+o:o}}}}))},a623:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").every,o=i("a640"),a=i("ae40"),s=o("every"),l=a("every");n({target:"Array",proto:!0,forced:!s||!l},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},ab33:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card-action",[i("h2",{staticClass:"flex text--secondary"},[e._v("Two Step Auth")]),e.enabled?i("div",[i("h3",[e._v("You have enabled two step auth!")]),e.totpCode?i("div",[i("v-alert",{attrs:{type:"warning",value:!0}},[e._v(" Please make sure to keep this because it will display only once. ")]),i("h4",[e._v("Account: "+e._s(e.userData.username))]),i("h4",[e._v("Code: "+e._s(e.totpCode))]),i("p",[i("v-btn",{attrs:{small:"",rounded:"",href:e.totpUri,color:"primary"}},[e._v("Bind Now")]),i("v-btn",{attrs:{small:"",rounded:"",color:"primary"},on:{click:e.downloadAuthFile}},[e._v("Save")])],1),i("vue-qrcode",{attrs:{value:e.totpUri}})],1):e._e(),i("v-btn",{attrs:{color:"warning"},on:{click:e.handleDelete}},[e._v("Disable")])],1):i("div",[i("h3",[e._v("Two step auth is disabled")]),i("v-btn",{on:{click:e.enableTwoStepAuth}},[e._v("Enable")])],1),i("v-card-actions",[i("v-spacer")],1),i("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("You need to confirm by typing code.")]),i("v-container",[i("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{name:"loginCode",label:"Auth Code",type:"number",autofocus:"",rules:e.rules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.removeTwoStepAuth(t)}},model:{value:e.authCode,callback:function(t){e.authCode=t},expression:"authCode"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"error",flat:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("Nope")]),i("v-btn",{attrs:{color:"info",flat:""},on:{click:e.removeTwoStepAuth}},[e._v("OK")])],1)],1)],1)],1)},r=[],o=(i("99af"),i("a15b"),i("d81d"),i("d3b7"),i("ac1f"),i("3ca3"),i("1276"),i("498a"),i("ddb0"),i("2b3d"),i("90b9")),a=i("b2e5"),s=i.n(a),l={components:{VueQrcode:s.a},props:["userData","toast"],data:function(){return{enabled:!1,dialog:!1,totpCode:"",totpUri:"",authCode:"",nextCode:""}},methods:{enableTwoStepAuth:function(){var e=this;o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","two-step-auth","bind"),"POST",{}).then((function(t){e.totpUri=t.url,e.totpCode=t.code,e.nextCode=t.nextCode,e.enabled=!0})).catch((function(t){e.toast("Oops, try again.","error")}))},checkTwoStepAuth:function(){var e=this;o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","user-meta"),"GET",{username:this.userData.username}).then((function(t){e.enabled=t.totp})).catch((function(t){e.toast("Oops!","error")}))},removeTwoStepAuth:function(){var e=this;o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","two-step-auth","remove"),"POST",{code:this.nextCode||this.authCode}).then((function(t){e.toast("Great! You are unsafe now!","success"),e.enabled=!1,e.dialog=!1})).catch((function(t){if(e.nextCode)return e.nextCode="",void(e.dialog=!0);e.toast("Somehow your code is wrong.","error")}))},handleDelete:function(){if(this.nextCode)return this.removeTwoStepAuth();this.dialog=!0},downloadAuthFile:function(){var e="\n      Account: ".concat(this.userData.username,"\n      Key: ").concat(this.totpCode,",\n      BindURL: ").concat(this.totpUri,"\n      ").split("\n").map((function(e){return e.trim()})).join("\n"),t=new Blob([e]),i=URL.createObjectURL(t),n=document.createElement("a");n.download="".concat(this.userData.username," - Roselia Blog.txt"),n.href=i,n.click(),setTimeout((function(){return URL.revokeObjectURL(i)}),4e4)}},mounted:function(){this.checkTwoStepAuth()}},c=l,u=i("2877"),h=i("6544"),d=i.n(h),p=i("0798"),f=i("8336"),m=i("b0af"),g=i("99d9"),v=i("a523"),y=i("169a"),b=i("4bd4"),x=i("2fa4"),w=i("8654"),k=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=k.exports;d()(k,{VAlert:p["a"],VBtn:f["a"],VCard:m["a"],VCardActions:g["a"],VCardTitle:g["c"],VContainer:v["a"],VDialog:y["a"],VForm:b["a"],VSpacer:x["a"],VTextField:w["a"]})},b29f:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-btn",{attrs:{text:""},nativeOn:{click:function(t){e.addUser.form=!0}}},[i("v-icon",[e._v("person_add")])],1),i("v-data-table",{staticClass:"elevation-1",attrs:{items:e.userList,loading:e.loading,headers:e.headers},scopedSlots:e._u([{key:"item.role",fn:function(t){return[i("v-btn",{attrs:{icon:"",small:"",disabled:t.item.role<=0},on:{click:function(i){return e.shiftRole(t.item,-1)}}},[e._v("-")]),e._v(" "+e._s(t.item.role)+" "),i("v-btn",{attrs:{icon:"",small:"",disabled:t.item.role+1>=e.userData.role},on:{click:function(i){return e.shiftRole(t.item,1)}}},[e._v("+")])]}},{key:"item.action",fn:function(t){return[i("v-btn",{attrs:{icon:"",color:"secondary"},on:{click:function(i){return e.setPasswordForm(t.item.username)}}},[i("v-icon",[e._v("edit")])],1),i("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(i){return e.deleteUserForm(t.item.username)}}},[i("v-icon",[e._v("delete")])],1)]}},{key:"no-data",fn:function(){return[i("div",[e._v("I am sorry to announce that you can manage nobody. :(")])]},proxy:!0}])},[i("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1),i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.addUser.form,callback:function(t){e.$set(e.addUser,"form",t)},expression:"addUser.form"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v("Add User")])]),i("v-card-text",[i("v-form",{model:{value:e.addUser.valid,callback:function(t){e.$set(e.addUser,"valid",t)},expression:"addUser.valid"}},[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{rules:e.addUser.rules,label:"Username",required:""},model:{value:e.addUser.username,callback:function(t){e.$set(e.addUser,"username",t)},expression:"addUser.username"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{rules:e.addUser.rules,label:"Password",type:"password",required:""},model:{value:e.addUser.password,callback:function(t){e.$set(e.addUser,"password",t)},expression:"addUser.password"}})],1),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-select",{attrs:{items:e.addUser.items,label:"Permission Level",required:""},model:{value:e.addUser.role,callback:function(t){e.$set(e.addUser,"role",t)},expression:"addUser.role"}})],1)],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(t){e.addUser.form=!1}}},[e._v("Close")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.addUser.valid,loading:e.loading},on:{click:e.doAddUser}},[e._v("Add")])],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.loginForm,callback:function(t){e.loginForm=t},expression:"loginForm"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v("Enter Password")])]),i("v-card-text",[i("h4",[e._v("For your safety, please input your password.")]),i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{label:"Password",type:"password",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getSUToken(t)}},model:{value:e.loginPassword,callback:function(t){e.loginPassword=t},expression:"loginPassword"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.leave}},[e._v("Close")]),i("v-btn",{attrs:{color:"info",text:""},on:{click:e.getSUToken}},[e._v("OK")])],1)],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.setPassword.form,callback:function(t){e.$set(e.setPassword,"form",t)},expression:"setPassword.form"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v("Set Password of "+e._s(e.setPassword.username))])]),i("v-card-text",[i("v-form",{on:{submit:function(e){e.preventDefault()}},model:{value:e.setPassword.valid,callback:function(t){e.$set(e.setPassword,"valid",t)},expression:"setPassword.valid"}},[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{rules:e.addUser.rules,label:"Password",type:"password",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSetPassword(t)}},model:{value:e.setPassword.password,callback:function(t){e.$set(e.setPassword,"password",t)},expression:"setPassword.password"}})],1)],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(t){e.setPassword.form=!1}}},[e._v("Close")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.setPassword.valid,loading:e.loading},on:{click:e.doSetPassword}},[e._v("Set")])],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.deleteUser.form,callback:function(t){e.$set(e.deleteUser,"form",t)},expression:"deleteUser.form"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline error--text"},[e._v("Delete "+e._s(e.deleteUser.username))])]),i("v-card-text",[i("span",[e._v("Please make sure by retyping username")]),i("v-form",{on:{submit:function(e){e.preventDefault()}},model:{value:e.deleteUser.valid,callback:function(t){e.$set(e.deleteUser,"valid",t)},expression:"deleteUser.valid"}},[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{rules:e.deleteUser.rules,label:"Retype Username",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doDeleteUser(t)}},model:{value:e.deleteUser.typedUsername,callback:function(t){e.$set(e.deleteUser,"typedUsername",t)},expression:"deleteUser.typedUsername"}})],1)],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(t){e.deleteUser.form=!1}}},[e._v("Close")]),i("v-btn",{attrs:{color:"error",text:"",disabled:!e.deleteUser.valid,loading:e.loading},on:{click:e.doDeleteUser}},[e._v("Delete")])],1)],1)],1)],1)},r=[],o=(i("a630"),i("d81d"),i("d3b7"),i("3ca3"),i("ddb0"),i("90b9")),a={name:"user-management",props:["userData","toast"],data:function(){var e=this;return{suToken:"",loading:!1,userList:[],headers:[{text:"Username",align:"left",sortable:!0,value:"username"},{text:"Role Level",value:"role"},{text:"Action",value:"action"}],loginForm:!1,addUser:{form:!1,username:"",password:"",role:0,items:Array.from(Array(this.userData.role).keys()).map((function(e,t){return{text:"Level ".concat(t),value:t}})),rules:[function(e){return!!e||"Required"},function(e){return e&&e.length>4&&e.length<20||"Length is not valid"}],valid:!1},setPassword:{form:!1,valid:!1,username:"",password:""},deleteUser:{form:!1,valid:!1,username:"",typedUsername:"",rules:[function(t){return t&&t.toLowerCase()===e.deleteUser.username.toLowerCase()||"Username should be same to target user"}]},loginPassword:""}},methods:{leave:function(){this.$router.go(-1)},getSUToken:function(){var e=this;this.loading=!0,o["a"].fetchJSON(o["a"].apiFor("user","su"),"POST",{password:this.loginPassword}).then((function(t){if(e.loading=!1,!t.success)return e.toast("Wrong Password","error"),void(e.loginPassword="");e.loginForm=!1,e.suToken=t.token,o["a"].saveSUToken(t.token),e.loadUser()}))},loadUser:function(){var e=this;this.loading=!0,o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","list")).then((function(t){e.loading=!1,e.userList=t})).catch((function(t){e.toast(t,"error"),e.leave()}))},doAddUser:function(){var e=this;this.loading=!0,o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","add"),"POST",{username:this.addUser.username,password:this.addUser.password,role:this.addUser.role,token:this.suToken},!1).then((function(t){e.addUser.form=!1,e.addUser.username="",e.addUser.password="",e.loadUser()})).catch((function(t){e.toast(t,"error")})).finally((function(t){e.loading=!1}))},setPasswordForm:function(e){this.setPassword.username=e,this.setPassword.form=!0},doSetPassword:function(){var e=this;this.setPassword.valid&&(this.loading=!0,o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","change"),"POST",{username:this.setPassword.username,newPassword:this.setPassword.password,token:this.suToken},!1).then((function(t){e.toast("Why must you change the password?","success"),e.setPassword.form=!1})).catch((function(t){e.toast(t,"error")})).finally((function(t){e.loading=!1})))},deleteUserForm:function(e){this.deleteUser.username=e,this.deleteUser.form=!0},doDeleteUser:function(){var e=this;this.deleteUser.valid&&(this.loading=!0,o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","remove"),"POST",{username:this.deleteUser.username,token:this.suToken},!1).then((function(t){e.toast("Success!","success"),e.deleteUser.form=!1,e.loadUser()})).catch((function(t){e.toast(t,"error")})).finally((function(t){e.loading=!1})))},shiftRole:function(e,t){var i=this,n=e.role+t;this.loading=!0,o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","change-role"),"POST",{username:e.username,role:n,token:this.suToken},!1,!1).then((function(){e.role=n,i.loading=!1,i.toast("It feels good to change privileges, right?","success")})).catch((function(e){i.loading=!1,i.toast("There must be something wrong","error")}))}},mounted:function(){var e=o["a"].getSUToken();if(!this.userData.role)return this.toast("You are not supposed to do this.","warning"),this.leave();this.suToken=e,e?this.loadUser():this.loginForm=!0,this.$route.params.firstRun&&(this.addUser.form=!0)},watch:{"setPassword.form":function(){this.setPassword.password=""},"deleteUser.form":function(){this.deleteUser.password=""}}},s=a,l=i("2877"),c=i("6544"),u=i.n(c),h=i("8336"),d=i("b0af"),p=i("99d9"),f=i("a523"),m=(i("91f4"),i("80d2")),g=i("2b0e"),v=g["default"].extend({name:"v-data",inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})},sortBy:{type:[String,Array],default:()=>[]},sortDesc:{type:[Boolean,Array],default:()=>[]},customSort:{type:Function,default:m["C"]},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:()=>[]},groupDesc:{type:[Boolean,Array],default:()=>[]},customGroup:{type:Function,default:m["t"]},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:String,customFilter:{type:Function,default:m["B"]},serverItemsLength:{type:Number,default:-1}},data(){let e={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(m["E"])(this.sortBy),sortDesc:Object(m["E"])(this.sortDesc),groupBy:Object(m["E"])(this.groupBy),groupDesc:Object(m["E"])(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};return this.options&&(e=Object.assign(e,this.options)),{internalOptions:e}},computed:{itemsLength(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped(){return!!this.internalOptions.groupBy.length},pagination(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems(){let e=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(e=this.customFilter(e,this.search)),e},computedItems(){let e=this.filteredItems.slice();return!this.disableSort&&this.serverItemsLength<=0&&(e=this.sortItems(e)),!this.disablePagination&&this.serverItemsLength<=0&&(e=this.paginateItems(e)),e},groupedItems(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps(){const e={sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length};return e},computedOptions(){return{...this.options}}},watch:{computedOptions:{handler(e,t){Object(m["j"])(e,t)||this.updateOptions(e)},deep:!0,immediate:!0},internalOptions:{handler(e,t){Object(m["j"])(e,t)||this.$emit("update:options",e)},deep:!0,immediate:!0},page(e){this.updateOptions({page:e})},"internalOptions.page"(e){this.$emit("update:page",e)},itemsPerPage(e){this.updateOptions({itemsPerPage:e})},"internalOptions.itemsPerPage"(e){this.$emit("update:items-per-page",e)},sortBy(e){this.updateOptions({sortBy:Object(m["E"])(e)})},"internalOptions.sortBy"(e,t){!Object(m["j"])(e,t)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?e:e[0])},sortDesc(e){this.updateOptions({sortDesc:Object(m["E"])(e)})},"internalOptions.sortDesc"(e,t){!Object(m["j"])(e,t)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?e:e[0])},groupBy(e){this.updateOptions({groupBy:Object(m["E"])(e)})},"internalOptions.groupBy"(e,t){!Object(m["j"])(e,t)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?e:e[0])},groupDesc(e){this.updateOptions({groupDesc:Object(m["E"])(e)})},"internalOptions.groupDesc"(e,t){!Object(m["j"])(e,t)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?e:e[0])},multiSort(e){this.updateOptions({multiSort:e})},"internalOptions.multiSort"(e){this.$emit("update:multi-sort",e)},mustSort(e){this.updateOptions({mustSort:e})},"internalOptions.mustSort"(e){this.$emit("update:must-sort",e)},pageCount:{handler(e){this.$emit("page-count",e)},immediate:!0},computedItems:{handler(e){this.$emit("current-items",e)},immediate:!0},pagination:{handler(e,t){Object(m["j"])(e,t)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle(e,t,i,n,r,o){let a=t.slice(),s=i.slice();const l=a.findIndex(t=>t===e);return l<0?(o||(a=[],s=[]),a.push(e),s.push(!1)):l>=0&&!s[l]?s[l]=!0:r?s[l]=!1:(a.splice(l,1),s.splice(l,1)),Object(m["j"])(a,t)&&Object(m["j"])(s,i)||(n=1),{by:a,desc:s,page:n}},group(e){const{by:t,desc:i,page:n}=this.toggle(e,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1);this.updateOptions({groupBy:t,groupDesc:i,page:n})},sort(e){if(Array.isArray(e))return this.sortArray(e);const{by:t,desc:i,page:n}=this.toggle(e,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort);this.updateOptions({sortBy:t,sortDesc:i,page:n})},sortArray(e){const t=e.map(e=>{const t=this.internalOptions.sortBy.findIndex(t=>t===e);return t>-1&&this.internalOptions.sortDesc[t]});this.updateOptions({sortBy:e,sortDesc:t})},updateOptions(e){this.internalOptions={...this.internalOptions,...e,page:this.serverItemsLength<0?Math.max(1,Math.min(e.page||this.internalOptions.page,this.pageCount)):e.page||this.internalOptions.page}},sortItems(e){let t=this.internalOptions.sortBy,i=this.internalOptions.sortDesc;return this.internalOptions.groupBy.length&&(t=[...this.internalOptions.groupBy,...t],i=[...this.internalOptions.groupDesc,...i]),this.customSort(e,t,i,this.locale)},groupItems(e){return this.customGroup(e,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems(e){return-1===this.serverItemsLength&&e.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,this.internalOptions.page-1)),e.slice(this.pageStart,this.pageStop)}},render(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}}),y=(i("495d"),i("b974")),b=i("9d26"),x=i("afdd"),w=g["default"].extend({name:"v-data-footer",props:{options:{type:Object,required:!0},pagination:{type:Object,required:!0},itemsPerPageOptions:{type:Array,default:()=>[5,10,15,-1]},prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},itemsPerPageAllText:{type:String,default:"$vuetify.dataFooter.itemsPerPageAll"},showFirstLastPage:Boolean,showCurrentPage:Boolean,disablePagination:Boolean,disableItemsPerPage:Boolean,pageText:{type:String,default:"$vuetify.dataFooter.pageText"}},computed:{disableNextPageIcon(){return this.options.itemsPerPage<=0||this.options.page*this.options.itemsPerPage>=this.pagination.itemsLength||this.pagination.pageStop<0},computedDataItemsPerPageOptions(){return this.itemsPerPageOptions.map(e=>"object"===typeof e?e:this.genDataItemsPerPageOption(e))}},methods:{updateOptions(e){this.$emit("update:options",Object.assign({},this.options,e))},onFirstPage(){this.updateOptions({page:1})},onPreviousPage(){this.updateOptions({page:this.options.page-1})},onNextPage(){this.updateOptions({page:this.options.page+1})},onLastPage(){this.updateOptions({page:this.pagination.pageCount})},onChangeItemsPerPage(e){this.updateOptions({itemsPerPage:e,page:1})},genDataItemsPerPageOption(e){return{text:-1===e?this.$vuetify.lang.t(this.itemsPerPageAllText):String(e),value:e}},genItemsPerPageSelect(){let e=this.options.itemsPerPage;const t=this.computedDataItemsPerPageOptions;return t.length<=1?null:(t.find(t=>t.value===e)||(e=t[0]),this.$createElement("div",{staticClass:"v-data-footer__select"},[this.$vuetify.lang.t(this.itemsPerPageText),this.$createElement(y["a"],{attrs:{"aria-label":this.itemsPerPageText},props:{disabled:this.disableItemsPerPage,items:t,value:e,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:this.onChangeItemsPerPage}})]))},genPaginationInfo(){let e=["–"];if(this.pagination.itemsLength&&this.pagination.itemsPerPage){const t=this.pagination.itemsLength,i=this.pagination.pageStart+1,n=t<this.pagination.pageStop||this.pagination.pageStop<0?t:this.pagination.pageStop;e=this.$scopedSlots["page-text"]?[this.$scopedSlots["page-text"]({pageStart:i,pageStop:n,itemsLength:t})]:[this.$vuetify.lang.t(this.pageText,i,n,t)]}return this.$createElement("div",{class:"v-data-footer__pagination"},e)},genIcon(e,t,i,n){return this.$createElement(x["a"],{props:{disabled:t||this.disablePagination,icon:!0,text:!0},on:{click:e},attrs:{"aria-label":i}},[this.$createElement(b["a"],n)])},genIcons(){const e=[],t=[];return e.push(this.genIcon(this.onPreviousPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.prevPage"),this.$vuetify.rtl?this.nextIcon:this.prevIcon)),t.push(this.genIcon(this.onNextPage,this.disableNextPageIcon,this.$vuetify.lang.t("$vuetify.dataFooter.nextPage"),this.$vuetify.rtl?this.prevIcon:this.nextIcon)),this.showFirstLastPage&&(e.unshift(this.genIcon(this.onFirstPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.firstPage"),this.$vuetify.rtl?this.lastIcon:this.firstIcon)),t.push(this.genIcon(this.onLastPage,this.options.page>=this.pagination.pageCount||-1===this.options.itemsPerPage,this.$vuetify.lang.t("$vuetify.dataFooter.lastPage"),this.$vuetify.rtl?this.firstIcon:this.lastIcon))),[this.$createElement("div",{staticClass:"v-data-footer__icons-before"},e),this.showCurrentPage&&this.$createElement("span",[this.options.page.toString()]),this.$createElement("div",{staticClass:"v-data-footer__icons-after"},t)]}},render(){return this.$createElement("div",{staticClass:"v-data-footer"},[this.genItemsPerPageSelect(),this.genPaginationInfo(),this.genIcons()])}}),k=i("7560"),C=i("d9bd"),S=k["a"].extend({name:"v-data-iterator",props:{...v.options.props,itemKey:{type:String,default:"id"},value:{type:Array,default:()=>[]},singleSelect:Boolean,expanded:{type:Array,default:()=>[]},mobileBreakpoint:{type:[Number,String],default:600},singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}},data:()=>({selection:{},expansion:{},internalCurrentItems:[]}),computed:{everyItem(){return!!this.selectableItems.length&&this.selectableItems.every(e=>this.isSelected(e))},someItems(){return this.selectableItems.some(e=>this.isSelected(e))},sanitizedFooterProps(){return Object(m["d"])(this.footerProps)},selectableItems(){return this.internalCurrentItems.filter(e=>this.isSelectable(e))},isMobile(){return 0!==this.$vuetify.breakpoint.width&&this.$vuetify.breakpoint.width<parseInt(this.mobileBreakpoint,10)}},watch:{value:{handler(e){this.selection=e.reduce((e,t)=>(e[Object(m["n"])(t,this.itemKey)]=t,e),{})},immediate:!0},selection(e,t){Object(m["j"])(Object.keys(e),Object.keys(t))||this.$emit("input",Object.values(e))},expanded:{handler(e){this.expansion=e.reduce((e,t)=>(e[Object(m["n"])(t,this.itemKey)]=!0,e),{})},immediate:!0},expansion(e,t){if(Object(m["j"])(e,t))return;const i=Object.keys(e).filter(t=>e[t]),n=i.length?this.items.filter(e=>i.includes(String(Object(m["n"])(e,this.itemKey)))):[];this.$emit("update:expanded",n)}},created(){const e=[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(C["a"])(e,t,this)});const t=["expand","content-class","content-props","content-tag"];t.forEach(e=>{this.$attrs.hasOwnProperty(e)&&Object(C["d"])(e)})},methods:{toggleSelectAll(e){const t=Object.assign({},this.selection);for(let i=0;i<this.selectableItems.length;i++){const n=this.selectableItems[i];if(!this.isSelectable(n))continue;const r=Object(m["n"])(n,this.itemKey);e?t[r]=n:delete t[r]}this.selection=t,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:e})},isSelectable(e){return!1!==Object(m["n"])(e,this.selectableKey)},isSelected(e){return!!this.selection[Object(m["n"])(e,this.itemKey)]||!1},select(e,t=!0,i=!0){if(!this.isSelectable(e))return;const n=this.singleSelect?{}:Object.assign({},this.selection),r=Object(m["n"])(e,this.itemKey);if(t?n[r]=e:delete n[r],this.singleSelect&&i){const e=Object.keys(this.selection),t=e.length&&Object(m["n"])(this.selection[e[0]],this.itemKey);t&&t!==r&&this.$emit("item-selected",{item:this.selection[t],value:!1})}this.selection=n,i&&this.$emit("item-selected",{item:e,value:t})},isExpanded(e){return this.expansion[Object(m["n"])(e,this.itemKey)]||!1},expand(e,t=!0){const i=this.singleExpand?{}:Object.assign({},this.expansion),n=Object(m["n"])(e,this.itemKey);t?i[n]=!0:delete i[n],this.expansion=i,this.$emit("item-expanded",{item:e,value:t})},createItemProps(e){return{item:e,select:t=>this.select(e,t),isSelected:this.isSelected(e),expand:t=>this.expand(e,t),isExpanded:this.isExpanded(e),isMobile:this.isMobile}},genEmptyWrapper(e){return this.$createElement("div",e)},genEmpty(e,t){if(0===e&&this.loading){const e=this.$slots["loading"]||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(e)}if(0===e){const e=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(e)}if(0===t){const e=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(e)}return null},genItems(e){const t=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return t?[t]:this.$scopedSlots.default?this.$scopedSlots.default({...e,isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,expand:this.expand}):this.$scopedSlots.item?e.items.map(e=>this.$scopedSlots.item(this.createItemProps(e))):[]},genFooter(e){if(this.hideDefaultFooter)return null;const t={props:{...this.sanitizedFooterProps,options:e.options,pagination:e.pagination},on:{"update:options":t=>e.updateOptions(t)}},i=Object(m["o"])("footer.",this.$scopedSlots);return this.$createElement(w,{scopedSlots:i,...t})},genDefaultScopedSlot(e){const t={...e,someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll};return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(m["q"])(this,"header",t,!0),this.genItems(e),this.genFooter(e),Object(m["q"])(this,"footer",t,!0)])}},render(){return this.$createElement(v,{props:this.$props,on:{"update:options":(e,t)=>!Object(m["j"])(e,t)&&this.$emit("update:options",e),"update:page":e=>this.$emit("update:page",e),"update:items-per-page":e=>this.$emit("update:items-per-page",e),"update:sort-by":e=>this.$emit("update:sort-by",e),"update:sort-desc":e=>this.$emit("update:sort-desc",e),"update:group-by":e=>this.$emit("update:group-by",e),"update:group-desc":e=>this.$emit("update:group-desc",e),pagination:(e,t)=>!Object(m["j"])(e,t)&&this.$emit("pagination",e),"current-items":e=>{this.internalCurrentItems=e,this.$emit("current-items",e)},"page-count":e=>this.$emit("page-count",e)},scopedSlots:{default:this.genDefaultScopedSlot}})}});i("f823");function T(e){if(e.model&&e.on&&e.on.input)if(Array.isArray(e.on.input)){const t=e.on.input.indexOf(e.model.callback);t>-1&&e.on.input.splice(t,1)}else delete e.on.input}function D(e,t){const i=[];for(const n in e)e.hasOwnProperty(n)&&i.push(t("template",{slot:n},e[n]));return i}var A=i("58df"),E=i("34ef"),I=i("9e88"),L=i("5607"),M=Object(A["a"])().extend({directives:{ripple:L["a"]},props:{headers:{type:Array,required:!0},options:{type:Object,default:()=>({page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1})},sortIcon:{type:String,default:"$sort"},everyItem:Boolean,someItems:Boolean,showGroupBy:Boolean,singleSelect:Boolean,disableSort:Boolean},methods:{genSelectAll(){const e={props:{value:this.everyItem,indeterminate:!this.everyItem&&this.someItems},on:{input:e=>this.$emit("toggle-select-all",e)}};return this.$scopedSlots["data-table-select"]?this.$scopedSlots["data-table-select"](e):this.$createElement(I["a"],{staticClass:"v-data-table__checkbox",...e})},genSortIcon(){return this.$createElement(b["a"],{staticClass:"v-data-table-header__icon",props:{size:18}},[this.sortIcon])}}}),O=Object(A["a"])(M).extend({name:"v-data-table-header-mobile",props:{sortByText:{type:String,default:"$vuetify.dataTable.sortBy"}},methods:{genSortChip(e){const t=[e.item.text],i=this.options.sortBy.findIndex(t=>t===e.item.value),n=i>=0,r=this.options.sortDesc[i];return t.push(this.$createElement("div",{staticClass:"v-chip__close",class:{sortable:!0,active:n,asc:n&&!r,desc:n&&r}},[this.genSortIcon()])),this.$createElement(E["a"],{staticClass:"sortable",nativeOn:{click:t=>{t.stopPropagation(),this.$emit("sort",e.item.value)}}},t)},genSortSelect(e){return this.$createElement(y["a"],{props:{label:this.$vuetify.lang.t(this.sortByText),items:e,hideDetails:!0,multiple:this.options.multiSort,value:this.options.multiSort?this.options.sortBy:this.options.sortBy[0],menuProps:{closeOnContentClick:!0}},on:{change:e=>this.$emit("sort",e)},scopedSlots:{selection:e=>this.genSortChip(e)}})}},render(e){const t=[],i=this.headers.find(e=>"data-table-select"===e.value);i&&!this.singleSelect&&t.push(this.$createElement("div",{class:["v-data-table-header-mobile__select",...Object(m["E"])(i.class)],attrs:{width:i.width}},[this.genSelectAll()]));const n=this.headers.filter(e=>!1!==e.sortable&&"data-table-select"!==e.value);!this.disableSort&&n.length&&t.push(this.genSortSelect(n));const r=e("th",[e("div",{staticClass:"v-data-table-header-mobile__wrapper"},t)]),o=e("tr",[r]);return e("thead",{staticClass:"v-data-table-header v-data-table-header-mobile"},[o])}}),_=Object(A["a"])(M).extend({name:"v-data-table-header-desktop",methods:{genGroupByToggle(e){return this.$createElement("span",{on:{click:t=>{t.stopPropagation(),this.$emit("group",e.value)}}},["group"])},getAria(e,t){const i=e=>this.$vuetify.lang.t("$vuetify.dataTable.ariaLabel."+e);let n="none",r=[i("sortNone"),i("activateAscending")];return e?(t?(n="descending",r=[i("sortDescending"),i(this.options.mustSort?"activateAscending":"activateNone")]):(n="ascending",r=[i("sortAscending"),i("activateDescending")]),{ariaSort:n,ariaLabel:r.join(" ")}):{ariaSort:n,ariaLabel:r.join(" ")}},genHeader(e){const t={attrs:{role:"columnheader",scope:"col","aria-label":e.text||""},style:{width:Object(m["g"])(e.width),minWidth:Object(m["g"])(e.width)},class:["text-"+(e.align||"start"),...Object(m["E"])(e.class),e.divider&&"v-data-table__divider"],on:{}},i=[];if("data-table-select"===e.value&&!this.singleSelect)return this.$createElement("th",t,[this.genSelectAll()]);if(i.push(this.$scopedSlots[e.value]?this.$scopedSlots[e.value]({header:e}):this.$createElement("span",[e.text])),!this.disableSort&&(e.sortable||!e.hasOwnProperty("sortable"))){t.on["click"]=()=>this.$emit("sort",e.value);const n=this.options.sortBy.findIndex(t=>t===e.value),r=n>=0,o=this.options.sortDesc[n];t.class.push("sortable");const{ariaLabel:a,ariaSort:s}=this.getAria(r,o);t.attrs["aria-label"]+=`${e.text?": ":""}${a}`,t.attrs["aria-sort"]=s,r&&(t.class.push("active"),t.class.push(o?"desc":"asc")),"end"===e.align?i.unshift(this.genSortIcon()):i.push(this.genSortIcon()),this.options.multiSort&&r&&i.push(this.$createElement("span",{class:"v-data-table-header__sort-badge"},[String(n+1)]))}return this.showGroupBy&&i.push(this.genGroupByToggle(e)),this.$createElement("th",t,i)}},render(){return this.$createElement("thead",{staticClass:"v-data-table-header"},[this.$createElement("tr",this.headers.map(e=>this.genHeader(e)))])}}),P=g["default"].extend({name:"v-data-table-header",functional:!0,props:{mobile:Boolean},render(e,{props:t,data:i,slots:n}){T(i);const r=D(n(),e);return t.mobile?e(O,i,r):e(_,i,r)}}),$=i("37c6"),B=g["default"].extend({name:"row",functional:!0,props:{headers:Array,item:Object,rtl:Boolean},render(e,{props:t,slots:i,data:n}){const r=i(),o=t.headers.map(i=>{const o=[],a=Object(m["n"])(t.item,i.value),s=i.value,l=n.scopedSlots&&n.scopedSlots[s],c=r[s];l?o.push(l({item:t.item,header:i,value:a})):c?o.push(c):o.push(null==a?a:String(a));const u="text-"+(i.align||"start");return e("td",{class:{[u]:!0,"v-data-table__divider":i.divider}},o)});return e("tr",n,o)}}),F=g["default"].extend({name:"row-group",functional:!0,props:{value:{type:Boolean,default:!0},headerClass:{type:String,default:"v-row-group__header"},contentClass:String,summaryClass:{type:String,default:"v-row-group__summary"}},render(e,{slots:t,props:i}){const n=t(),r=[];return n["column.header"]?r.push(e("tr",{staticClass:i.headerClass},n["column.header"])):n["row.header"]&&r.push(...n["row.header"]),n["row.content"]&&i.value&&r.push(...n["row.content"]),n["column.summary"]?r.push(e("tr",{staticClass:i.summaryClass},n["column.summary"])):n["row.summary"]&&r.push(...n["row.summary"]),r}}),N=(i("8b37"),Object(A["a"])(k["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(m["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})),R=g["default"].extend({name:"row",functional:!0,props:{headers:Array,item:Object,rtl:Boolean},render(e,{props:t,slots:i,data:n}){const r=i(),o=t.headers.map(i=>{const o={"v-data-table__mobile-row":!0},a=[],s=Object(m["n"])(t.item,i.value),l=i.value,c=n.scopedSlots&&n.scopedSlots[l],u=r[l];c?a.push(c({item:t.item,header:i,value:s})):u?a.push(u):a.push(null==s?s:String(s));const h=[e("div",{staticClass:"v-data-table__mobile-row__cell"},a)];return"dataTableSelect"!==i.value&&h.unshift(e("div",{staticClass:"v-data-table__mobile-row__header"},[i.text])),e("td",{class:o},h)});return e("tr",{...n,staticClass:"v-data-table__mobile-table-row"},o)}});function j(e,t,i){return n=>{const r=Object(m["n"])(e,n.value);return n.filter?n.filter(r,t,e):i(r,t,e)}}function V(e,t,i,n,r){return t="string"===typeof t?t.trim():null,t&&n.length||i.length?e.filter(e=>!(!i.length||!i.every(j(e,t,m["k"])))||t&&n.some(j(e,t,r))):e}var H=S.extend({name:"v-data-table",directives:{ripple:L["a"]},props:{headers:{type:Array,default:()=>[]},showSelect:Boolean,showExpand:Boolean,showGroupBy:Boolean,height:[Number,String],hideDefaultHeader:Boolean,caption:String,dense:Boolean,headerProps:Object,calculateWidths:Boolean,fixedHeader:Boolean,headersLength:Number,expandIcon:{type:String,default:"$expand"},customFilter:{type:Function,default:m["k"]}},data(){return{internalGroupBy:[],openCache:{},widths:[]}},computed:{computedHeaders(){if(!this.headers)return[];const e=this.headers.filter(e=>void 0===e.value||!this.internalGroupBy.find(t=>t===e.value)),t={text:"",sortable:!1,width:"1px"};if(this.showSelect){const i=e.findIndex(e=>"data-table-select"===e.value);i<0?e.unshift({...t,value:"data-table-select"}):e.splice(i,1,{...t,...e[i]})}if(this.showExpand){const i=e.findIndex(e=>"data-table-expand"===e.value);i<0?e.unshift({...t,value:"data-table-expand"}):e.splice(i,1,{...t,...e[i]})}return e},colspanAttrs(){return this.isMobile?void 0:{colspan:this.headersLength||this.computedHeaders.length}},columnSorters(){return this.computedHeaders.reduce((e,t)=>(t.sort&&(e[t.value]=t.sort),e),{})},headersWithCustomFilters(){return this.headers.filter(e=>e.filter&&(!e.hasOwnProperty("filterable")||!0===e.filterable))},headersWithoutCustomFilters(){return this.headers.filter(e=>!e.filter&&(!e.hasOwnProperty("filterable")||!0===e.filterable))},sanitizedHeaderProps(){return Object(m["d"])(this.headerProps)},computedItemsPerPage(){const e=this.options&&this.options.itemsPerPage?this.options.itemsPerPage:this.itemsPerPage,t=this.sanitizedFooterProps.itemsPerPageOptions;if(t&&!t.find(t=>"number"===typeof t?t===e:t.value===e)){const e=t[0];return"object"===typeof e?e.value:e}return e}},created(){const e=[["sort-icon","header-props.sort-icon"],["hide-headers","hide-default-header"],["select-all","show-select"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(C["a"])(e,t,this)})},mounted(){this.calculateWidths&&(window.addEventListener("resize",this.calcWidths),this.calcWidths())},beforeDestroy(){this.calculateWidths&&window.removeEventListener("resize",this.calcWidths)},methods:{calcWidths(){this.widths=Array.from(this.$el.querySelectorAll("th")).map(e=>e.clientWidth)},customFilterWithColumns(e,t){return V(e,t,this.headersWithCustomFilters,this.headersWithoutCustomFilters,this.customFilter)},customSortWithHeaders(e,t,i,n){return this.customSort(e,t,i,n,this.columnSorters)},createItemProps(e){const t=S.options.methods.createItemProps.call(this,e);return Object.assign(t,{headers:this.computedHeaders})},genCaption(e){return this.caption?[this.$createElement("caption",[this.caption])]:Object(m["q"])(this,"caption",e,!0)},genColgroup(e){return this.$createElement("colgroup",this.computedHeaders.map(e=>this.$createElement("col",{class:{divider:e.divider}})))},genLoading(){const e=this.$slots["progress"]?this.$slots.progress:this.$createElement($["a"],{props:{color:!0===this.loading?"primary":this.loading,height:2,indeterminate:!0}}),t=this.$createElement("th",{staticClass:"column",attrs:this.colspanAttrs},[e]),i=this.$createElement("tr",{staticClass:"v-data-table__progress"},[t]);return this.$createElement("thead",[i])},genHeaders(e){const t={props:{...this.sanitizedHeaderProps,headers:this.computedHeaders,options:e.options,mobile:this.isMobile,showGroupBy:this.showGroupBy,someItems:this.someItems,everyItem:this.everyItem,singleSelect:this.singleSelect,disableSort:this.disableSort},on:{sort:e.sort,group:e.group,"toggle-select-all":this.toggleSelectAll}},i=[Object(m["q"])(this,"header",t)];if(!this.hideDefaultHeader){const e=Object(m["o"])("header.",this.$scopedSlots);i.push(this.$createElement(P,{...t,scopedSlots:e}))}return this.loading&&i.push(this.genLoading()),i},genEmptyWrapper(e){return this.$createElement("tr",{staticClass:"v-data-table__empty-wrapper"},[this.$createElement("td",{attrs:this.colspanAttrs},e)])},genItems(e,t){const i=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return i?[i]:t.groupedItems?this.genGroupedRows(t.groupedItems,t):this.genRows(e,t)},genGroupedRows(e,t){return e.map(e=>(this.openCache.hasOwnProperty(e.name)||this.$set(this.openCache,e.name,!0),this.$scopedSlots.group?this.$scopedSlots.group({group:e.name,options:t.options,items:e.items,headers:this.computedHeaders}):this.genDefaultGroupedRow(e.name,e.items,t)))},genDefaultGroupedRow(e,t,i){const n=!!this.openCache[e],r=[this.$createElement("template",{slot:"row.content"},this.genRows(t,i))],o=()=>this.$set(this.openCache,e,!this.openCache[e]),a=()=>i.updateOptions({groupBy:[],groupDesc:[]});if(this.$scopedSlots["group.header"])r.unshift(this.$createElement("template",{slot:"column.header"},[this.$scopedSlots["group.header"]({group:e,groupBy:i.options.groupBy,items:t,headers:this.computedHeaders,isOpen:n,toggle:o,remove:a})]));else{const t=this.$createElement(x["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:o}},[this.$createElement(b["a"],[n?"$minus":"$plus"])]),s=this.$createElement(x["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:a}},[this.$createElement(b["a"],["$close"])]),l=this.$createElement("td",{staticClass:"text-start",attrs:this.colspanAttrs},[t,`${i.options.groupBy[0]}: ${e}`,s]);r.unshift(this.$createElement("template",{slot:"column.header"},[l]))}return this.$scopedSlots["group.summary"]&&r.push(this.$createElement("template",{slot:"column.summary"},[this.$scopedSlots["group.summary"]({group:e,groupBy:i.options.groupBy,items:t,headers:this.computedHeaders,isOpen:n,toggle:o})])),this.$createElement(F,{key:e,props:{value:n}},r)},genRows(e,t){return this.$scopedSlots.item?this.genScopedRows(e,t):this.genDefaultRows(e,t)},genScopedRows(e,t){const i=[];for(let n=0;n<e.length;n++){const t=e[n];i.push(this.$scopedSlots.item({...this.createItemProps(t),index:n})),this.isExpanded(t)&&i.push(this.$scopedSlots["expanded-item"]({item:t,headers:this.computedHeaders}))}return i},genDefaultRows(e,t){return this.$scopedSlots["expanded-item"]?e.map(e=>this.genDefaultExpandedRow(e)):e.map(e=>this.genDefaultSimpleRow(e))},genDefaultExpandedRow(e){const t=this.isExpanded(e),i={"v-data-table__expanded v-data-table__expanded__row":t},n=this.genDefaultSimpleRow(e,i),r=this.$createElement("tr",{staticClass:"v-data-table__expanded v-data-table__expanded__content"},[this.$scopedSlots["expanded-item"]({item:e,headers:this.computedHeaders})]);return this.$createElement(F,{props:{value:t}},[this.$createElement("template",{slot:"row.header"},[n]),this.$createElement("template",{slot:"row.content"},[r])])},genDefaultSimpleRow(e,t={}){const i=Object(m["o"])("item.",this.$scopedSlots),n=this.createItemProps(e);if(this.showSelect){const t=i["data-table-select"];i["data-table-select"]=t?()=>t(n):()=>this.$createElement(I["a"],{staticClass:"v-data-table__checkbox",props:{value:n.isSelected,disabled:!this.isSelectable(e)},on:{input:e=>n.select(e)}})}if(this.showExpand){const e=i["data-table-expand"];i["data-table-expand"]=e?()=>e(n):()=>this.$createElement(b["a"],{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":n.isExpanded},on:{click:e=>{e.stopPropagation(),n.expand(!n.isExpanded)}}},[this.expandIcon])}return this.$createElement(this.isMobile?R:B,{key:Object(m["n"])(e,this.itemKey),class:{...t,"v-data-table__selected":n.isSelected},props:{headers:this.computedHeaders,item:e,rtl:this.$vuetify.rtl},scopedSlots:i,on:{click:()=>this.$emit("click:row",e,n)}})},genBody(e){const t={...e,expand:this.expand,headers:this.computedHeaders,isExpanded:this.isExpanded,isMobile:this.isMobile,isSelected:this.isSelected,select:this.select};return this.$scopedSlots.body?this.$scopedSlots.body(t):this.$createElement("tbody",[Object(m["q"])(this,"body.prepend",t,!0),this.genItems(e.items,e),Object(m["q"])(this,"body.append",t,!0)])},genFooters(e){const t={props:{options:e.options,pagination:e.pagination,itemsPerPageText:"$vuetify.dataTable.itemsPerPageText",...this.sanitizedFooterProps},on:{"update:options":t=>e.updateOptions(t)},widths:this.widths,headers:this.computedHeaders},i=[Object(m["q"])(this,"footer",t,!0)];return this.hideDefaultFooter||i.push(this.$createElement(w,{...t,scopedSlots:Object(m["o"])("footer.",this.$scopedSlots)})),i},genDefaultScopedSlot(e){const t={height:this.height,fixedHeader:this.fixedHeader,dense:this.dense};return this.$createElement(N,{props:t},[this.proxySlot("top",Object(m["q"])(this,"top",e,!0)),this.genCaption(e),this.genColgroup(e),this.genHeaders(e),this.genBody(e),this.proxySlot("bottom",this.genFooters(e))])},proxySlot(e,t){return this.$createElement("template",{slot:e},t)}},render(){return this.$createElement(v,{props:{...this.$props,customFilter:this.customFilterWithColumns,customSort:this.customSortWithHeaders,itemsPerPage:this.computedItemsPerPage},on:{"update:options":(e,t)=>{this.internalGroupBy=e.groupBy||[],!Object(m["j"])(e,t)&&this.$emit("update:options",e)},"update:page":e=>this.$emit("update:page",e),"update:items-per-page":e=>this.$emit("update:items-per-page",e),"update:sort-by":e=>this.$emit("update:sort-by",e),"update:sort-desc":e=>this.$emit("update:sort-desc",e),"update:group-by":e=>this.$emit("update:group-by",e),"update:group-desc":e=>this.$emit("update:group-desc",e),pagination:(e,t)=>!Object(m["j"])(e,t)&&this.$emit("pagination",e),"current-items":e=>{this.internalCurrentItems=e,this.$emit("current-items",e)},"page-count":e=>this.$emit("page-count",e)},scopedSlots:{default:this.genDefaultScopedSlot}})}}),U=i("169a"),z=i("0e8f"),W=i("4bd4"),q=i("132d"),Y=i("a722"),G=i("8e36"),K=i("2fa4"),J=i("8654"),X=Object(l["a"])(s,n,r,!1,null,"1b4fcb0e",null);t["default"]=X.exports;u()(X,{VBtn:h["a"],VCard:d["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VContainer:f["a"],VDataTable:H,VDialog:U["a"],VFlex:z["a"],VForm:W["a"],VIcon:q["a"],VLayout:Y["a"],VProgressLinear:G["a"],VSelect:y["a"],VSpacer:K["a"],VTextField:J["a"]})},b2e5:function(e,t,i){
/*!
 * vue-qrcode v1.0.2
 * https://fengyuanchen.github.io/vue-qrcode
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-01-18T06:04:33.222Z
 */
(function(t,i){e.exports=i()})(0,(function(){"use strict";function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}var i=t((function(t,i){(function(e){t.exports=e()})((function(){return function(){function t(i,n,r){function o(s,l){if(!n[s]){if(!i[s]){var c="function"==typeof e&&e;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};i[s][0].call(h.exports,(function(e){var t=i[s][1][e];return o(t||e)}),h,h.exports,t,i,n,r)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}return t}()({1:[function(e,t,i){t.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},{}],2:[function(e,t,i){var n=e("./utils").getSymbolSize;i.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,i=n(e),r=145===i?26:2*Math.ceil((i-13)/(2*t-2)),o=[i-7],a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()},i.getPositions=function(e){for(var t=[],n=i.getRowColCoords(e),r=n.length,o=0;o<r;o++)for(var a=0;a<r;a++)0===o&&0===a||0===o&&a===r-1||o===r-1&&0===a||t.push([n[o],n[a]]);return t}},{"./utils":21}],3:[function(e,t,i){var n=e("./mode"),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var i=45*r.indexOf(this.data[t]);i+=r.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},t.exports=o},{"./mode":14}],4:[function(e,t,i){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1===(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=n},{}],5:[function(e,t,i){var n=e("../utils/buffer");function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=n.alloc(e*e),this.reservedBit=n.alloc(e*e)}r.prototype.set=function(e,t,i,n){var r=e*this.size+t;this.data[r]=i,n&&(this.reservedBit[r]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=r},{"../utils/buffer":28}],6:[function(e,t,i){var n=e("../utils/buffer"),r=e("./mode");function o(e){this.mode=r.BYTE,this.data=n.from(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,i=this.data.length;t<i;t++)e.put(this.data[t],8)},t.exports=o},{"../utils/buffer":28,"./mode":14}],7:[function(e,t,i){var n=e("./error-correction-level"),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];i.getBlocksCount=function(e,t){switch(t){case n.L:return r[4*(e-1)+0];case n.M:return r[4*(e-1)+1];case n.Q:return r[4*(e-1)+2];case n.H:return r[4*(e-1)+3];default:return}},i.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}}},{"./error-correction-level":8}],8:[function(e,t,i){function n(e){if("string"!==typeof e)throw new Error("Param is not a string");var t=e.toLowerCase();switch(t){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+e)}}i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2},i.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},i.from=function(e,t){if(i.isValid(e))return e;try{return n(e)}catch(r){return t}}},{}],9:[function(e,t,i){var n=e("./utils").getSymbolSize,r=7;i.getPositions=function(e){var t=n(e);return[[0,0],[t-r,0],[0,t-r]]}},{"./utils":21}],10:[function(e,t,i){var n=e("./utils"),r=1335,o=21522,a=n.getBCHDigit(r);i.getEncodedBits=function(e,t){var i=e.bit<<3|t,s=i<<10;while(n.getBCHDigit(s)-a>=0)s^=r<<n.getBCHDigit(s)-a;return(i<<10|s)^o}},{"./utils":21}],11:[function(e,t,i){var n=e("../utils/buffer"),r=n.alloc(512),o=n.alloc(256);(function(){for(var e=1,t=0;t<255;t++)r[t]=e,o[e]=t,e<<=1,256&e&&(e^=285);for(t=255;t<512;t++)r[t]=r[t-255]})(),i.log=function(e){if(e<1)throw new Error("log("+e+")");return o[e]},i.exp=function(e){return r[e]},i.mul=function(e,t){return 0===e||0===t?0:r[o[e]+o[t]]}},{"../utils/buffer":28}],12:[function(e,t,i){var n=e("./mode"),r=e("./utils");function o(e){this.mode=n.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var i=r.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else{if(!(i>=57408&&i<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");i-=49472}i=192*(i>>>8&255)+(255&i),e.put(i,13)}},t.exports=o},{"./mode":14,"./utils":21}],13:[function(e,t,i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n={N1:3,N2:3,N3:40,N4:10};function r(e,t,n){switch(e){case i.Patterns.PATTERN000:return(t+n)%2===0;case i.Patterns.PATTERN001:return t%2===0;case i.Patterns.PATTERN010:return n%3===0;case i.Patterns.PATTERN011:return(t+n)%3===0;case i.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2===0;case i.Patterns.PATTERN101:return t*n%2+t*n%3===0;case i.Patterns.PATTERN110:return(t*n%2+t*n%3)%2===0;case i.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}i.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){for(var t=e.size,i=0,r=0,o=0,a=null,s=null,l=0;l<t;l++){r=o=0,a=s=null;for(var c=0;c<t;c++){var u=e.get(l,c);u===a?r++:(r>=5&&(i+=n.N1+(r-5)),a=u,r=1),u=e.get(c,l),u===s?o++:(o>=5&&(i+=n.N1+(o-5)),s=u,o=1)}r>=5&&(i+=n.N1+(r-5)),o>=5&&(i+=n.N1+(o-5))}return i},i.getPenaltyN2=function(e){for(var t=e.size,i=0,r=0;r<t-1;r++)for(var o=0;o<t-1;o++){var a=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==a&&0!==a||i++}return i*n.N2},i.getPenaltyN3=function(e){for(var t=e.size,i=0,r=0,o=0,a=0;a<t;a++){r=o=0;for(var s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(1488===r||93===r)&&i++,o=o<<1&2047|e.get(s,a),s>=10&&(1488===o||93===o)&&i++}return i*n.N3},i.getPenaltyN4=function(e){for(var t=0,i=e.data.length,r=0;r<i;r++)t+=e.data[r];var o=Math.abs(Math.ceil(100*t/i/5)-10);return o*n.N4},i.applyMask=function(e,t){for(var i=t.size,n=0;n<i;n++)for(var o=0;o<i;o++)t.isReserved(o,n)||t.xor(o,n,r(e,o,n))},i.getBestMask=function(e,t){for(var n=Object.keys(i.Patterns).length,r=0,o=1/0,a=0;a<n;a++){t(a),i.applyMask(a,e);var s=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(a,e),s<o&&(o=s,r=a)}return r}},{}],14:[function(e,t,i){var n=e("./version-check"),r=e("./regex");function o(e){if("string"!==typeof e)throw new Error("Param is not a string");var t=e.toLowerCase();switch(t){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+e)}}i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},i.getBestModeForData=function(e){return r.testNumeric(e)?i.NUMERIC:r.testAlphanumeric(e)?i.ALPHANUMERIC:r.testKanji(e)?i.KANJI:i.BYTE},i.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},i.isValid=function(e){return e&&e.bit&&e.ccBits},i.from=function(e,t){if(i.isValid(e))return e;try{return o(e)}catch(n){return t}}},{"./regex":19,"./version-check":22}],15:[function(e,t,i){var n=e("./mode");function r(e){this.mode=n.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){var t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);var r=this.data.length-t;r>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,3*r+1))},t.exports=r},{"./mode":14}],16:[function(e,t,i){var n=e("../utils/buffer"),r=e("./galois-field");i.mul=function(e,t){for(var i=n.alloc(e.length+t.length-1),o=0;o<e.length;o++)for(var a=0;a<t.length;a++)i[o+a]^=r.mul(e[o],t[a]);return i},i.mod=function(e,t){var i=n.from(e);while(i.length-t.length>=0){for(var o=i[0],a=0;a<t.length;a++)i[a]^=r.mul(t[a],o);var s=0;while(s<i.length&&0===i[s])s++;i=i.slice(s)}return i},i.generateECPolynomial=function(e){for(var t=n.from([1]),o=0;o<e;o++)t=i.mul(t,[1,r.exp(o)]);return t}},{"../utils/buffer":28,"./galois-field":11}],17:[function(e,t,i){var n=e("../utils/buffer"),r=e("./utils"),o=e("./error-correction-level"),a=e("./bit-buffer"),s=e("./bit-matrix"),l=e("./alignment-pattern"),c=e("./finder-pattern"),u=e("./mask-pattern"),h=e("./error-correction-code"),d=e("./reed-solomon-encoder"),p=e("./version"),f=e("./format-info"),m=e("./mode"),g=e("./segments"),v=e("isarray");function y(e,t){for(var i=e.size,n=c.getPositions(t),r=0;r<n.length;r++)for(var o=n[r][0],a=n[r][1],s=-1;s<=7;s++)if(!(o+s<=-1||i<=o+s))for(var l=-1;l<=7;l++)a+l<=-1||i<=a+l||(s>=0&&s<=6&&(0===l||6===l)||l>=0&&l<=6&&(0===s||6===s)||s>=2&&s<=4&&l>=2&&l<=4?e.set(o+s,a+l,!0,!0):e.set(o+s,a+l,!1,!0))}function b(e){for(var t=e.size,i=8;i<t-8;i++){var n=i%2===0;e.set(i,6,n,!0),e.set(6,i,n,!0)}}function x(e,t){for(var i=l.getPositions(t),n=0;n<i.length;n++)for(var r=i[n][0],o=i[n][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(r+a,o+s,!0,!0):e.set(r+a,o+s,!1,!0)}function w(e,t){for(var i,n,r,o=e.size,a=p.getEncodedBits(t),s=0;s<18;s++)i=Math.floor(s/3),n=s%3+o-8-3,r=1===(a>>s&1),e.set(i,n,r,!0),e.set(n,i,r,!0)}function k(e,t,i){var n,r,o=e.size,a=f.getEncodedBits(t,i);for(n=0;n<15;n++)r=1===(a>>n&1),n<6?e.set(n,8,r,!0):n<8?e.set(n+1,8,r,!0):e.set(o-15+n,8,r,!0),n<8?e.set(8,o-n-1,r,!0):n<9?e.set(8,15-n-1+1,r,!0):e.set(8,15-n-1,r,!0);e.set(o-8,8,1,!0)}function C(e,t){for(var i=e.size,n=-1,r=i-1,o=7,a=0,s=i-1;s>0;s-=2){6===s&&s--;while(1){for(var l=0;l<2;l++)if(!e.isReserved(r,s-l)){var c=!1;a<t.length&&(c=1===(t[a]>>>o&1)),e.set(r,s-l,c),o--,-1===o&&(a++,o=7)}if(r+=n,r<0||i<=r){r-=n,n=-n;break}}}}function S(e,t,i){var n=new a;i.forEach((function(t){n.put(t.mode.bit,4),n.put(t.getLength(),m.getCharCountIndicator(t.mode,e)),t.write(n)}));var o=r.getSymbolTotalCodewords(e),s=h.getTotalCodewordsCount(e,t),l=8*(o-s);n.getLengthInBits()+4<=l&&n.put(0,4);while(n.getLengthInBits()%8!==0)n.putBit(0);for(var c=(l-n.getLengthInBits())/8,u=0;u<c;u++)n.put(u%2?17:236,8);return T(n,e,t)}function T(e,t,i){for(var o=r.getSymbolTotalCodewords(t),a=h.getTotalCodewordsCount(t,i),s=o-a,l=h.getBlocksCount(t,i),c=o%l,u=l-c,p=Math.floor(o/l),f=Math.floor(s/l),m=f+1,g=p-f,v=new d(g),y=0,b=new Array(l),x=new Array(l),w=0,k=n.from(e.buffer),C=0;C<l;C++){var S=C<u?f:m;b[C]=k.slice(y,y+S),x[C]=v.encode(b[C]),y+=S,w=Math.max(w,S)}var T,D,A=n.alloc(o),E=0;for(T=0;T<w;T++)for(D=0;D<l;D++)T<b[D].length&&(A[E++]=b[D][T]);for(T=0;T<g;T++)for(D=0;D<l;D++)A[E++]=x[D][T];return A}function D(e,t,i,n){var o;if(v(e))o=g.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");var a=t;if(!a){var l=g.rawSplit(e);a=p.getBestVersionForData(l,i)}o=g.fromString(e,a||40)}var c=p.getBestVersionForData(o,i);if(!c)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<c)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+c+".\n")}else t=c;var h=S(t,i,o),d=r.getSymbolSize(t),f=new s(d);return y(f,t),b(f),x(f,t),k(f,i,0),t>=7&&w(f,t),C(f,h),isNaN(n)&&(n=u.getBestMask(f,k.bind(null,f,i))),u.applyMask(n,f),k(f,i,n),{modules:f,version:t,errorCorrectionLevel:i,maskPattern:n,segments:o}}i.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");var i,n,a=o.M;return"undefined"!==typeof t&&(a=o.from(t.errorCorrectionLevel,o.M),i=p.from(t.version),n=u.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),D(e,i,a,n)}},{"../utils/buffer":28,"./alignment-pattern":2,"./bit-buffer":4,"./bit-matrix":5,"./error-correction-code":7,"./error-correction-level":8,"./finder-pattern":9,"./format-info":10,"./mask-pattern":13,"./mode":14,"./reed-solomon-encoder":18,"./segments":20,"./utils":21,"./version":23,isarray:33}],18:[function(e,t,i){var n=e("../utils/buffer"),r=e("./polynomial"),o=e("buffer").Buffer;function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=n.alloc(this.degree),i=o.concat([e,t],e.length+this.degree),a=r.mod(i,this.genPoly),s=this.degree-a.length;if(s>0){var l=n.alloc(this.degree);return a.copy(l,s),l}return a},t.exports=a},{"../utils/buffer":28,"./polynomial":16,buffer:30}],19:[function(e,t,i){var n="[0-9]+",r="[A-Z $%*+\\-./:]+",o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");var a="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+")(?:.|[\r\n]))+";i.KANJI=new RegExp(o,"g"),i.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),i.BYTE=new RegExp(a,"g"),i.NUMERIC=new RegExp(n,"g"),i.ALPHANUMERIC=new RegExp(r,"g");var s=new RegExp("^"+o+"$"),l=new RegExp("^"+n+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");i.testKanji=function(e){return s.test(e)},i.testNumeric=function(e){return l.test(e)},i.testAlphanumeric=function(e){return c.test(e)}},{}],20:[function(e,t,i){var n=e("./mode"),r=e("./numeric-data"),o=e("./alphanumeric-data"),a=e("./byte-data"),s=e("./kanji-data"),l=e("./regex"),c=e("./utils"),u=e("dijkstrajs");function h(e){return unescape(encodeURIComponent(e)).length}function d(e,t,i){var n,r=[];while(null!==(n=e.exec(i)))r.push({data:n[0],index:n.index,mode:t,length:n[0].length});return r}function p(e){var t,i,r=d(l.NUMERIC,n.NUMERIC,e),o=d(l.ALPHANUMERIC,n.ALPHANUMERIC,e);c.isKanjiModeEnabled()?(t=d(l.BYTE,n.BYTE,e),i=d(l.KANJI,n.KANJI,e)):(t=d(l.BYTE_KANJI,n.BYTE,e),i=[]);var a=r.concat(o,t,i);return a.sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function f(e,t){switch(t){case n.NUMERIC:return r.getBitsLength(e);case n.ALPHANUMERIC:return o.getBitsLength(e);case n.KANJI:return s.getBitsLength(e);case n.BYTE:return a.getBitsLength(e)}}function m(e){return e.reduce((function(e,t){var i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}function g(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];switch(r.mode){case n.NUMERIC:t.push([r,{data:r.data,mode:n.ALPHANUMERIC,length:r.length},{data:r.data,mode:n.BYTE,length:r.length}]);break;case n.ALPHANUMERIC:t.push([r,{data:r.data,mode:n.BYTE,length:r.length}]);break;case n.KANJI:t.push([r,{data:r.data,mode:n.BYTE,length:h(r.data)}]);break;case n.BYTE:t.push([{data:r.data,mode:n.BYTE,length:h(r.data)}])}}return t}function v(e,t){for(var i={},r={start:{}},o=["start"],a=0;a<e.length;a++){for(var s=e[a],l=[],c=0;c<s.length;c++){var u=s[c],h=""+a+c;l.push(h),i[h]={node:u,lastCount:0},r[h]={};for(var d=0;d<o.length;d++){var p=o[d];i[p]&&i[p].node.mode===u.mode?(r[p][h]=f(i[p].lastCount+u.length,u.mode)-f(i[p].lastCount,u.mode),i[p].lastCount+=u.length):(i[p]&&(i[p].lastCount=u.length),r[p][h]=f(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,t))}}o=l}for(d=0;d<o.length;d++)r[o[d]]["end"]=0;return{map:r,table:i}}function y(e,t){var i,l=n.getBestModeForData(e);if(i=n.from(t,l),i!==n.BYTE&&i.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+n.toString(i)+".\n Suggested mode is: "+n.toString(l));switch(i!==n.KANJI||c.isKanjiModeEnabled()||(i=n.BYTE),i){case n.NUMERIC:return new r(e);case n.ALPHANUMERIC:return new o(e);case n.KANJI:return new s(e);case n.BYTE:return new a(e)}}i.fromArray=function(e){return e.reduce((function(e,t){return"string"===typeof t?e.push(y(t,null)):t.data&&e.push(y(t.data,t.mode)),e}),[])},i.fromString=function(e,t){for(var n=p(e,c.isKanjiModeEnabled()),r=g(n),o=v(r,t),a=u.find_path(o.map,"start","end"),s=[],l=1;l<a.length-1;l++)s.push(o.table[a[l]].node);return i.fromArray(m(s))},i.rawSplit=function(e){return i.fromArray(p(e,c.isKanjiModeEnabled()))}},{"./alphanumeric-data":3,"./byte-data":6,"./kanji-data":12,"./mode":14,"./numeric-data":15,"./regex":19,"./utils":21,dijkstrajs:31}],21:[function(e,t,i){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];i.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},i.getSymbolTotalCodewords=function(e){return r[e]},i.getBCHDigit=function(e){var t=0;while(0!==e)t++,e>>>=1;return t},i.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},i.isKanjiModeEnabled=function(){return"undefined"!==typeof n},i.toSJIS=function(e){return n(e)}},{}],22:[function(e,t,i){i.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},{}],23:[function(e,t,i){var n=e("./utils"),r=e("./error-correction-code"),o=e("./error-correction-level"),a=e("./mode"),s=e("./version-check"),l=e("isarray"),c=7973,u=n.getBCHDigit(c);function h(e,t,n){for(var r=1;r<=40;r++)if(t<=i.getCapacity(r,n,e))return r}function d(e,t){return a.getCharCountIndicator(e,t)+4}function p(e,t){var i=0;return e.forEach((function(e){var n=d(e.mode,t);i+=n+e.getBitsLength()})),i}function f(e,t){for(var n=1;n<=40;n++){var r=p(e,n);if(r<=i.getCapacity(n,t,a.MIXED))return n}}i.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,i){if(!s.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof i&&(i=a.BYTE);var o=n.getSymbolTotalCodewords(e),l=r.getTotalCodewordsCount(e,t),c=8*(o-l);if(i===a.MIXED)return c;var u=c-d(i,e);switch(i){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},i.getBestVersionForData=function(e,t){var i,n=o.from(t,o.M);if(l(e)){if(e.length>1)return f(e,n);if(0===e.length)return 1;i=e[0]}else i=e;return h(i.mode,i.getLength(),n)},i.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");var t=e<<12;while(n.getBCHDigit(t)-u>=0)t^=c<<n.getBCHDigit(t)-u;return e<<12|t}},{"./error-correction-code":7,"./error-correction-level":8,"./mode":14,"./utils":21,"./version-check":22,isarray:33}],24:[function(e,t,i){var n=e("./can-promise"),r=e("./core/qrcode"),o=e("./renderer/canvas"),a=e("./renderer/svg-tag.js");function s(e,t,i,o,a){var s=[].slice.call(arguments,1),l=s.length,c="function"===typeof s[l-1];if(!c&&!n())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=t,t=o=void 0):2!==l||t.getContext||(o=i,i=t,t=void 0),new Promise((function(n,a){try{var s=r.create(i,o);n(e(s,t,o))}catch(l){a(l)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(a=i,i=t,t=o=void 0):3===l&&(t.getContext&&"undefined"===typeof a?(a=o,o=void 0):(a=o,o=i,i=t,t=void 0));try{var u=r.create(i,o);a(null,e(u,t,o))}catch(h){a(h)}}i.create=r.create,i.toCanvas=s.bind(null,o.render),i.toDataURL=s.bind(null,o.renderToDataURL),i.toString=s.bind(null,(function(e,t,i){return a.render(e,i)}))},{"./can-promise":1,"./core/qrcode":17,"./renderer/canvas":25,"./renderer/svg-tag.js":26}],25:[function(e,t,i){var n=e("./utils");function r(e,t,i){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=i,t.width=i,t.style.height=i+"px",t.style.width=i+"px"}function o(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}i.render=function(e,t,i){var a=i,s=t;"undefined"!==typeof a||t&&t.getContext||(a=t,t=void 0),t||(s=o()),a=n.getOptions(a);var l=n.getImageWidth(e.modules.size,a),c=s.getContext("2d"),u=c.createImageData(l,l);return n.qrToImageData(u.data,e,a),r(c,s,l),c.putImageData(u,0,0),s},i.renderToDataURL=function(e,t,n){var r=n;"undefined"!==typeof r||t&&t.getContext||(r=t,t=void 0),r||(r={});var o=i.render(e,t,r),a=r.type||"image/png",s=r.rendererOpts||{};return o.toDataURL(a,s.quality)}},{"./utils":27}],26:[function(e,t,i){var n=e("./utils");function r(e,t){var i=e.a/255,n=t+'="'+e.hex+'"';return i<1?n+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function o(e,t,i){var n=e+t;return"undefined"!==typeof i&&(n+=" "+i),n}function a(e,t,i){for(var n="",r=0,a=!1,s=0,l=0;l<e.length;l++){var c=Math.floor(l%t),u=Math.floor(l/t);c||a||(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(n+=a?o("M",c+i,.5+u+i):o("m",r,0),r=0,a=!1),c+1<t&&e[l+1]||(n+=o("h",s),s=0)):r++}return n}i.render=function(e,t,i){var o=n.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*o.margin,u=o.color.light.a?"<path "+r(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",h="<path "+r(o.color.dark,"stroke")+' d="'+a(l,s,o.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',p=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",f='<svg xmlns="http://www.w3.org/2000/svg" '+p+d+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"===typeof i&&i(null,f),f}},{"./utils":27}],27:[function(e,t,i){function n(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var i=parseInt(t.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+t.slice(0,6).join("")}}i.getOptions=function(e){e||(e={}),e.color||(e.color={});var t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},i.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},i.getImageWidth=function(e,t){var n=i.getScale(e,t);return Math.floor((e+2*t.margin)*n)},i.qrToImageData=function(e,t,n){for(var r=t.modules.size,o=t.modules.data,a=i.getScale(r,n),s=Math.floor((r+2*n.margin)*a),l=n.margin*a,c=[n.color.light,n.color.dark],u=0;u<s;u++)for(var h=0;h<s;h++){var d=4*(u*s+h),p=n.color.light;if(u>=l&&h>=l&&u<s-l&&h<s-l){var f=Math.floor((u-l)/a),m=Math.floor((h-l)/a);p=c[o[f*r+m]?1:0]}e[d++]=p.r,e[d++]=p.g,e[d++]=p.b,e[d]=p.a}}},{}],28:[function(e,t,i){var n=e("isarray");function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}a.TYPED_ARRAY_SUPPORT=r();var o=a.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function a(e,t,i){return a.TYPED_ARRAY_SUPPORT||this instanceof a?"number"===typeof e?u(this,e):b(this,e,t,i):new a(e,t,i)}function s(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function l(e){return e!==e}function c(e,t){var i;return a.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(t),i.__proto__=a.prototype):(i=e,null===i&&(i=new a(t)),i.length=t),i}function u(e,t){var i=c(e,t<0?0:0|s(t));if(!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)i[n]=0;return i}function h(e,t){var i=0|g(t),n=c(e,i),r=n.write(t);return r!==i&&(n=n.slice(0,r)),n}function d(e,t){for(var i=t.length<0?0:0|s(t.length),n=c(e,i),r=0;r<i;r+=1)n[r]=255&t[r];return n}function p(e,t,i,n){if(i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),a.TYPED_ARRAY_SUPPORT?r.__proto__=a.prototype:r=d(e,r),r}function f(e,t){if(a.isBuffer(t)){var i=0|s(t.length),n=c(e,i);return 0===n.length||t.copy(n,0,0,i),n}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||l(t.length)?c(e,0):d(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if(i=e.charCodeAt(a),i>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function g(e){if(a.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var t=e.length;return 0===t?0:m(e).length}function v(e,t,i,n){for(var r=0;r<n;++r){if(r+i>=t.length||r>=e.length)break;t[r+i]=e[r]}return r}function y(e,t,i,n){return v(m(t,e.length-i),e,i,n)}function b(e,t,i,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,i,n):"string"===typeof t?h(e,t):f(e,t)}a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),a.prototype.write=function(e,t,i){void 0===t||void 0===i&&"string"===typeof t?(i=this.length,t=0):isFinite(t)&&(t|=0,isFinite(i)?i|=0:i=void 0);var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return y(this,e,t,i)},a.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=a.prototype;else{var r=t-e;i=new a(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+e]}return i},a.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;r>=0;--r)e[r+t]=this[r+i];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},a.prototype.fill=function(e,t,i){if("string"===typeof e){if("string"===typeof t?(t=0,i=this.length):"string"===typeof i&&(i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var r;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(r=t;r<i;++r)this[r]=e;else{var o=a.isBuffer(e)?e:new a(e),s=o.length;for(r=0;r<i-t;++r)this[r+t]=o[r%s]}return this},a.concat=function(e,t){if(!n(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c(null,0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=u(null,t),o=0;for(i=0;i<e.length;++i){var s=e[i];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},a.byteLength=g,a.prototype._isBuffer=!0,a.isBuffer=function(e){return!(null==e||!e._isBuffer)},t.exports.alloc=function(e){var t=new a(e);return t.fill(0),t},t.exports.from=function(e){return new a(e)}},{isarray:33}],29:[function(e,t,i){i.byteLength=u,i.toByteArray=d,i.fromByteArray=m;for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var n=i===t?0:4-i%4;return[i,n]}function u(e){var t=c(e),i=t[0],n=t[1];return 3*(i+n)/4-n}function h(e,t,i){return 3*(t+i)/4-i}function d(e){var t,i,n=c(e),a=n[0],s=n[1],l=new o(h(e,a,s)),u=0,d=s>0?a-4:a;for(i=0;i<d;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,l[u++]=255&t),1===s&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function p(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,i){for(var n,r=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(p(n));return r.join("")}function m(e){for(var t,i=e.length,r=i%3,o=[],a=16383,s=0,l=i-r;s<l;s+=a)o.push(f(e,s,s+a>l?l:s+a));return 1===r?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],30:[function(e,t,i){var n=e("base64-js"),r=e("ieee754"),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=c,i.SlowBuffer=b,i.INSPECT_MAX_BYTES=50;var a=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(i){return!1}}function l(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,i){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return u(e,t,i)}function u(e,t,i){if("string"===typeof e)return f(e,t);if(ArrayBuffer.isView(e))return m(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return g(e,t,i);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,i);var r=v(e);if(r)return r;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e,t,i){return h(e),e<=0?l(e):void 0!==t?"string"===typeof i?l(e).fill(t,i):l(e).fill(t):l(e)}function p(e){return h(e),l(e<0?0:0|y(e))}function f(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|x(e,t),n=l(i),r=n.write(e,t);return r!==i&&(n=n.slice(0,r)),n}function m(e){for(var t=e.length<0?0:0|y(e.length),i=l(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function g(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,c.prototype),n}function v(e){if(c.isBuffer(e)){var t=0|y(e.length),i=l(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!==typeof e.length||Z(e.length)?l(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}function y(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),c.alloc(+e)}function x(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return K(e).length;default:if(r)return n?-1:q(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,i);case"utf8":case"utf-8":return O(this,t,i);case"ascii":return $(this,t,i);case"latin1":case"binary":return B(this,t,i);case"base64":return M(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function k(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function C(e,t,i,n,r){if(0===e.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,Z(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:S(e,t,i,n,r);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):S(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function S(e,t,i,n,r){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=i;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(i+l>s&&(i=s-l),o=i;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function T(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(Z(s))return a;e[i+a]=s}return a}function D(e,t,i,n){return J(q(t,e.length-i),e,i,n)}function A(e,t,i,n){return J(Y(t),e,i,n)}function E(e,t,i,n){return A(e,t,i,n)}function I(e,t,i,n){return J(K(t),e,i,n)}function L(e,t,i,n){return J(G(t,e.length-i),e,i,n)}function M(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function O(e,t,i){i=Math.min(e.length,i);var n=[],r=t;while(r<i){var o,a,s,l,c=e[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=i)switch(h){case 1:c<128&&(u=c);break;case 2:o=e[r+1],128===(192&o)&&(l=(31&c)<<6|63&o,l>127&&(u=l));break;case 3:o=e[r+1],a=e[r+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=h}return P(n)}i.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=s(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),"undefined"!==typeof Symbol&&null!=Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(e,t,i){return u(e,t,i)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,i){return d(e,t,i)},c.allocUnsafe=function(e){return p(e)},c.allocUnsafeSlow=function(e){return p(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=c.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(X(o,Uint8Array)&&(o=c.from(o)),!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},c.byteLength=x,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)k(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):w.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,i,n,r){if(X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,a=i-t,s=Math.min(o,a),l=this.slice(n,r),u=e.slice(t,i),h=0;h<s;++h)if(l[h]!==u[h]){o=l[h],a=u[h];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return C(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return C(this,e,t,i,!1)},c.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return T(this,e,t,i);case"utf8":case"utf-8":return D(this,e,t,i);case"ascii":return A(this,e,t,i);case"latin1":case"binary":return E(this,e,t,i);case"base64":return I(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function P(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);var i="",n=0;while(n<t)i+=String.fromCharCode.apply(String,e.slice(n,n+=_));return i}function $(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function B(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function F(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=t;o<i;++o)r+=Q[e[o]];return r}function N(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function R(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,i,n,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function V(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function H(e,t,i,n,o){return t=+t,i>>>=0,o||V(e,t,i,4),r.write(e,t,i,n,23,4),i+4}function U(e,t,i,n,o){return t=+t,i>>>=0,o||V(e,t,i,8),r.write(e,t,i,n,52,8),i+8}c.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);var n=this[e],r=1,o=0;while(++o<t&&(r*=256))n+=this[e+o]*r;return n},c.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);var n=this[e+--t],r=1;while(t>0&&(r*=256))n+=this[e+--t]*r;return n},c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);var n=this[e],r=1,o=0;while(++o<t&&(r*=256))n+=this[e+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||R(e,t,this.length);var n=t,r=1,o=this[e+--n];while(n>0&&(r*=256))o+=this[e+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){var r=Math.pow(2,8*i)-1;j(this,e,t,i,r,0)}var o=1,a=0;this[t]=255&e;while(++a<i&&(o*=256))this[t+a]=e/o&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){var r=Math.pow(2,8*i)-1;j(this,e,t,i,r,0)}var o=i-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);j(this,e,t,i,r-1,-r)}var o=0,a=1,s=0;this[t]=255&e;while(++o<i&&(a*=256))e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},c.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);j(this,e,t,i,r-1,-r)}var o=i-1,a=1,s=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,i){return H(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return H(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return U(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return U(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r=n-i;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,n);else if(this===e&&i<t&&t<n)for(var o=r-1;o>=0;--o)e[o+t]=this[o+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),t);return r},c.prototype.fill=function(e,t,i,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var r=e.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(e=r)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(o=t;o<i;++o)this[o]=e;else{var a=c.isBuffer(e)?e:c.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%s]}return this};var z=/[^+/0-9A-Za-z-_]/g;function W(e){if(e=e.split("=")[0],e=e.trim().replace(z,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function q(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if(i=e.charCodeAt(a),i>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function Y(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function G(e,t){for(var i,n,r,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n)}return o}function K(e){return n.toByteArray(W(e))}function J(e,t,i,n){for(var r=0;r<n;++r){if(r+i>=t.length||r>=e.length)break;t[r+i]=e[r]}return r}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!==e}var Q=function(){for(var e="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var n=16*i,r=0;r<16;++r)t[n+r]=e[i]+e[r];return t}()},{"base64-js":29,ieee754:32}],31:[function(e,t,i){var n={single_source_shortest_paths:function(e,t,i){var r={},o={};o[t]=0;var a,s,l,c,u,h,d,p,f,m=n.PriorityQueue.make();m.push(t,0);while(!m.empty())for(l in a=m.pop(),s=a.value,c=a.cost,u=e[s]||{},u)u.hasOwnProperty(l)&&(h=u[l],d=c+h,p=o[l],f="undefined"===typeof o[l],(f||p>d)&&(o[l]=d,m.push(l,d),r[l]=s));if("undefined"!==typeof i&&"undefined"===typeof o[i]){var g=["Could not find a path from ",t," to ",i,"."].join("");throw new Error(g)}return r},extract_shortest_path_from_predecessor_list:function(e,t){var i=[],n=t;while(n)i.push(n),e[n],n=e[n];return i.reverse(),i},find_path:function(e,t,i){var r=n.single_source_shortest_paths(e,t,i);return n.extract_shortest_path_from_predecessor_list(r,i)},PriorityQueue:{make:function(e){var t,i=n.PriorityQueue,r={};for(t in e=e||{},i)i.hasOwnProperty(t)&&(r[t]=i[t]);return r.queue=[],r.sorter=e.sorter||i.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var i={value:e,cost:t};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};"undefined"!==typeof t&&(t.exports=n)},{}],32:[function(e,t,i){i.read=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=i?r-1:0,d=i?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},i.write=function(e,t,i,n,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[i+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[i+p]=255&a,p+=f,a/=256,c-=8);e[i+p-f]|=128*m}},{}],33:[function(e,t,i){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}]},{},[24])(24)}))})),n={name:"qrcode",props:{value:null,options:Object,tag:{type:String,default:"canvas"}},render:function(e){return e(this.tag,this.$slots.default)},watch:{$props:{deep:!0,immediate:!0,handler:function(){this.$el&&this.generate()}}},methods:{generate:function(){var e=this,t=this.options,n=this.tag,r=String(this.value);"canvas"===n?i.toCanvas(this.$el,r,t,(function(e){if(e)throw e})):"img"===n?i.toDataURL(r,t,(function(t,i){if(t)throw t;e.$el.src=i})):i.toString(r,t,(function(t,i){if(t)throw t;e.$el.innerHTML=i}))}},mounted:function(){this.generate()}};return n}))},b680:function(e,t,i){"use strict";var n=i("23e7"),r=i("a691"),o=i("408a"),a=i("1148"),s=i("d039"),l=1..toFixed,c=Math.floor,u=function(e,t,i){return 0===t?i:t%2===1?u(e,t-1,i*e):u(e*e,t/2,i)},h=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},d=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));n({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,i,n,s,l=o(this),d=r(e),p=[0,0,0,0,0,0],f="",m="0",g=function(e,t){var i=-1,n=t;while(++i<6)n+=e*p[i],p[i]=n%1e7,n=c(n/1e7)},v=function(e){var t=6,i=0;while(--t>=0)i+=p[t],p[t]=c(i/e),i=i%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var i=String(p[e]);t=""===t?i:t+a.call("0",7-i.length)+i}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(t=h(l*u(2,69,1))-69,i=t<0?l*u(2,-t,1):l/u(2,t,1),i*=4503599627370496,t=52-t,t>0){g(0,i),n=d;while(n>=7)g(1e7,0),n-=7;g(u(10,n,1),0),n=t-1;while(n>=23)v(1<<23),n-=23;v(1<<n),g(1,1),v(2),m=y()}else g(0,i),g(1<<-t,0),m=y()+a.call("0",d);return d>0?(s=m.length,m=f+(s<=d?"0."+a.call("0",d-s)+m:m.slice(0,s-d)+"."+m.slice(s-d))):m=f+m,m}})},b810:function(e,t,i){"use strict";var n=i("ce7e");t["a"]=n["a"]},b933:function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";var t,i,n=e.Pos;function r(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function o(e,t){for(var i=r(e),n=i,o=0;o<t.length;o++)-1==n.indexOf(t.charAt(o))&&(n+=t.charAt(o));return i==n?e:new RegExp(e.source,n)}function a(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function s(e,t,i){t=o(t,"g");for(var r=i.line,a=i.ch,s=e.lastLine();r<=s;r++,a=0){t.lastIndex=a;var l=e.getLine(r),c=t.exec(l);if(c)return{from:n(r,c.index),to:n(r,c.index+c[0].length),match:c}}}function l(e,t,i){if(!a(t))return s(e,t,i);t=o(t,"gm");for(var r,l=1,c=i.line,u=e.lastLine();c<=u;){for(var h=0;h<l;h++){if(c>u)break;var d=e.getLine(c++);r=null==r?d:r+"\n"+d}l*=2,t.lastIndex=i.ch;var p=t.exec(r);if(p){var f=r.slice(0,p.index).split("\n"),m=p[0].split("\n"),g=i.line+f.length-1,v=f[f.length-1].length;return{from:n(g,v),to:n(g+m.length-1,1==m.length?v+m[0].length:m[m.length-1].length),match:p}}}}function c(e,t,i){var n,r=0;while(r<=e.length){t.lastIndex=r;var o=t.exec(e);if(!o)break;var a=o.index+o[0].length;if(a>e.length-i)break;(!n||a>n.index+n[0].length)&&(n=o),r=o.index+1}return n}function u(e,t,i){t=o(t,"g");for(var r=i.line,a=i.ch,s=e.firstLine();r>=s;r--,a=-1){var l=e.getLine(r),u=c(l,t,a<0?0:l.length-a);if(u)return{from:n(r,u.index),to:n(r,u.index+u[0].length),match:u}}}function h(e,t,i){if(!a(t))return u(e,t,i);t=o(t,"gm");for(var r,s=1,l=e.getLine(i.line).length-i.ch,h=i.line,d=e.firstLine();h>=d;){for(var p=0;p<s&&h>=d;p++){var f=e.getLine(h--);r=null==r?f:f+"\n"+r}s*=2;var m=c(r,t,l);if(m){var g=r.slice(0,m.index).split("\n"),v=m[0].split("\n"),y=h+g.length,b=g[g.length-1].length;return{from:n(y,b),to:n(y+v.length-1,1==v.length?b+v[0].length:v[v.length-1].length),match:m}}}}function d(e,t,i,n){if(e.length==t.length)return i;for(var r=0,o=i+Math.max(0,e.length-t.length);;){if(r==o)return r;var a=r+o>>1,s=n(e.slice(0,a)).length;if(s==i)return a;s>i?o=a:r=a+1}}function p(e,r,o,a){if(!r.length)return null;var s=a?t:i,l=s(r).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,h=e.lastLine()+1-l.length;c<=h;c++,u=0){var p=e.getLine(c).slice(u),f=s(p);if(1==l.length){var m=f.indexOf(l[0]);if(-1==m)continue e;o=d(p,f,m,s)+u;return{from:n(c,d(p,f,m,s)+u),to:n(c,d(p,f,m+l[0].length,s)+u)}}var g=f.length-l[0].length;if(f.slice(g)==l[0]){for(var v=1;v<l.length-1;v++)if(s(e.getLine(c+v))!=l[v])continue e;var y=e.getLine(c+l.length-1),b=s(y),x=l[l.length-1];if(b.slice(0,x.length)==x)return{from:n(c,d(p,f,g,s)+u),to:n(c+l.length-1,d(y,b,x.length,s))}}}}function f(e,r,o,a){if(!r.length)return null;var s=a?t:i,l=s(r).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,h=e.firstLine()-1+l.length;c>=h;c--,u=-1){var p=e.getLine(c);u>-1&&(p=p.slice(0,u));var f=s(p);if(1==l.length){var m=f.lastIndexOf(l[0]);if(-1==m)continue e;return{from:n(c,d(p,f,m,s)),to:n(c,d(p,f,m+l[0].length,s))}}var g=l[l.length-1];if(f.slice(0,g.length)==g){var v=1;for(o=c-l.length+1;v<l.length-1;v++)if(s(e.getLine(o+v))!=l[v])continue e;var y=e.getLine(c+1-l.length),b=s(y);if(b.slice(b.length-l[0].length)==l[0])return{from:n(c+1-l.length,d(y,b,y.length-l[0].length,s)),to:n(c,d(p,f,g.length,s))}}}}function m(e,t,i,r){var a;this.atOccurrence=!1,this.doc=e,i=i?e.clipPos(i):n(0,0),this.pos={from:i,to:i},"object"==typeof r?a=r.caseFold:(a=r,r=null),"string"==typeof t?(null==a&&(a=!1),this.matches=function(i,n){return(i?f:p)(e,t,n,a)}):(t=o(t,"gm"),r&&!1===r.multiline?this.matches=function(i,n){return(i?u:s)(e,t,n)}:this.matches=function(i,n){return(i?h:l)(e,t,n)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},i=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},i=function(e){return e}),m.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){var i=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));while(i&&0==e.cmpPos(i.from,i.to))t?i.from.ch?i.from=n(i.from.line,i.from.ch-1):i=i.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(n(i.from.line-1))):i.to.ch<this.doc.getLine(i.to.line).length?i.to=n(i.to.line,i.to.ch+1):i=i.to.line==this.doc.lastLine()?null:this.matches(t,n(i.to.line+1,0));if(i)return this.pos=i,this.atOccurrence=!0,this.pos.match||!0;var r=n(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,i){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,i),this.pos.to=n(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,i){return new m(this.doc,e,t,i)})),e.defineDocExtension("getSearchCursor",(function(e,t,i){return new m(this,e,t,i)})),e.defineExtension("selectMatches",(function(t,i){var n=[],r=this.getSearchCursor(t,this.getCursor("from"),i);while(r.findNext()){if(e.cmpPos(r.to(),this.getCursor("to"))>0)break;n.push({anchor:r.from(),head:r.to()})}n.length&&this.setSelections(n,0)}))}))},b974:function(e,t,i){"use strict";i.d(t,"b",(function(){return D}));i("4ff9"),i("68dd");var n=i("34ef"),r=i("326d"),o=i("9e88"),a=i("b810"),s=i("24e2"),l=i("da13"),c=i("1800"),u=i("5d23"),h=i("8860"),d=i("5607"),p=i("a9ad"),f=i("7560"),m=i("80d2"),g=i("58df"),v=Object(g["a"])(p["a"],f["a"]).extend({name:"v-select-list",directives:{ripple:d["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map(e=>this.getValue(e))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const e={attrs:{role:void 0},on:{mousedown:e=>e.preventDefault()}};return this.$createElement(l["a"],e,[this.genTileContent(this.noDataText)])}},methods:{genAction(e,t){return this.$createElement(c["a"],[this.$createElement(o["a"],{props:{color:this.color,value:t},on:{input:()=>this.$emit("select",e)}})])},genDivider(e){return this.$createElement(a["a"],{props:e})},genFilteredText(e){if(e=e||"",!this.searchInput||this.noFilter)return Object(m["l"])(e);const{start:t,middle:i,end:n}=this.getMaskedCharacters(e);return`${Object(m["l"])(t)}${this.genHighlight(i)}${Object(m["l"])(n)}`},genHeader(e){return this.$createElement(s["a"],{props:e},e.header)},genHighlight(e){return`<span class="v-list-item__mask">${Object(m["l"])(e)}</span>`},getMaskedCharacters(e){const t=(this.searchInput||"").toString().toLocaleLowerCase(),i=e.toLocaleLowerCase().indexOf(t);if(i<0)return{start:"",middle:e,end:""};const n=e.slice(0,i),r=e.slice(i,i+t.length),o=e.slice(i+t.length);return{start:n,middle:r,end:o}},genTile({item:e,index:t,disabled:i=null,value:n=!1}){n||(n=this.hasItem(e)),e===Object(e)&&(i=null!==i?i:this.getDisabled(e));const r={attrs:{"aria-selected":String(n),id:`list-item-${this._uid}-${t}`,role:"option"},on:{mousedown:e=>{e.preventDefault()},click:()=>i||this.$emit("select",e)},props:{activeClass:this.tileActiveClass,disabled:i,ripple:!0,inputValue:n}};if(!this.$scopedSlots.item)return this.$createElement(l["a"],r,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(e,n):null,this.genTileContent(e,t)]);const o=this,a=this.$scopedSlots.item({parent:o,item:e,attrs:{...r.attrs,...r.props},on:r.on});return this.needsTile(a)?this.$createElement(l["a"],r,a):a},genTileContent(e,t=0){const i=this.genFilteredText(this.getText(e));return this.$createElement(u["a"],[this.$createElement(u["b"],{domProps:{innerHTML:i}})])},hasItem(e){return this.parsedItems.indexOf(this.getValue(e))>-1},needsTile(e){return 1!==e.length||null==e[0].componentOptions||"v-list-item"!==e[0].componentOptions.Ctor.options.name},getDisabled(e){return Boolean(Object(m["p"])(e,this.itemDisabled,!1))},getText(e){return String(Object(m["p"])(e,this.itemText,e))},getValue(e){return Object(m["p"])(e,this.itemValue,this.getText(e))}},render(){const e=[],t=this.items.length;for(let i=0;i<t;i++){const t=this.items[i];this.hideSelected&&this.hasItem(t)||(null==t?e.push(this.genTile({item:t,index:i})):t.header?e.push(this.genHeader(t)):t.divider?e.push(this.genDivider(t)):e.push(this.genTile({item:t,index:i})))}return e.length||e.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&e.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&e.push(this.$slots["append-item"]),this.$createElement(h["a"],{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},e)}}),y=i("c37a"),b=i("8654"),x=i("8547"),w=i("2b0e"),k=w["default"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}}),C=i("a293"),S=i("d9f7"),T=i("d9bd");const D={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},A=Object(g["a"])(b["a"],x["a"],k);t["a"]=A.extend().extend({name:"v-select",directives:{ClickOutside:C["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>D},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...b["a"].options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return"list-"+this._uid},computedCounterValue(){return this.multiple?this.selectedItems.length:(this.getText(this.selectedItems[0])||"").toString().length},directives(){return this.isFocused?[{name:"click-outside",value:this.blur,args:{closeConditional:this.closeConditional}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const e=this.$vnode&&this.$vnode.context.$options._scopeId,t=e?{[e]:!0}:{};return{attrs:{...t,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(T["b"])("assert: staticList should not be called if slots are used"),this.$createElement(v,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let e="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(e)&&(e=e.reduce((e,t)=>(e[t.trim()]=!0,e),{})),{...D,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:e.offsetY?1:0,...e}}},watch:{internalValue(e){this.initialValue=e,this.setSelectedItems()},menuIsBooted(){window.setTimeout(()=>{this.getContent()&&this.getContent().addEventListener&&this.getContent().addEventListener("scroll",this.onScroll,!1)})},isMenuActive(e){window.setTimeout(()=>this.onMenuActiveChange(e)),e&&(this.menuIsBooted=!0)},items:{immediate:!0,handler(e){this.cacheItems&&this.$nextTick(()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(e))}),this.setSelectedItems()}}},methods:{blur(e){b["a"].options.methods.blur.call(this,e),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1},activateMenu(){this.disabled||this.readonly||this.isMenuActive||(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:void 0),this.setMenuIndex(-1),this.$nextTick(()=>this.$refs.input&&this.$refs.input.focus()),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(e){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(e.target))&&this.$el&&!this.$el.contains(e.target)&&e.target!==this.$el},filterDuplicates(e){const t=new Map;for(let i=0;i<e.length;++i){const n=e[i],r=this.getValue(n);!t.has(r)&&t.set(r,n)}return Array.from(t.values())},findExistingIndex(e){const t=this.getValue(e);return(this.internalValue||[]).findIndex(e=>this.valueComparator(this.getValue(e),t))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(e,t){const i=this.disabled||this.readonly||this.getDisabled(e);return this.$createElement(n["a"],{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&!i,disabled:i,inputValue:t===this.selectedIndex,small:this.smallChips},on:{click:e=>{i||(e.stopPropagation(),this.selectedIndex=t)},"click:close":()=>this.onChipInput(e)},key:JSON.stringify(this.getValue(e))},this.getText(e))},genCommaSelection(e,t,i){const n=t===this.selectedIndex&&this.computedColor,r=this.disabled||this.getDisabled(e);return this.$createElement("div",this.setTextColor(n,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(e))}),`${this.getText(e)}${i?"":", "}`)},genDefaultSlot(){const e=this.genSelections(),t=this.genInput();return Array.isArray(e)?e.push(t):(e.children=e.children||[],e.children.push(t)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,e,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(e,t,i){const n=y["a"].options.methods.genIcon.call(this,e,t,i);return"append"===e&&(n.children[0].data=Object(S["a"])(n.children[0].data,{attrs:{tabindex:n.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),n},genInput(){const e=b["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data=Object(S["a"])(e.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.readonly),"aria-activedescendant":Object(m["n"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(m["n"])(e.data,"attrs.autocomplete","off")},on:{keypress:this.onKeyPress}}),e},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const e=b["a"].options.methods.genInputSlot.call(this);return e.data.attrs={...e.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},e},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const e=["prepend-item","no-data","append-item"].filter(e=>this.$slots[e]).map(e=>this.$createElement("template",{slot:e},this.$slots[e]));return this.$createElement(v,{...this.listData},e)},genMenu(){const e=this.$_menuProps;return e.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?e.attach=this.$el:e.attach=this.attach,this.$createElement(r["a"],{attrs:{role:void 0,offsetY:!0},props:e,on:{input:e=>{this.isMenuActive=e,this.isFocused=e}},ref:"menu"},[this.genList()])},genSelections(){let e=this.selectedItems.length;const t=new Array(e);let i;i=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(e--)t[e]=i(this.selectedItems[e],e,e===t.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},t)},genSlotSelection(e,t){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:e,index:t,select:e=>{e.stopPropagation(),this.selectedIndex=t},selected:t===this.selectedIndex,disabled:this.disabled||this.readonly})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(e){return Object(m["p"])(e,this.itemDisabled,!1)},getText(e){return Object(m["p"])(e,this.itemText,e)},getValue(e){return Object(m["p"])(e,this.itemValue,this.getText(e))},onBlur(e){e&&this.$emit("blur",e)},onChipInput(e){this.multiple?this.selectItem(e):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(e){this.isDisabled||(this.isAppendInner(e.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",e))},onEscDown(e){e.preventDefault(),this.isMenuActive&&(e.stopPropagation(),this.isMenuActive=!1)},onKeyPress(e){if(this.multiple||this.readonly||this.disableLookup)return;const t=1e3,i=performance.now();i-this.keyboardLookupLastTime>t&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=e.key.toLowerCase(),this.keyboardLookupLastTime=i;const n=this.allItems.findIndex(e=>{const t=(this.getText(e)||"").toString();return t.toLowerCase().startsWith(this.keyboardLookupPrefix)}),r=this.allItems[n];-1!==n&&(this.lastItem=Math.max(this.lastItem,n+5),this.setValue(this.returnObject?r:this.getValue(r)),this.$nextTick(()=>this.$refs.menu.getTiles()),setTimeout(()=>this.setMenuIndex(n)))},onKeyDown(e){if(this.readonly)return;const t=e.keyCode,i=this.$refs.menu;return[m["v"].enter,m["v"].space].includes(t)&&this.activateMenu(),this.$emit("keydown",e),i?(this.isMenuActive&&t!==m["v"].tab&&this.$nextTick(()=>{i.changeListIndex(e),this.$emit("update:list-index",i.listIndex)}),!this.isMenuActive&&[m["v"].up,m["v"].down].includes(t)?this.onUpDown(e):t===m["v"].esc?this.onEscDown(e):t===m["v"].tab?this.onTabDown(e):t===m["v"].space?this.onSpaceDown(e):void 0):void 0},onMenuActiveChange(e){if(this.multiple&&!e||this.getMenuIndex()>-1)return;const t=this.$refs.menu;if(t&&this.isDirty)for(let i=0;i<t.tiles.length;i++)if("true"===t.tiles[i].getAttribute("aria-selected")){this.setMenuIndex(i);break}},onMouseUp(e){this.hasMouseDown&&3!==e.which&&!this.isDisabled&&(this.isAppendInner(e.target)?this.$nextTick(()=>this.isMenuActive=!this.isMenuActive):this.isEnclosed&&(this.isMenuActive=!0)),b["a"].options.methods.onMouseUp.call(this,e)},onScroll(){if(this.isMenuActive){if(this.lastItem>=this.computedItems.length)return;const e=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;e&&(this.lastItem+=20)}else requestAnimationFrame(()=>this.getContent().scrollTop=0)},onSpaceDown(e){e.preventDefault()},onTabDown(e){const t=this.$refs.menu;if(!t)return;const i=t.activeTile;!this.multiple&&i&&this.isMenuActive?(e.preventDefault(),e.stopPropagation(),i.click()):this.blur(e)},onUpDown(e){const t=this.$refs.menu;if(!t)return;if(e.preventDefault(),this.multiple)return this.activateMenu();const i=e.keyCode;t.isBooted=!0,window.requestAnimationFrame(()=>{t.getTiles(),m["v"].up===i?t.prevTile():t.nextTile(),t.activeTile&&t.activeTile.click()})},selectItem(e){if(this.multiple){const t=(this.internalValue||[]).slice(),i=this.findExistingIndex(e);if(-1!==i?t.splice(i,1):t.push(e),this.setValue(t.map(e=>this.returnObject?e:this.getValue(e))),this.$nextTick(()=>{this.$refs.menu&&this.$refs.menu.updateDimensions()}),!this.multiple)return;const n=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick(()=>this.setMenuIndex(n))}else this.setValue(this.returnObject?e:this.getValue(e)),this.isMenuActive=!1},setMenuIndex(e){this.$refs.menu&&(this.$refs.menu.listIndex=e)},setSelectedItems(){const e=[],t=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const i of t){const t=this.allItems.findIndex(e=>this.valueComparator(this.getValue(e),this.getValue(i)));t>-1&&e.push(this.allItems[t])}this.selectedItems=e},setValue(e){const t=this.internalValue;this.internalValue=e,e!==t&&this.$emit("change",e)},isAppendInner(e){const t=this.$refs["append-inner"];return t&&(t===e||t.contains(e))}}})},b998:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:"","grid-list-md":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("h2",[e._v("OAuth Accounts")])]),i("v-card-actions",e._l(e.adapterList,(function(t){var n=t.adapter,r=t.isBound,o=t.bindUser;return i("v-flex",{key:n},[r?i("div",[e.$vuetify.icons.values.brand[n]?i("v-icon",[e._v(e._s(e.$vuetify.icons.values.brand[n]))]):i("span",[e._v(e._s(n))]),e._v(" : "),i("span",[e._v(e._s(o))]),i("v-btn",{attrs:{icon:"",small:"",text:"",color:"error"},on:{click:function(t){return e.removeAdapter(n)}}},[i("v-icon",[e._v("clear")])],1)],1):i("v-btn",{attrs:{rounded:"",color:"accent",dark:"",loading:e.loading},on:{click:function(t){return e.goToBind(n)}}},[e.$vuetify.icons.values.brand[n]?i("v-icon",[e._v(e._s(e.$vuetify.icons.values.brand[n]))]):i("span",[e._v(e._s(n))])],1)],1)})),1)],1)],1)},r=[],o=(i("4de4"),i("4160"),i("d81d"),i("07ac"),i("ac1f"),i("5319"),i("159b"),i("5530")),a=i("90b9"),s=i("f704"),l={props:["userData","toast"],data:function(){return{loading:!1,adapters:[],myAdapters:[]}},methods:{getAdapters:function(){var e=this;a["a"].fetchJSONWithSuccess(a["a"].apiFor("login","oauth","adapters")).then((function(t){e.adapters=t})).catch((function(t){e.toast(t,"error")}))},getMyAdapters:function(){var e=this;a["a"].fetchJSONWithSuccess(a["a"].apiFor("oauth","list-bind-adapters")).then((function(t){e.myAdapters=t})).catch((function(t){e.toast(t,"error")}))},mergeAvailableAdapters:function(){var e=Object(s["h"])(this.adapters.map((function(e){return[e,{adapter:e,isBound:!1,bindUser:null}]})));return this.myAdapters.forEach((function(t){var i=t.adapter,n=t.user;e[i]&&(e[i]=Object(o["a"])(Object(o["a"])({},e[i]),{},{isBound:!0,bindUser:n}))})),Object.values(e)},goToBind:function(e){var t=this;this.loading=!0,a["a"].fetchJSONWithSuccess(a["a"].apiFor("oauth","bind",e,"url")).then((function(i){t.toast("We are now going to ".concat(e,"..."),"info"),location.href=i})).catch((function(e){t.loading=!1,t.toast("Oops! Failed.","error")}))},removeAdapter:function(e){var t=this;a["a"].fetchJSONWithSuccess(a["a"].apiFor("oauth","remove-adapter",e),"POST").then((function(){t.myAdapters=t.myAdapters.filter((function(t){return t.adapter!==e})),t.toast("Account Removed","success")})).catch((function(e){t.toast("Something is strange","error")}))}},computed:{adapterList:function(){return this.mergeAvailableAdapters()}},mounted:function(){if(this.getAdapters(),this.getMyAdapters(),this.$route.query.succeed||this.$route.query.error){var e=this.$route.query,t=e.succeed,i=e.error;this.$router.replace(Object(o["a"])(Object(o["a"])({},this.$route),{},{query:Object(o["a"])(Object(o["a"])({},this.$route.query),{},{succeed:void 0,error:void 0}),params:Object(o["a"])(Object(o["a"])({},this.$route.params),{},{succeed:t,error:i})}))}if(this.$route.params.succeed||this.$route.params.error){var n=this.$route.params,r=n.succeed,a=n.error;r?this.toast("Bind succeed: "+r,"success"):this.toast("Bind error: "+a,"error")}}},c=l,u=i("2877"),h=i("6544"),d=i.n(h),p=i("8336"),f=i("99d9"),m=i("a523"),g=i("0e8f"),v=i("132d"),y=i("a722"),b=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=b.exports;d()(b,{VBtn:p["a"],VCardActions:f["a"],VContainer:m["a"],VFlex:g["a"],VIcon:v["a"],VLayout:y["a"]})},bff8:function(e,t,i){},c48e:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("99af");var n=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?"![".concat(i,"](").concat(t,")"):'<img src="'.concat(t,'" alt="').concat(i,'">')}},c982:function(e,t,i){},cf36:function(e,t,i){},d396:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card-action",[i("h2",{staticClass:"flex text--secondary"},[e._v("Remote Login")]),i("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{name:"loginCode",label:"Login Code",type:"number",autofocus:"",rules:e.rules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.scanCode(t)}},model:{value:e.loginCode,callback:function(t){e.loginCode=t},expression:"loginCode"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.valid},on:{click:e.scanCode}},[e._v("Login")])],1),i("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("Remote Login")]),i("v-card-text",[e._v("Will login at "+e._s(e.loginMeta.os)+" "+e._s(e.loginMeta.browser)+" device on "+e._s(e.loginMeta.ip))]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"error",text:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("Nope")]),i("v-btn",{attrs:{color:"info",text:""},on:{click:e.confirmCode}},[e._v("OK")])],1)],1)],1)],1)},r=[],o=(i("a623"),i("90b9")),a={name:"remote-login",props:["userData","toast"],data:function(){return{loginCode:"",valid:!1,loading:!1,rules:[function(e){return!!e||"Required"},function(e){return[].every.call(e,(function(e){return!isNaN(parseInt(e))}))||"Code should be digits"},function(e){return e&&6===e.length||"Length should be 6"}],dialog:!1,loginMeta:{os:"",browser:"",ip:""}}},methods:{scanCode:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,o["a"].fetchJSON(o["a"].apiFor("login","code","scan",this.loginCode),"POST").then((function(t){if(!t.success)return e.toast(t.msg,"error"),void(e.loading=!1);e.loginMeta=t.msg,e.dialog=!0,e.loading=!1})).catch((function(t){e.loading=!1,e.toast("Network error.","error")})))},confirmCode:function(){var e=this;this.loading=!0,o["a"].fetchJSON(o["a"].apiFor("login","code","confirm",this.loginCode),"POST").then((function(t){t.success||e.toast(t.msg,"error"),e.toast("I assume that you are teleported to another device","success"),e.dialog=!1,o["a"].redirectTo({name:"userspace"})})).catch((function(t){e.toast("Network error","error")}))}},watch:{dialog:function(e){e||(this.loading=!1)}}},s=a,l=i("2877"),c=i("6544"),u=i.n(c),h=i("8336"),d=i("b0af"),p=i("99d9"),f=i("169a"),m=i("4bd4"),g=i("2fa4"),v=i("8654"),y=Object(l["a"])(s,n,r,!1,null,"a8460596",null);t["default"]=y.exports;u()(y,{VBtn:h["a"],VCard:d["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VDialog:f["a"],VForm:m["a"],VSpacer:g["a"],VTextField:v["a"]})},d4fa:function(e,t,i){"use strict";var n=i("56b3");i("1ef7"),i("ed10"),i("6d78"),i("959b"),i("9eb9"),i("d7d5"),i("9948"),i("b933"),i("44a0"),i("d5e0");var r=i("ea65"),o=i("23b9"),a=/Mac/.test(navigator.platform),s=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),l={toggleBold:w,toggleItalic:k,drawLink:P,toggleHeadingSmaller:D,toggleHeadingBigger:A,drawImage:$,toggleBlockquote:T,toggleOrderedList:O,toggleUnorderedList:M,toggleCodeBlock:S,togglePreview:U,toggleStrikethrough:C,toggleHeading1:E,toggleHeading2:I,toggleHeading3:L,cleanBlock:_,drawTable:N,drawHorizontalRule:R,undo:j,redo:V,toggleSideBySide:H,toggleFullScreen:x},c={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},u=function(e){for(var t in l)if(l[t]===e)return t;return null},h=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};function d(e){var t;while(null!==(t=s.exec(e))){var i=t[0];if(-1===i.indexOf("target=")){var n=i.replace(/>$/,' target="_blank">');e=e.replace(i,n)}}return e}function p(e){return e=a?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl"),e}function f(e,t,i,n){var r=m(e,!1,t,i,"button",n);r.className+=" easymde-dropdown";var o=document.createElement("div");o.className="easymde-dropdown-content";for(var a=0;a<e.children.length;a++){var s,l=e.children[a];s=m("string"===typeof l&&l in Q?Q[l]:l,!0,t,i,"button",n),o.appendChild(s)}return r.appendChild(o),r}function m(e,t,i,n,r,o){e=e||{};var s=document.createElement(r);s.className=e.name,s.setAttribute("type",r),i=void 0==i||i,e.name&&e.name in n&&(l[e.name]=e.action),e.title&&i&&(s.title=v(e.title,e.action,n),a&&(s.title=s.title.replace("Ctrl","⌘"),s.title=s.title.replace("Alt","⌥"))),e.noDisable&&s.classList.add("no-disable"),e.noMobile&&s.classList.add("no-mobile");var c=[];"undefined"!==typeof e.className&&(c=e.className.split(" "));for(var u=[],h=0;h<c.length;h++){var d=c[h];d.match(/^fa([srlb]|(-[\w-]*)|$)/)?u.push(d):s.classList.add(d)}s.tabIndex=-1;for(var p=document.createElement("i"),f=0;f<u.length;f++){var m=u[f];p.classList.add(m)}return s.appendChild(p),"undefined"!==typeof e.icon&&(s.innerHTML=e.icon),e.action&&t&&("function"===typeof e.action?s.onclick=function(t){t.preventDefault(),e.action(o)}:"string"===typeof e.action&&(s.onclick=function(t){t.preventDefault(),window.open(e.action,"_blank")})),s}function g(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function v(e,t,i){var n,r=e;return t&&(n=u(t),i[n]&&(r+=" ("+p(i[n])+")")),r}function y(e,t){t=t||e.getCursor("start");var i=e.getTokenAt(t);if(!i.type)return{};for(var n,r,o=i.type.split(" "),a={},s=0;s<o.length;s++)n=o[s],"strong"===n?a.bold=!0:"variable-2"===n?(r=e.getLine(t.line),/^\s*\d+\.\s/.test(r)?a["ordered-list"]=!0:a["unordered-list"]=!0):"atom"===n?a.quote=!0:"em"===n?a.italic=!0:"quote"===n?a.quote=!0:"strikethrough"===n?a.strikethrough=!0:"comment"===n?a.code=!0:"link"===n?a.link=!0:"tag"===n?a.image=!0:n.match(/^header(-[1-6])?$/)&&(a[n.replace("header","heading")]=!0);return a}var b="";function x(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(b=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=b;var i=t.getWrapperElement();if(/fullscreen/.test(i.previousSibling.className)?i.previousSibling.className=i.previousSibling.className.replace(/\s*fullscreen\b/,""):i.previousSibling.className+=" fullscreen",e.toolbarElements&&e.toolbarElements.fullscreen){var n=e.toolbarElements.fullscreen;/active/.test(n.className)?n.className=n.className.replace(/\s*active\s*/g,""):n.className+=" active"}var r=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&H(e),e.options.onToggleFullScreen&&e.options.onToggleFullScreen(t.getOption("fullScreen")||!1)}function w(e){Y(e,"bold",e.options.blockStyles.bold)}function k(e){Y(e,"italic",e.options.blockStyles.italic)}function C(e){Y(e,"strikethrough","~~")}function S(e){var t=e.options.blockStyles.code;function i(e){if("object"!==typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function n(e){return e.state.base.base||e.state.base}function r(e,t,r,o,a){r=r||e.getLineHandle(t),o=o||e.getTokenAt({line:t,ch:1}),a=a||!!r.text&&e.getTokenAt({line:t,ch:r.text.length-1});var s=o.type?o.type.split(" "):[];return a&&n(a).indentedCode?"indented":-1!==s.indexOf("comment")&&(n(o).fencedChars||n(a).fencedChars||i(r)?"fenced":"single")}function o(e,t,i,n){var r=t.line+1,o=i.line+1,a=t.line!==i.line,s=n+"\n",l="\n"+n;a&&o++,a&&0===i.ch&&(l=n+"\n",o--),z(e,!1,[s,l]),e.setSelection({line:r,ch:0},{line:o,ch:0})}var a,s,l,c=e.codemirror,u=c.getCursor("start"),h=c.getCursor("end"),d=c.getTokenAt({line:u.line,ch:u.ch||1}),p=c.getLineHandle(u.line),f=r(c,u.line,p,d);if("single"===f){var m=p.text.slice(0,u.ch).replace("`",""),g=p.text.slice(u.ch).replace("`","");c.replaceRange(m+g,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==h&&h.ch--,c.setSelection(u,h),c.focus()}else if("fenced"===f)if(u.line!==h.line||u.ch!==h.ch){for(a=u.line;a>=0;a--)if(p=c.getLineHandle(a),i(p))break;var v,y,b,x,w=c.getTokenAt({line:a,ch:1}),k=n(w).fencedChars;i(c.getLineHandle(u.line))?(v="",y=u.line):i(c.getLineHandle(u.line-1))?(v="",y=u.line-1):(v=k+"\n",y=u.line),i(c.getLineHandle(h.line))?(b="",x=h.line,0===h.ch&&(x+=1)):0!==h.ch&&i(c.getLineHandle(h.line+1))?(b="",x=h.line+1):(b=k+"\n",x=h.line+1),0===h.ch&&(x-=1),c.operation((function(){c.replaceRange(b,{line:x,ch:0},{line:x+(b?0:1),ch:0}),c.replaceRange(v,{line:y,ch:0},{line:y+(v?0:1),ch:0})})),c.setSelection({line:y+(v?1:0),ch:0},{line:x+(v?1:-1),ch:0}),c.focus()}else{var C=u.line;if(i(c.getLineHandle(u.line))&&("fenced"===r(c,u.line+1)?(a=u.line,C=u.line+1):(s=u.line,C=u.line-1)),void 0===a)for(a=C;a>=0;a--)if(p=c.getLineHandle(a),i(p))break;if(void 0===s)for(l=c.lineCount(),s=C;s<l;s++)if(p=c.getLineHandle(s),i(p))break;c.operation((function(){c.replaceRange("",{line:a,ch:0},{line:a+1,ch:0}),c.replaceRange("",{line:s-1,ch:0},{line:s,ch:0})})),c.focus()}else if("indented"===f){if(u.line!==h.line||u.ch!==h.ch)a=u.line,s=h.line,0===h.ch&&s--;else{for(a=u.line;a>=0;a--)if(p=c.getLineHandle(a),!p.text.match(/^\s*$/)&&"indented"!==r(c,a,p)){a+=1;break}for(l=c.lineCount(),s=u.line;s<l;s++)if(p=c.getLineHandle(s),!p.text.match(/^\s*$/)&&"indented"!==r(c,s,p)){s-=1;break}}var S=c.getLineHandle(s+1),T=S&&c.getTokenAt({line:s+1,ch:S.text.length-1}),D=T&&n(T).indentedCode;D&&c.replaceRange("\n",{line:s+1,ch:0});for(var A=a;A<=s;A++)c.indentLine(A,"subtract");c.focus()}else{var E=u.line===h.line&&u.ch===h.ch&&0===u.ch,I=u.line!==h.line;E||I?o(c,u,h,t):z(c,!1,["`","`"])}}function T(e){var t=e.codemirror;q(t,"quote")}function D(e){var t=e.codemirror;W(t,"smaller")}function A(e){var t=e.codemirror;W(t,"bigger")}function E(e){var t=e.codemirror;W(t,void 0,1)}function I(e){var t=e.codemirror;W(t,void 0,2)}function L(e){var t=e.codemirror;W(t,void 0,3)}function M(e){var t=e.codemirror;q(t,"unordered-list")}function O(e){var t=e.codemirror;q(t,"ordered-list")}function _(e){var t=e.codemirror;G(t)}function P(e){var t=e.codemirror,i=y(t),n=e.options,r="https://";if(n.promptURLs&&(r=prompt(n.promptTexts.link,"https://"),!r))return!1;z(t,i.link,n.insertTexts.link,r)}function $(e){var t=e.codemirror,i=y(t),n=e.options,r="https://";if(n.promptURLs&&(r=prompt(n.promptTexts.image,"https://"),!r))return!1;z(t,i.image,n.insertTexts.image,r)}function B(e){e.openBrowseFileWindow()}function F(e,t){var i=e.codemirror,n=y(i),r=e.options,o=t.substr(t.lastIndexOf("/")+1);z(i,n.image,r.insertTexts.uploadedImage,t),e.updateStatusBar("upload-image",e.options.imageTexts.sbOnUploaded.replace("#image_name#",o)),setTimeout((function(){e.updateStatusBar("upload-image",e.options.imageTexts.sbInit)}),1e3)}function N(e){var t=e.codemirror,i=y(t),n=e.options;z(t,i.table,n.insertTexts.table)}function R(e){var t=e.codemirror,i=y(t),n=e.options;z(t,i.image,n.insertTexts.horizontalRule)}function j(e){var t=e.codemirror;t.undo(),t.focus()}function V(e){var t=e.codemirror;t.redo(),t.focus()}function H(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.nextSibling,r=e.toolbarElements&&e.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(n.className)?(n.className=n.className.replace(/\s*editor-preview-active-side\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,"")),i.className=i.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout((function(){t.getOption("fullScreen")||x(e),n.className+=" editor-preview-active-side"}),1),r&&(r.className+=" active"),i.className+=" CodeMirror-sided",o=!0);var a=i.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\s*editor-preview-active\s*/g,"");var s=e.toolbarElements.preview,l=i.previousSibling;s.className=s.className.replace(/\s*active\s*/g,""),l.className=l.className.replace(/\s*disabled-for-preview*/g,"")}var c=function(){var t=e.options.previewRender(e.value(),n);null!=t&&(n.innerHTML=t)};if(t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=c),o){var u=e.options.previewRender(e.value(),n);null!=u&&(n.innerHTML=u),t.on("update",t.sideBySideRenderingFunction)}else t.off("update",t.sideBySideRenderingFunction);t.refresh()}function U(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.previousSibling,r=!!e.options.toolbar&&e.toolbarElements.preview,o=i.lastChild;if(!o||!/editor-preview-full/.test(o.className)){if(o=document.createElement("div"),o.className="editor-preview-full",e.options.previewClass)if(Array.isArray(e.options.previewClass))for(var a=0;a<e.options.previewClass.length;a++)o.className+=" "+e.options.previewClass[a];else"string"===typeof e.options.previewClass&&(o.className+=" "+e.options.previewClass);i.appendChild(o)}/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout((function(){o.className+=" editor-preview-active"}),1),r&&(r.className+=" active",n.className+=" disabled-for-preview")),o.innerHTML=e.options.previewRender(e.value(),o);var s=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&H(e)}function z(e,t,i,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var r,o=i[0],a=i[1],s={},l={};Object.assign(s,e.getCursor("start")),Object.assign(l,e.getCursor("end")),n&&(o=o.replace("#url#",n),a=a.replace("#url#",n)),t?(r=e.getLine(s.line),o=r.slice(0,s.ch),a=r.slice(s.ch),e.replaceRange(o+a,{line:s.line,ch:0})):(r=e.getSelection(),e.replaceSelection(o+r+a),s.ch+=o.length,s!==l&&(l.ch+=o.length)),e.setSelection(s,l),e.focus()}}function W(e,t,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=e.getCursor("start"),r=e.getCursor("end"),o=n.line;o<=r.line;o++)(function(n){var r=e.getLine(n),o=r.search(/[^#]/);r=void 0!==t?o<=0?"bigger"==t?"###### "+r:"# "+r:6==o&&"smaller"==t?r.substr(7):1==o&&"bigger"==t?r.substr(2):"bigger"==t?r.substr(1):"#"+r:1==i?o<=0?"# "+r:o==i?r.substr(o+1):"# "+r.substr(o+1):2==i?o<=0?"## "+r:o==i?r.substr(o+1):"## "+r.substr(o+1):o<=0?"### "+r:o==i?r.substr(o+1):"### "+r.substr(o+1),e.replaceRange(r,{line:n,ch:0},{line:n,ch:99999999999999})})(o);e.focus()}}function q(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,n=/^\s*/,r=y(e),o=e.getCursor("start"),a=e.getCursor("end"),s={quote:/^(\s*)>\s+/,"unordered-list":i,"ordered-list":i},l=function(e,t){var i={quote:">","unordered-list":"*","ordered-list":"%%i."};return i[e].replace("%%i",t)},c=function(e,t){var i={quote:">","unordered-list":"*","ordered-list":"\\d+."},n=new RegExp(i[e]);return t&&n.test(t)},u=function(e,t,r){var o=i.exec(t),a=l(e,h);return null!==o?(c(e,o[2])&&(a=""),t=o[1]+a+o[3]+t.replace(n,"").replace(s[e],"$1")):0==r&&(t=a+" "+t),t},h=1,d=o.line;d<=a.line;d++)(function(i){var n=e.getLine(i);r[t]?n=n.replace(s[t],"$1"):("unordered-list"==t&&(n=u("ordered-list",n,!0)),n=u(t,n,!1),h+=1),e.replaceRange(n,{line:i,ch:0},{line:i,ch:99999999999999})})(d);e.focus()}}function Y(e,t,i,n){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){n="undefined"===typeof n?i:n;var r,o=e.codemirror,a=y(o),s=i,l=n,c=o.getCursor("start"),u=o.getCursor("end");a[t]?(r=o.getLine(c.line),s=r.slice(0,c.ch),l=r.slice(c.ch),"bold"==t?(s=s.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):"italic"==t?(s=s.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")):"strikethrough"==t&&(s=s.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),l=l.replace(/(\*\*|~~)/,"")),o.replaceRange(s+l,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(c.ch-=2,c!==u&&(u.ch-=2)):"italic"==t&&(c.ch-=1,c!==u&&(u.ch-=1))):(r=o.getSelection(),"bold"==t?(r=r.split("**").join(""),r=r.split("__").join("")):"italic"==t?(r=r.split("*").join(""),r=r.split("_").join("")):"strikethrough"==t&&(r=r.split("~~").join("")),o.replaceSelection(s+r+l),c.ch+=i.length,u.ch=c.ch+r.length),o.setSelection(c,u),o.focus()}}function G(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,i=e.getCursor("start"),n=e.getCursor("end"),r=i.line;r<=n.line;r++)t=e.getLine(r),t=t.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:r,ch:0},{line:r,ch:99999999999999})}function K(e,t){if(Math.abs(e)<1024)return""+e+t[0];var i=0;do{e/=1024,++i}while(Math.abs(e)>=1024&&i<t.length);return""+e.toFixed(1)+t[i]}function J(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]instanceof Array?e[i]=t[i].concat(e[i]instanceof Array?e[i]:[]):null!==t[i]&&"object"===typeof t[i]&&t[i].constructor===Object?e[i]=J(e[i]||{},t[i]):e[i]=t[i]);return e}function X(e){for(var t=1;t<arguments.length;t++)e=J(e,arguments[t]);return e}function Z(e){var t=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,i=e.match(t),n=0;if(null===i)return n;for(var r=0;r<i.length;r++)i[r].charCodeAt(0)>=19968?n+=i[r].length:n+=1;return n}var Q={bold:{name:"bold",action:w,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:k,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:C,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:D,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:D,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:A,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:E,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:I,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:L,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:S,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:T,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:M,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:O,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:_,className:"fa fa-eraser",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:P,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:$,className:"fa fa-image",title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:B,className:"fa fa-image",title:"Import an image"},table:{name:"table",action:N,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:R,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:U,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:H,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:x,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:j,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:V,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},ee={link:["[","](#url#)"],image:["![](","#url#)"],uploadedImage:["![](#url#)",""],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},te={link:"URL for the link:",image:"URL of the image:"},ie={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},ne={bold:"**",code:"```",italic:"*"},re={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:"b,Kb,Mb"},oe={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:"Image #image_name# is too big (#image_size#).\nMaximum file size is #image_max_size#.",importError:"Something went wrong when uploading the image #image_name#."};function ae(e){e=e||{},e.parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var i=document.styleSheets,n=0;n<i.length;n++)i[n].href&&i[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===e.toolbar)for(var o in e.toolbar=[],Q)Object.prototype.hasOwnProperty.call(Q,o)&&(-1!=o.indexOf("separator-")&&e.toolbar.push("|"),(!0===Q[o].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(o))&&e.toolbar.push(o));if(Object.prototype.hasOwnProperty.call(e,"previewClass")||(e.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(e,"status")||(e.status=["autosave","lines","words","cursor"],e.uploadImage&&e.status.unshift("upload-image")),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=X({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=X({},ee,e.insertTexts||{}),e.promptTexts=X({},te,e.promptTexts||{}),e.blockStyles=X({},ne,e.blockStyles||{}),void 0!=e.autosave&&(e.autosave.timeFormat=X({},ie,e.autosave.timeFormat||{})),e.shortcuts=X({},c,e.shortcuts||{}),e.minHeight=e.minHeight||"300px",e.errorCallback=e.errorCallback||function(e){alert(e)},e.uploadImage=e.uploadImage||!1,e.imageMaxSize=e.imageMaxSize||2097152,e.imageAccept=e.imageAccept||"image/png, image/jpeg",e.imageTexts=X({},re,e.imageTexts||{}),e.errorMessages=X({},oe,e.errorMessages||{}),void 0!=e.autosave&&void 0!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue),e.uploadImage){var a=this;this.codemirror.on("dragenter",(function(e,t){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),t.stopPropagation(),t.preventDefault()})),this.codemirror.on("dragend",(function(e,t){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),t.stopPropagation(),t.preventDefault()})),this.codemirror.on("dragleave",(function(e,t){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),t.stopPropagation(),t.preventDefault()})),this.codemirror.on("dragover",(function(e,t){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),t.stopPropagation(),t.preventDefault()})),this.codemirror.on("drop",(function(t,i){i.stopPropagation(),i.preventDefault(),e.imageUploadFunction?a.uploadImagesUsingCustomFunction(e.imageUploadFunction,i.dataTransfer.files):a.uploadImages(i.dataTransfer.files)})),this.codemirror.on("paste",(function(t,i){e.imageUploadFunction?a.uploadImagesUsingCustomFunction(e.imageUploadFunction,i.clipboardData.files):a.uploadImages(i.clipboardData.files)}))}}function se(){if("object"!==typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}ae.prototype.uploadImages=function(e,t,i){if(0!==e.length){for(var n=[],r=0;r<e.length;r++)n.push(e[r].name),this.uploadImage(e[r],t,i);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}},ae.prototype.uploadImagesUsingCustomFunction=function(e,t){if(0!==t.length){for(var i=[],n=0;n<t.length;n++)i.push(t[n].name),this.uploadImageUsingCustomFunction(e,t[n]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",i.join(", ")))}},ae.prototype.updateStatusBar=function(e,t){var i=this.gui.statusbar.getElementsByClassName(e);1===i.length?this.gui.statusbar.getElementsByClassName(e)[0].textContent=t:0===i.length?console.log("EasyMDE: status bar item "+e+" was not found."):console.log("EasyMDE: Several status bar items named "+e+" was found.")},ae.prototype.markdown=function(e){if(o){var t;if(t=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{},this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var i=this.options.renderingConfig.hljs||window.hljs;i&&(t.highlight=function(e){return i.highlightAuto(e).value})}o.setOptions(t);var n=o(e);return this.options.renderingConfig&&"function"===typeof this.options.renderingConfig.sanitizerFunction&&(n=this.options.renderingConfig.sanitizerFunction.call(this,n)),n=d(n),n}},ae.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,i,o=this.options,a=this,s={};for(var c in o.shortcuts)null!==o.shortcuts[c]&&null!==l[c]&&function(e){s[p(o.shortcuts[e])]=function(){var t=l[e];"function"===typeof t?t(a):"string"===typeof t&&window.open(t,"_blank")}}(c);if(s["Enter"]="newlineAndIndentContinueMarkdownList",s["Tab"]="tabAndIndentMarkdownList",s["Shift-Tab"]="shiftTabAndUnindentMarkdownList",s["Esc"]=function(e){e.getOption("fullScreen")&&x(a)},document.addEventListener("keydown",(function(e){e=e||window.event,27==e.keyCode&&a.codemirror.getOption("fullScreen")&&x(a)}),!1),!1!==o.spellChecker?(t="spell-checker",i=o.parsingConfig,i.name="gfm",i.gitHubSpice=!1,r({codeMirrorInstance:n})):(t=o.parsingConfig,t.name="gfm",t.gitHubSpice=!1),this.codemirror=n.fromTextArea(e,{mode:t,backdrop:i,theme:void 0!=o.theme?o.theme:"easymde",tabSize:void 0!=o.tabSize?o.tabSize:2,indentUnit:void 0!=o.tabSize?o.tabSize:2,indentWithTabs:!1!==o.indentWithTabs,lineNumbers:!1,autofocus:!0===o.autofocus,extraKeys:s,lineWrapping:!1!==o.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:o.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:void 0!=o.styleSelectedText?o.styleSelectedText:!h(),configureMouse:f,inputStyle:void 0!=o.inputStyle?o.inputStyle:h()?"contenteditable":"textarea",spellcheck:void 0==o.nativeSpellcheck||o.nativeSpellcheck}),this.codemirror.getScrollerElement().style.minHeight=o.minHeight,!0===o.forceSync){var u=this.codemirror;u.on("change",(function(){u.save()}))}this.gui={},!1!==o.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==o.status&&(this.gui.statusbar=this.createStatusbar()),void 0!=o.autosave&&!0===o.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var d=this.codemirror;setTimeout(function(){d.refresh()}.bind(d),0)}function f(e,t,i){return{addNew:!1}}},ae.prototype.autosave=function(){if(se()){var e=this;if(void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");!0!==this.options.autosave.binded&&(null!=e.element.form&&void 0!=e.element.form&&e.element.form.addEventListener("submit",(function(){clearTimeout(e.autosaveTimeoutId),e.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+e.options.autosave.uniqueId),setTimeout((function(){e.autosave()}),e.options.autosave.submit_delay||e.options.autosave.delay||1e4)})),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var t=e.value();""!==t?localStorage.setItem("smde_"+this.options.autosave.uniqueId,t):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var i=document.getElementById("autosaved");if(null!=i&&void 0!=i&&""!=i){var n=new Date,r=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(n),o=void 0==this.options.autosave.text?"Autosaved: ":this.options.autosave.text;i.innerHTML=o+r}this.autosaveTimeoutId=setTimeout((function(){e.autosave()}),this.options.autosave.delay||1e4)}else console.log("EasyMDE: localStorage not available, cannot autosave")},ae.prototype.clearAutosavedValue=function(){if(se()){if(void 0==this.options.autosave||void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},ae.prototype.openBrowseFileWindow=function(e,t){var i=this,n=this.gui.toolbar.getElementsByClassName("imageInput")[0];function r(o){i.options.imageUploadFunction?i.uploadImagesUsingCustomFunction(i.options.imageUploadFunction,o.target.files):i.uploadImages(o.target.files,e,t),n.removeEventListener("change",r)}n.click(),n.addEventListener("change",r)},ae.prototype.uploadImage=function(e,t,i){var n=this;function r(e){n.updateStatusBar("upload-image",e),setTimeout((function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)}),1e4),i&&"function"===typeof i&&i(e),n.options.errorCallback(e)}function o(t){var i=n.options.imageTexts.sizeUnits.split(",");return t.replace("#image_name#",e.name).replace("#image_size#",K(e.size,i)).replace("#image_max_size#",K(n.options.imageMaxSize,i))}if(t=t||function(e){F(n,e)},e.size>this.options.imageMaxSize)r(o(this.options.errorMessages.fileTooLarge));else{var a=new FormData;a.append("image",e),n.options.imageCSRFToken&&a.append("csrfmiddlewaretoken",n.options.imageCSRFToken);var s=new XMLHttpRequest;s.upload.onprogress=function(t){if(t.lengthComputable){var i=""+Math.round(100*t.loaded/t.total);n.updateStatusBar("upload-image",n.options.imageTexts.sbProgress.replace("#file_name#",e.name).replace("#progress#",i))}},s.open("POST",this.options.imageUploadEndpoint),s.onload=function(){try{var e=JSON.parse(this.responseText)}catch(i){return console.error("EasyMDE: The server did not return a valid json."),void r(o(n.options.errorMessages.importError))}200===this.status&&e&&!e.error&&e.data&&e.data.filePath?t(window.location.origin+"/"+e.data.filePath):e.error&&e.error in n.options.errorMessages?r(o(n.options.errorMessages[e.error])):e.error?r(o(e.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),r(o(n.options.errorMessages.importError)))},s.onerror=function(e){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+e.target.status+" ("+e.target.statusText+")"),r(n.options.errorMessages.importError)},s.send(a)}},ae.prototype.uploadImageUsingCustomFunction=function(e,t){var i=this;function n(e){F(i,e)}function r(e){var t=o(e);i.updateStatusBar("upload-image",t),setTimeout((function(){i.updateStatusBar("upload-image",i.options.imageTexts.sbInit)}),1e4),i.options.errorCallback(t)}function o(e){var n=i.options.imageTexts.sizeUnits.split(",");return e.replace("#image_name#",t.name).replace("#image_size#",K(t.size,n)).replace("#image_max_size#",K(i.options.imageMaxSize,n))}e(t,n,r)},ae.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),i=t.nextSibling;if(!i||!/editor-preview-side/.test(i.className)){if(i=document.createElement("div"),i.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var n=0;n<this.options.previewClass.length;n++)i.className+=" "+this.options.previewClass[n];else"string"===typeof this.options.previewClass&&(i.className+=" "+this.options.previewClass);t.parentNode.insertBefore(i,t.nextSibling)}if(!1===this.options.syncSideBySidePreviewScroll)return i;var r=!1,o=!1;return e.on("scroll",(function(e){if(r)r=!1;else{o=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,n=parseFloat(e.getScrollInfo().top)/t,a=(i.scrollHeight-i.clientHeight)*n;i.scrollTop=a}})),i.onscroll=function(){if(o)o=!1;else{r=!0;var t=i.scrollHeight-i.clientHeight,n=parseFloat(i.scrollTop)/t,a=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*n;e.scrollTo(0,a)}},i},ae.prototype.createToolbar=function(e){if(e=e||this.options.toolbar,e&&0!==e.length){var t;for(t=0;t<e.length;t++)void 0!=Q[e[t]]&&(e[t]=Q[e[t]]);var i=document.createElement("div");i.className="editor-toolbar";var n=this,r={};for(n.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==n.options.toolbarGuideIcon)&&(!n.options.hideIcons||-1==n.options.hideIcons.indexOf(e[t].name))&&("fullscreen"!=e[t].name&&"side-by-side"!=e[t].name||!h())){if("|"===e[t]){for(var o=!1,a=t+1;a<e.length;a++)"|"===e[a]||n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(e[a].name)||(o=!0);if(!o)continue}(function(e){var t;if(t="|"===e?g():e.children?f(e,n.options.toolbarTips,n.options.shortcuts,n):m(e,!0,n.options.toolbarTips,n.options.shortcuts,"button",n),r[e.name||e]=t,i.appendChild(t),"upload-image"===e.name){var o=document.createElement("input");o.className="imageInput",o.type="file",o.multiple=!0,o.name="image",o.accept=n.options.imageAccept,o.style.display="none",o.style.opacity=0,i.appendChild(o)}})(e[t])}n.toolbarElements=r;var s=this.codemirror;s.on("cursorActivity",(function(){var e=y(s);for(var t in r)(function(t){var i=r[t];e[t]?i.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(i.className=i.className.replace(/\s*active\s*/g,""))})(t)}));var l=s.getWrapperElement();return l.parentNode.insertBefore(i,l),i}},ae.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,i=this.codemirror;if(e&&0!==e.length){var n,r,o,a=[];for(n=0;n<e.length;n++)if(r=void 0,o=void 0,"object"===typeof e[n])a.push({className:e[n].className,defaultValue:e[n].defaultValue,onUpdate:e[n].onUpdate});else{var s=e[n];"words"===s?(o=function(e){e.innerHTML=Z(i.getValue())},r=function(e){e.innerHTML=Z(i.getValue())}):"lines"===s?(o=function(e){e.innerHTML=i.lineCount()},r=function(e){e.innerHTML=i.lineCount()}):"cursor"===s?(o=function(e){e.innerHTML="0:0"},r=function(e){var t=i.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===s?o=function(e){void 0!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}:"upload-image"===s&&(o=function(e){e.innerHTML=t.imageTexts.sbInit}),a.push({className:s,defaultValue:o,onUpdate:r})}var l=document.createElement("div");for(l.className="editor-statusbar",n=0;n<a.length;n++){var c=a[n],u=document.createElement("span");u.className=c.className,"function"===typeof c.defaultValue&&c.defaultValue(u),"function"===typeof c.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(u,c)),l.appendChild(u)}var h=this.codemirror.getWrapperElement();return h.parentNode.insertBefore(l,h.nextSibling),l}},ae.prototype.value=function(e){var t=this.codemirror;if(void 0===e)return t.getValue();if(t.getDoc().setValue(e),this.isPreviewActive()){var i=t.getWrapperElement(),n=i.lastChild;n.innerHTML=this.options.previewRender(e,n)}return this},ae.toggleBold=w,ae.toggleItalic=k,ae.toggleStrikethrough=C,ae.toggleBlockquote=T,ae.toggleHeadingSmaller=D,ae.toggleHeadingBigger=A,ae.toggleHeading1=E,ae.toggleHeading2=I,ae.toggleHeading3=L,ae.toggleCodeBlock=S,ae.toggleUnorderedList=M,ae.toggleOrderedList=O,ae.cleanBlock=_,ae.drawLink=P,ae.drawImage=$,ae.drawTable=N,ae.drawHorizontalRule=R,ae.undo=j,ae.redo=V,ae.togglePreview=U,ae.toggleSideBySide=H,ae.toggleFullScreen=x,ae.prototype.toggleBold=function(){w(this)},ae.prototype.toggleItalic=function(){k(this)},ae.prototype.toggleStrikethrough=function(){C(this)},ae.prototype.toggleBlockquote=function(){T(this)},ae.prototype.toggleHeadingSmaller=function(){D(this)},ae.prototype.toggleHeadingBigger=function(){A(this)},ae.prototype.toggleHeading1=function(){E(this)},ae.prototype.toggleHeading2=function(){I(this)},ae.prototype.toggleHeading3=function(){L(this)},ae.prototype.toggleCodeBlock=function(){S(this)},ae.prototype.toggleUnorderedList=function(){M(this)},ae.prototype.toggleOrderedList=function(){O(this)},ae.prototype.cleanBlock=function(){_(this)},ae.prototype.drawLink=function(){P(this)},ae.prototype.drawImage=function(){$(this)},ae.prototype.drawTable=function(){N(this)},ae.prototype.drawHorizontalRule=function(){R(this)},ae.prototype.undo=function(){j(this)},ae.prototype.redo=function(){V(this)},ae.prototype.togglePreview=function(){U(this)},ae.prototype.toggleSideBySide=function(){H(this)},ae.prototype.toggleFullScreen=function(){x(this)},ae.prototype.isPreviewActive=function(){var e=this.codemirror,t=e.getWrapperElement(),i=t.lastChild;return/editor-preview-active/.test(i.className)},ae.prototype.isSideBySideActive=function(){var e=this.codemirror,t=e.getWrapperElement(),i=t.nextSibling;return/editor-preview-active-side/.test(i.className)},ae.prototype.isFullscreenActive=function(){var e=this.codemirror;return e.getOption("fullScreen")},ae.prototype.getState=function(){var e=this.codemirror;return y(e)},ae.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},e.exports=ae},d5e0:function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(n,r){var o,a,s=n.indentUnit,l={},c=r.htmlMode?t:i;for(var u in c)l[u]=c[u];for(var u in r)l[u]=r[u];function h(e,t){function i(i){return t.tokenize=i,i(e,t)}var n,r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?i(f("atom","]]>")):null:e.match("--")?i(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=d,"tag bracket"):"&"==r?(n=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),n?"atom":"error"):(e.eatWhile(/[^&<]/),null)}function d(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=h,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){t.tokenize=h,t.state=b,t.tagName=t.tagStart=null;var n=t.tokenize(e,t);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=p(i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(e){var t=function(t,i){while(!t.eol())if(t.next()==e){i.tokenize=d;break}return"string"};return t.isInAttribute=!0,t}function f(e,t){return function(i,n){while(!i.eol()){if(i.match(t)){n.tokenize=h;break}i.next()}return e}}function m(e){return function(t,i){var n;while(null!=(n=t.next())){if("<"==n)return i.tokenize=m(e+1),i.tokenize(t,i);if(">"==n){if(1==e){i.tokenize=h;break}return i.tokenize=m(e-1),i.tokenize(t,i)}}return"meta"}}function g(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function v(e){e.context&&(e.context=e.context.prev)}function y(e,t){var i;while(1){if(!e.context)return;if(i=e.context.tagName,!l.contextGrabbers.hasOwnProperty(i)||!l.contextGrabbers[i].hasOwnProperty(t))return;v(e)}}function b(e,t,i){return"openTag"==e?(i.tagStart=t.column(),x):"closeTag"==e?w:b}function x(e,t,i){return"word"==e?(i.tagName=t.current(),a="tag",S):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",S(e,t,i)):(a="error",x)}function w(e,t,i){if("word"==e){var n=t.current();return i.context&&i.context.tagName!=n&&l.implicitlyClosed.hasOwnProperty(i.context.tagName)&&v(i),i.context&&i.context.tagName==n||!1===l.matchClosing?(a="tag",k):(a="tag error",C)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",k(e,t,i)):(a="error",C)}function k(e,t,i){return"endTag"!=e?(a="error",k):(v(i),b)}function C(e,t,i){return a="error",k(e,t,i)}function S(e,t,i){if("word"==e)return a="attribute",T;if("endTag"==e||"selfcloseTag"==e){var n=i.tagName,r=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(n)?y(i,n):(y(i,n),i.context=new g(i,n,r==i.indented)),b}return a="error",S}function T(e,t,i){return"equals"==e?D:(l.allowMissing||(a="error"),S(e,t,i))}function D(e,t,i){return"string"==e?A:"word"==e&&l.allowUnquoted?(a="string",S):(a="error",S(e,t,i))}function A(e,t,i){return"string"==e?A:S(e,t,i)}return h.isInText=!0,{startState:function(e){var t={tokenize:h,state:b,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var i=t.tokenize(e,t);return(i||o)&&"comment"!=i&&(a=null,t.state=t.state(o||i,e,t),a&&(i="error"==a?i+" error":a)),i},indent:function(t,i,n){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=d&&t.tokenize!=h)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var o=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(o&&o[1])while(r){if(r.tagName==o[2]){r=r.prev;break}if(!l.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(o)while(r){var a=l.contextGrabbers[r.tagName];if(!a||!a.hasOwnProperty(o[2]))break;r=r.prev}while(r&&r.prev&&!r.startOfLine)r=r.prev;return r?r.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==D&&(e.state=S)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],i=e.context;i;i=i.prev)i.tagName&&t.push(i.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}))},d7d5:function(e,t,i){(function(e){e(i("56b3"))})((function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function i(e){t(e);var i=e.state.placeholder=document.createElement("pre");i.style.cssText="height: 0; overflow: visible",i.style.direction=e.getOption("direction"),i.className="CodeMirror-placeholder CodeMirror-line-like";var n=e.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),i.appendChild(n),e.display.lineSpace.insertBefore(i,e.display.lineSpace.firstChild)}function n(e){o(e)&&i(e)}function r(e){var n=e.getWrapperElement(),r=o(e);n.className=n.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?i(e):t(e)}function o(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",(function(i,o,a){var s=a&&a!=e.Init;if(o&&!s)i.on("blur",n),i.on("change",r),i.on("swapDoc",r),r(i);else if(!o&&s){i.off("blur",n),i.off("change",r),i.off("swapDoc",r),t(i);var l=i.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}o&&!i.hasFocus()&&n(i)}))}))},d951:function(e,t,i){},e0c7:function(e,t,i){"use strict";i("0bc6");var n=i("7560"),r=i("58df");t["a"]=Object(r["a"])(n["a"]).extend({name:"v-subheader",props:{inset:Boolean},render(e){return e("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},e143:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card-action",[i("h2",{staticClass:"flex text--secondary"},[e._v("Change Password for "+e._s(e.userData.username))]),i("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{name:"oldPassword",label:"Old Password",type:"password",autofocus:"",rules:e.rules},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),i("v-text-field",{attrs:{name:"newPassword",label:"New Password",type:"password",rules:e.rules},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),i("v-text-field",{attrs:{name:"repeatPassword",label:"Repeat Password",type:"password",rules:e.repeatRules},model:{value:e.repeatPassword,callback:function(t){e.repeatPassword=t},expression:"repeatPassword"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"warning",loading:e.loading,disabled:!e.valid},on:{click:e.changePassword}},[e._v("Change")])],1)],1)},r=[],o=(i("99af"),i("d3b7"),i("90b9")),a=[function(e){return!!e||"Required"},function(e){return e&&e.length>4&&e.length<20||"Length is not valid"}],s={name:"change-password",props:["userData","toast"],data:function(){var e=this;return{loading:!1,oldPassword:"",newPassword:"",repeatPassword:"",valid:!1,rules:a,repeatRules:a.concat([function(t){return t===e.newPassword||"Repeat password should equal to new password"}])}},methods:{changePassword:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,o["a"].fetchJSONWithSuccess(o["a"].apiFor("user","change"),"POST",{username:this.userData.username,oldPassword:this.oldPassword,newPassword:this.newPassword},!1).then((function(t){e.toast("Success!","success"),e.$router.go(-1)})).catch((function(t){e.toast(t,"error")})).finally((function(t){e.loading=!1})))}}},l=s,c=i("2877"),u=i("6544"),h=i.n(u),d=i("8336"),p=i("99d9"),f=i("4bd4"),m=i("2fa4"),g=i("8654"),v=Object(c["a"])(l,n,r,!1,null,"d19c8c56",null);t["default"]=v.exports;h()(v,{VBtn:d["a"],VCardActions:p["a"],VForm:f["a"],VSpacer:m["a"],VTextField:g["a"]})},e4cb:function(e,t,i){},e53cf:function(e,t,i){},e5fb:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",e._l(e.images,(function(t,n){return i("v-col",{key:n,attrs:{cols:3}},[i("v-card",{attrs:{loading:e.imagesAreLoading.includes(t),disabled:e.imagesAreLoading.includes(t)}},[i("v-img",{attrs:{src:t.url}},[i("v-card-title",[i("v-chip",[e._v(e._s(t.channel))])],1)],1),i("v-card-actions",[i("span",{staticClass:"text-truncate"},[e._v(e._s(t.fileName))]),e.deletionFailures.includes(t)?i("v-btn",{attrs:{color:"error","x-small":"",fab:""},on:{click:function(i){return e.removeImage(t)}}},[i("v-icon",[e._v("clear")])],1):e._e(),i("v-spacer"),t.deleteKey?i("v-btn",{attrs:{color:"error",icon:""},on:{click:function(i){return e.requestRemoveImage(t)}}},[i("v-icon",[e._v("delete")])],1):e._e(),i("v-btn",{attrs:{icon:"",href:t.url}},[i("v-icon",[e._v("share")])],1)],1)],1)],1)})),1)},r=[],o=(i("99af"),i("4de4"),i("96cf"),i("1da1")),a=i("2b0e"),s=i("f6f0"),l=a["default"].extend({props:{images:{type:Array},notify:{type:Function,required:!1}},model:{prop:"images",event:"change-image"},data:function(){return{imagesAreLoading:[],deletionFailures:[]}},methods:{alterImageTo:function(e){this.$emit("change-image",e)},removeImage:function(e){this.alterImageTo(this.images.filter((function(t){return t!==e})))},requestRemoveImage:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.deleteKey){i.next=2;break}return i.abrupt("return");case 2:return t.imagesAreLoading=t.imagesAreLoading.concat(e),i.prev=3,i.next=6,Object(s["c"])(e.deleteKey,e.channel);case 6:t.removeImage(e),t.sendNotify("Image ".concat(e.fileName," deleted."),"success"),i.next=15;break;case 10:i.prev=10,i.t0=i["catch"](3),t.imagesAreLoading=t.imagesAreLoading.filter((function(t){return t!==e})),t.deletionFailures=t.deletionFailures.concat(e),t.sendNotify(i.t0,"error");case 15:case"end":return i.stop()}}),i,null,[[3,10]])})))()},sendNotify:function(e,t){this.notify&&this.notify(e,t)}},watch:{images:{handler:function(e){var t=e.filter((function(e){return e.loading}));t.length&&(this.imagesAreLoading=this.imagesAreLoading.concat(t))},immediate:!0}}}),c=l,u=i("2877"),h=i("6544"),d=i.n(h),p=i("8336"),f=i("b0af"),m=i("99d9"),g=i("cc20"),v=i("62ad"),y=i("132d"),b=i("adda"),x=i("0fd9"),w=i("2fa4"),k=Object(u["a"])(c,n,r,!1,null,null,null);t["a"]=k.exports;d()(k,{VBtn:p["a"],VCard:f["a"],VCardActions:m["a"],VCardTitle:m["c"],VChip:g["a"],VCol:v["a"],VIcon:y["a"],VImg:b["a"],VRow:x["a"],VSpacer:w["a"]})},e635:function(e,t,i){},ea65:function(e,t,i){"use strict";var n=i("4a5d");function r(e){e=e||{},"function"===typeof e.codeMirrorInstance&&"function"===typeof e.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),e.codeMirrorInstance.defineMode("spell-checker",(function(t){if(!r.aff_loading){r.aff_loading=!0;var i=new XMLHttpRequest;i.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),i.onload=function(){4===i.readyState&&200===i.status&&(r.aff_data=i.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new n("en_US",r.aff_data,r.dic_data,{platform:"any"})))},i.send(null)}if(!r.dic_loading){r.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(r.dic_data=o.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new n("en_US",r.aff_data,r.dic_data,{platform:"any"})))},o.send(null)}var a='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',s={token:function(e){var t=e.peek(),i="";if(a.includes(t))return e.next(),null;while(null!=(t=e.peek())&&!a.includes(t))i+=t,e.next();return r.typo&&!r.typo.check(i)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,s,!0)}))):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}r.num_loaded=0,r.aff_loading=!1,r.dic_loading=!1,r.aff_data="",r.dic_data="",r.typo,e.exports=r},ec29:function(e,t,i){},ed10:function(e,t,i){var n=i("56b3");n.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections(),i=t[0].head,n=e.getStateAfter(i.line),r=!1!==n.list;if(r)e.execCommand("indentMore");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var o=Array(e.options.tabSize+1).join(" ");e.replaceSelection(o)}},n.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections(),i=t[0].head,n=e.getStateAfter(i.line),r=!1!==n.list;if(r)e.execCommand("indentLess");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var o=Array(e.options.tabSize+1).join(" ");e.replaceSelection(o)}}},f040:function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var i=e.modeInfo[t];i.mimes&&(i.mime=i.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.mime==t)return n;if(n.mimes)for(var r=0;r<n.mimes.length;r++)if(n.mimes[r]==t)return n}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.ext)for(var r=0;r<n.ext.length;r++)if(n.ext[r]==t)return n}},e.findModeByFileName=function(t){for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.file&&n.file.test(t))return n}var r=t.lastIndexOf("."),o=r>-1&&t.substring(r+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.name.toLowerCase()==t)return n;if(n.alias)for(var r=0;r<n.alias.length;r++)if(n.alias[r].toLowerCase()==t)return n}}}))},f6f0:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"d",(function(){return u})),i.d(t,"c",(function(){return h}));i("96cf");var n=i("1da1"),r=i("7c2c"),o=i("90b9"),a=i("6196"),s="roselia",l=function(){var e=void 0;return function(){return e||(e=o["a"].fetchJSONWithSuccess(o["a"].apiFor("pic","channels"))),e}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:s,e.abrupt("return",Object(r["a"])("get","pic/".concat(t,"/list"))({}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i,n,r,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=l.length>1&&void 0!==l[1]?l[1]:s,n=l.length>2?l[2]:void 0,r=new FormData,n&&r.append("to",n),r.append("file",t),r.append("token",o["a"].getLoginData().token),e.next=8,a["a"].post(o["a"].apiFor("pic",i,"upload"),r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return Object(r["a"])("post","pic/".concat(t,"/remove"))({fileName:e})}},f823:function(e,t,i){},fad0:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("v-row",{attrs:{wrap:""}},[i("div",[i("div",[i("h1",[e._v("Clear All Drafts")]),i("v-col",{attrs:{md:"12",lg:"12"}},[i("v-alert",{attrs:{value:!0,type:"warning"}},[e._v(" This will remove all post drafts and this action can not be undone. ")])],1),i("v-btn",{attrs:{color:"warning"},on:{click:e.removeDrafts,mouseleave:function(t){e.confirmClear=!1}}},[i("v-icon",[e._v("delete_sweep")]),e._v(" "+e._s(e.confirmClear?"Yes, ":"")+"Clear ")],1)],1)]),i("v-col",{attrs:{xs:"12",sm:"12"}},[e.drafts.length?i("div",[i("h1",[e._v("Manage Drafts")])]):e._e(),i("v-row",{attrs:{wrap:""}},[i("v-col",{attrs:{md:"6",sm:"12"}},e._l(e.drafts,(function(t){return i("v-scale-transition",{key:t.id},[i("v-card",{staticClass:"round-corner-card primary-card-gradient",attrs:{hover:"",dark:"",shaped:""}},[t.img?i("v-img",{attrs:{src:t.img}}):e._e(),i("v-card-title",{attrs:{"primary-title":""}},[i("div",[t.id?i("span",[e._v("#"+e._s(t.id))]):i("span",[e._v("New Post")]),i("h1",{staticClass:"headline"},[e._v(e._s(t.title||"Untitled"))]),i("h2",[e._v(" "+e._s(t.subtitle)+" ")]),t.author?i("span",[e._v(" "+e._s(t.author.nickname)+" ")]):i("span",[e._v(e._s(e.userData.nickname))])])]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{icon:"",to:{name:"edit",query:{post:t.id}}}},[i("v-icon",[e._v("mode_edit")])],1),i("v-btn",{attrs:{icon:""},on:{click:function(i){return e.removeDraft(t.id)}}},[i("v-icon",[e._v("delete")])],1)],1)],1)],1)})),1)],1)],1)],1)],1)},r=[],o=(i("4de4"),i("4160"),i("a630"),i("d81d"),i("d3b7"),i("3ca3"),i("2ca0"),i("159b"),i("ddb0"),{name:"DraftManage",props:{toast:Function,userData:Object},data:function(){return{drafts:[],confirmClear:!1}},methods:{removeDrafts:function(){if(this.confirmClear){this.confirmClear=!1;var e=localStorage;Array.from(Array(e.length).keys()).map(e.key.bind(e)).filter((function(e){return e.startsWith("postDraft")})).forEach((function(t){e.removeItem(t)})),this.toast("Drafts cleaned!","success"),this.loadDrafts()}else this.confirmClear=!0},loadDrafts:function(){var e=localStorage;this.drafts=Array.from(Array(e.length).keys()).map(e.key.bind(e)).filter((function(e){return e.startsWith("postDraft")})).map((function(t){return JSON.parse(e.getItem(t)).data}))},removeDraft:function(e){localStorage.removeItem("postDraft#".concat(e)),this.loadDrafts()}},computed:{},mounted:function(){this.loadDrafts()}}),a=o,s=(i("6155"),i("2877")),l=i("6544"),c=i.n(l),u=i("0798"),h=i("8336"),d=i("b0af"),p=i("99d9"),f=i("62ad"),m=i("a523"),g=i("132d"),v=i("adda"),y=i("0fd9"),b=i("0789"),x=i("2fa4"),w=Object(s["a"])(a,n,r,!1,null,"4d4a5867",null);t["default"]=w.exports;c()(w,{VAlert:u["a"],VBtn:h["a"],VCard:d["a"],VCardActions:p["a"],VCardTitle:p["c"],VCol:f["a"],VContainer:m["a"],VIcon:g["a"],VImg:v["a"],VRow:y["a"],VScaleTransition:b["e"],VSpacer:x["a"]})},fdab:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"text-center fill-height",attrs:{fluid:"","grid-list-md":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-col",{attrs:{cols:"12"}},[i("h3",{staticClass:"display-3"},[e._v("Welcome to "),i("strong",{staticClass:"primary--text"},[e._v(e._s(e.title))])]),i("span",{staticClass:"subtitle-1"},[e._v(e._s(e.motto))]),i("v-divider",{staticClass:"my-3"}),e.loading?i("div",[i("div",{staticClass:"title mb-3"},[e._v("Please standby...")]),i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e.isFirstRun?i("div",[i("div",{staticClass:"title mb-3"},[e._v("Add first user to continue.")]),i("v-btn",{staticClass:"mx-0",attrs:{color:"primary",large:"",to:{name:"userManagement",params:{firstRun:!0}}}},[e._v(" Add user ")])],1):i("div",[i("div",{staticClass:"title mb-3"},[e._v("Great! You are now prepared to "),i("strong",{staticClass:"primary--text"},[e._v(e._s(e.title))])]),i("v-btn",{staticClass:"mx-0",attrs:{color:"secondary",large:"",to:{name:"index"}}},[e._v(" Go to "+e._s(e.title)+" ")])],1)],1)],1)],1)},r=[],o=(i("d3b7"),i("5530")),a=i("a49b"),s=i("90b9"),l={name:"HelloWorld",data:function(){return{title:a["a"].title,motto:a["a"].motto,loading:!0,isFirstRun:!1}},methods:{getFirstRunData:function(){var e=this;s["a"].fetchJSONWithSuccess(s["a"].apiFor("firstrun")).then((function(t){e.isFirstRun=!0,s["a"].setLoginData(Object(o["a"])(Object(o["a"])({nickname:"Minato Yukina"},t),{},{su_token:void 0})),s["a"].saveSUToken(t.su_token)})).finally((function(t){e.loading=!1}))}},mounted:function(){this.getFirstRunData()}},c=l,u=i("2877"),h=i("6544"),d=i.n(h),p=i("8336"),f=i("62ad"),m=i("a523"),g=i("ce7e"),v=i("490a"),y=i("0fd9"),b=Object(u["a"])(c,n,r,!1,null,"62fa0a28",null);t["default"]=b.exports;d()(b,{VBtn:p["a"],VCol:f["a"],VContainer:m["a"],VDivider:g["a"],VProgressCircular:v["a"],VRow:y["a"]})}}]);
//# sourceMappingURL=fire-bird.96f15ecf.js.map