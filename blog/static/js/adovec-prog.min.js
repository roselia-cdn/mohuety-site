"use strict";function AdvBar(t,e){this.percent=0,this.backColor=t,this.frontColor=e,this.done=!0,this.parent=null,this.createBar=function(t){if(this.done){this.done=!1,t&&(this.parent=t);var e=document.createElement("div");e.setAttribute("class","progress"),e.style.margin=0,t||(e.style.position="fixed"),e.style.transition="opacity 500ms ease",e.style.zIndex=2;var s=document.createElement("div");s.setAttribute("class","determinate"),this.elem=s,this.setProgress(0),this.bar=e,this.setColor(this.backColor,this.frontColor),this.bar.append(this.elem),t?t.insertBefore(this.bar,t.firstChild):document.body.insertBefore(this.bar,document.body.firstChild)}},this.setColor=function(t,e){this.backColor=t||this.backColor||"#b388ff",this.frontColor=e||this.frontColor||"#7c4dff",this.bar&&(this.bar.style.backgroundColor=this.backColor),this.elem&&(this.elem.style.backgroundColor=this.frontColor)},this.setProgress=function(t){this.percent=t,this.elem&&(this.elem.style.width=(t||0)+"%")},this.addProgress=function(t){this.setProgress(this.percent+=t)},this.finish=function(){var t=this;this.bar&&!this.done&&(this.done=!0,this.setProgress(100),window.setTimeout(function(){return t.bar.style.opacity=0},500),window.setTimeout(function(){return t.parent?t.parent.removeChild(t.bar):document.body.removeChild(t.bar)},1e3))},this.abort=function(t,e){var s=this;this.setColor(t||"#ff80ab",e||"#c51162"),window.setTimeout(function(){return s.finish()},500)},window.jQuery&&(this.startAnimate=function(){return this.bar&&!this.done||this.createBar(),this.done=!1,jQuery(this).animate({percent:80},{duration:1500,step:function(){var t=Math.floor(this.percent);this.setProgress(t)},easing:"swing"}).animate({percent:90},{duration:3e3,step:function(){var t=Math.floor(this.percent);this.setProgress(t)},easing:"swing"}).animate({percent:97},{duration:5e3,step:function(){var t=Math.floor(this.percent);this.setProgress(t)},easing:"swing"}),this},this.stopAnimate=function(){jQuery(this).stop(!0,!0),this.finish()})}